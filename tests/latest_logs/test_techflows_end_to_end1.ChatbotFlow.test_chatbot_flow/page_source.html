<base href="https://www.dazn.com">
<html><head><title>DAZN</title><meta class="protected" charset="utf-8"><meta class="protected" http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content=""><meta class="protected" name="viewport" content="width=device-width,initial-scale=1"><base href="/"><link class="protected" rel="preconnect" href="https://optmzly.fe.indazn.com/datafiles/2en9cd458VXYuiT2qTPGh6.json"> <!--ignore-minification-start-->
    <script type="text/javascript" src="https://bam-cell.nr-data.net/1/c19d614eaa?a=928521288&amp;sa=1&amp;v=1215.1253ab8&amp;t=Unnamed%20Transaction&amp;rst=474&amp;ck=0&amp;ref=https://www.dazn.com/help&amp;be=406&amp;fe=463&amp;dc=460&amp;af=err,xhr,stn,ins,spa&amp;perf=%7B%22timing%22:%7B%22of%22:1701963974462,%22n%22:0,%22u%22:389,%22ue%22:389,%22f%22:2,%22dn%22:2,%22dne%22:2,%22c%22:2,%22ce%22:2,%22rq%22:3,%22rp%22:373,%22rpe%22:427,%22dl%22:400,%22di%22:460,%22ds%22:460,%22de%22:460,%22dc%22:463,%22l%22:463,%22le%22:464%7D,%22navigation%22:%7B%7D%7D&amp;ja=%7B%22sessionId%22:%2244f54904-8ae5-4c72-8491-c194e89bcd45%22,%22boot.launch.target%22:%22web%22,%22boot.launch.version.bootstrap%22:%2228.6.0%22,%22boot.launch.version.target%22:%2228.6.0%22,%22platform%22:%22web%22,%22manufacturer%22:%22%22,%22environmentGroup%22:%22live%22,%22deviceId%22:%22007409a441%22,%22randomABPoint%22:0.6282807799168995%7D&amp;jsonp=NREUM.setToken"></script><script src="https://js-agent.newrelic.com/nr-spa-1215.min.js"></script><script class="protected">;window.NREUM||(NREUM={});NREUM.init={distributed_tracing:{enabled:true,exclude_newrelic_header:true,cors_use_newrelic_header:false,cors_use_tracecontext_headers:true,allowed_origins:['https://startup.core.indazn.com']},privacy:{cookies_enabled:false},ajax:{deny_list:["bam-cell.nr-data.net", "akamaized.net", "bam.nr-data.net", "conviva.com", "cookielaw.org", "daznedge.net", "google-analytics.com", "google.com", "telefonica.com"]}}
;NREUM.loader_config={accountID:"2364732",trustKey:"2631807",agentID:"928521288",licenseKey:"c19d614eaa",applicationID:"928521288"}
;NREUM.info={beacon:"bam-cell.nr-data.net",errorBeacon:"bam-cell.nr-data.net",licenseKey:"c19d614eaa",applicationID:"928521288",sa:1}
;window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{s.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(32),s={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(s.console=!0,o.indexOf("dev")!==-1&&(s.dev=!0),o.indexOf("nr_dev")!==-1&&(s.nrDev=!0))}catch(c){}s.nrDev&&i.on("internal-error",function(t){r(t.stack)}),s.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),s.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(s,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,s){try{l?l-=1:o(s||new UncaughtException(t,e,n),!0)}catch(f){try{i("ierr",[f,c.now(),!0])}catch(d){}}return"function"==typeof u&&u.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t,e){var n=e?null:c.now();i("err",[t,n])}var i=t("handle"),a=t(33),s=t("ee"),c=t("loader"),f=t("gos"),u=window.onerror,d=!1,p="nr@seenError";if(!c.disabled){var l=0;c.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(h){"stack"in h&&(t(14),t(13),"addEventListener"in window&&t(7),c.xhrWrappable&&t(15),d=!0)}s.on("fn-start",function(t,e,n){d&&(l+=1)}),s.on("fn-err",function(t,e,n){d&&!n[p]&&(f(n,p,function(){return!0}),this.thrown=!0,o(n))}),s.on("fn-end",function(){d&&!this.thrown&&l>0&&(l-=1)}),s.on("internal-error",function(t){i("ierr",[t,c.now(),!0])})}},{}],3:[function(t,e,n){var r=t("loader");r.disabled||(r.features.ins=!0)},{}],4:[function(t,e,n){function r(){U++,L=g.hash,this[u]=y.now()}function o(){U--,g.hash!==L&&i(0,!0);var t=y.now();this[h]=~~this[h]+t-this[u],this[d]=t}function i(t,e){E.emit("newURL",[""+g,e])}function a(t,e){t.on(e,function(){this[e]=y.now()})}var s="-start",c="-end",f="-body",u="fn"+s,d="fn"+c,p="cb"+s,l="cb"+c,h="jsTime",m="fetch",v="addEventListener",w=window,g=w.location,y=t("loader");if(w[v]&&y.xhrWrappable&&!y.disabled){var x=t(11),b=t(12),E=t(9),R=t(7),O=t(14),T=t(8),S=t(15),P=t(10),M=t("ee"),C=M.get("tracer"),N=t(23);t(17),y.features.spa=!0;var L,U=0;M.on(u,r),b.on(p,r),P.on(p,r),M.on(d,o),b.on(l,o),P.on(l,o),M.buffer([u,d,"xhr-resolved"]),R.buffer([u]),O.buffer(["setTimeout"+c,"clearTimeout"+s,u]),S.buffer([u,"new-xhr","send-xhr"+s]),T.buffer([m+s,m+"-done",m+f+s,m+f+c]),E.buffer(["newURL"]),x.buffer([u]),b.buffer(["propagate",p,l,"executor-err","resolve"+s]),C.buffer([u,"no-"+u]),P.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"]),a(T,m+s),a(T,m+"-done"),a(P,"new-jsonp"),a(P,"jsonp-end"),a(P,"cb-start"),E.on("pushState-end",i),E.on("replaceState-end",i),w[v]("hashchange",i,N(!0)),w[v]("load",i,N(!0)),w[v]("popstate",function(){i(0,U>1)},N(!0))}},{}],5:[function(t,e,n){function r(){var t=new PerformanceObserver(function(t,e){var n=t.getEntries();s(v,[n])});try{t.observe({entryTypes:["resource"]})}catch(e){}}function o(t){if(s(v,[window.performance.getEntriesByType(w)]),window.performance["c"+p])try{window.performance[h](m,o,!1)}catch(t){}else try{window.performance[h]("webkit"+m,o,!1)}catch(t){}}function i(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var a=t("ee"),s=t("handle"),c=t(14),f=t(13),u=t(6),d=t(23),p="learResourceTimings",l="addEventListener",h="removeEventListener",m="resourcetimingbufferfull",v="bstResource",w="resource",g="-start",y="-end",x="fn"+g,b="fn"+y,E="bstTimer",R="pushState",O=t("loader");if(!O.disabled){O.features.stn=!0,t(9),"addEventListener"in window&&t(7);var T=NREUM.o.EV;a.on(x,function(t,e){var n=t[0];n instanceof T&&(this.bstStart=O.now())}),a.on(b,function(t,e){var n=t[0];n instanceof T&&s("bst",[n,e,this.bstStart,O.now()])}),c.on(x,function(t,e,n){this.bstStart=O.now(),this.bstType=n}),c.on(b,function(t,e){s(E,[e,this.bstStart,O.now(),this.bstType])}),f.on(x,function(){this.bstStart=O.now()}),f.on(b,function(t,e){s(E,[e,this.bstStart,O.now(),"requestAnimationFrame"])}),a.on(R+g,function(t){this.time=O.now(),this.startPath=location.pathname+location.hash}),a.on(R+y,function(t){s("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),u()?(s(v,[window.performance.getEntriesByType("resource")]),r()):l in window.performance&&(window.performance["c"+p]?window.performance[l](m,o,d(!1)):window.performance[l]("webkit"+m,o,d(!1))),document[l]("scroll",i,d(!1)),document[l]("keypress",i,d(!1)),document[l]("click",i,d(!1))}}},{}],6:[function(t,e,n){e.exports=function(){return"PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver}},{}],7:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){s.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),s=t("wrap-function")(a,!0),c=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1];if(null!==n&&("function"==typeof n||"object"==typeof n)){var r=c(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?s(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],8:[function(t,e,n){function r(t,e,n){var r=t[e];"function"==typeof r&&(t[e]=function(){var t=i(arguments),e={};o.emit(n+"before-start",[t],e);var a;e[m]&&e[m].dt&&(a=e[m].dt);var s=r.apply(this,t);return o.emit(n+"start",[t,a],s),s.then(function(t){return o.emit(n+"end",[null,t],s),t},function(t){throw o.emit(n+"end",[t],s),t})})}var o=t("ee").get("fetch"),i=t(33),a=t(32);e.exports=o;var s=window,c="fetch-",f=c+"body-",u=["arrayBuffer","blob","json","text","formData"],d=s.Request,p=s.Response,l=s.fetch,h="prototype",m="nr@context";d&&p&&l&&(a(u,function(t,e){r(d[h],e,f),r(p[h],e,f)}),r(s,"fetch",c),o.on(c+"end",function(t,e){var n=this;if(e){var r=e.headers.get("content-length");null!==r&&(n.rxSize=r),o.emit(c+"done",[null,e],n)}else o.emit(c+"done",[t],n)}))},{}],9:[function(t,e,n){var r=t("ee").get("history"),o=t("wrap-function")(r);e.exports=r;var i=window.history&&window.history.constructor&&window.history.constructor.prototype,a=window.history;i&&i.pushState&&i.replaceState&&(a=i),o.inPlace(a,["pushState","replaceState"],"-")},{}],10:[function(t,e,n){function r(t){function e(){f.emit("jsonp-end",[],l),t.removeEventListener("load",e,c(!1)),t.removeEventListener("error",n,c(!1))}function n(){f.emit("jsonp-error",[],l),f.emit("jsonp-end",[],l),t.removeEventListener("load",e,c(!1)),t.removeEventListener("error",n,c(!1))}var r=t&&"string"==typeof t.nodeName&&"script"===t.nodeName.toLowerCase();if(r){var o="function"==typeof t.addEventListener;if(o){var a=i(t.src);if(a){var d=s(a),p="function"==typeof d.parent[d.key];if(p){var l={};u.inPlace(d.parent,[d.key],"cb-",l),t.addEventListener("load",e,c(!1)),t.addEventListener("error",n,c(!1)),f.emit("new-jsonp",[t.src],l)}}}}}function o(){return"addEventListener"in window}function i(t){var e=t.match(d);return e?e[1]:null}function a(t,e){var n=t.match(l),r=n[1],o=n[3];return o?a(o,e[r]):e[r]}function s(t){var e=t.match(p);return e&&e.length>=3?{key:e[2],parent:a(e[1],window)}:{key:t,parent:window}}var c=t(23),f=t("ee").get("jsonp"),u=t("wrap-function")(f);if(e.exports=f,o()){var d=/[?&](?:callback|cb)=([^&#]+)/,p=/(.*)\.([^.]+)/,l=/^(\w+)(\.|$)(.*)$/,h=["appendChild","insertBefore","replaceChild"];Node&&Node.prototype&&Node.prototype.appendChild?u.inPlace(Node.prototype,h,"dom-"):(u.inPlace(HTMLElement.prototype,h,"dom-"),u.inPlace(HTMLHeadElement.prototype,h,"dom-"),u.inPlace(HTMLBodyElement.prototype,h,"dom-")),f.on("dom-start",function(t){r(t[0])})}},{}],11:[function(t,e,n){var r=t("ee").get("mutation"),o=t("wrap-function")(r),i=NREUM.o.MO;e.exports=r,i&&(window.MutationObserver=function(t){return this instanceof i?new i(o(t,"fn-")):i.apply(this,arguments)},MutationObserver.prototype=i.prototype)},{}],12:[function(t,e,n){function r(t){var e=i.context(),n=s(t,"executor-",e,null,!1),r=new f(n);return i.context(r).getCtx=function(){return e},r}var o=t("wrap-function"),i=t("ee").get("promise"),a=t("ee").getOrSetContext,s=o(i),c=t(32),f=NREUM.o.PR;e.exports=i,f&&(window.Promise=r,["all","race"].forEach(function(t){var e=f[t];f[t]=function(n){function r(t){return function(){i.emit("propagate",[null,!o],a,!1,!1),o=o||!t}}var o=!1;c(n,function(e,n){Promise.resolve(n).then(r("all"===t),r(!1))});var a=e.apply(f,arguments),s=f.resolve(a);return s}}),["resolve","reject"].forEach(function(t){var e=f[t];f[t]=function(t){var n=e.apply(f,arguments);return t!==n&&i.emit("propagate",[t,!0],n,!1,!1),n}}),f.prototype["catch"]=function(t){return this.then(null,t)},f.prototype=Object.create(f.prototype,{constructor:{value:r}}),c(Object.getOwnPropertyNames(f),function(t,e){try{r[e]=f[e]}catch(n){}}),o.wrapInPlace(f.prototype,"then",function(t){return function(){var e=this,n=o.argsToArray.apply(this,arguments),r=a(e);r.promise=e,n[0]=s(n[0],"cb-",r,null,!1),n[1]=s(n[1],"cb-",r,null,!1);var c=t.apply(this,n);return r.nextPromise=c,i.emit("propagate",[e,!0],c,!1,!1),c}}),i.on("executor-start",function(t){t[0]=s(t[0],"resolve-",this,null,!1),t[1]=s(t[1],"resolve-",this,null,!1)}),i.on("executor-err",function(t,e,n){t[1](n)}),i.on("cb-end",function(t,e,n){i.emit("propagate",[n,!0],this.nextPromise,!1,!1)}),i.on("propagate",function(t,e,n){this.getCtx&&!e||(this.getCtx=function(){if(t instanceof Promise)var e=i.context(t);return e&&e.getCtx?e.getCtx():this})}),r.toString=function(){return""+f})},{}],13:[function(t,e,n){var r=t("ee").get("raf"),o=t("wrap-function")(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],14:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t("wrap-function")(i),s="setTimeout",c="setInterval",f="clearTimeout",u="-start",d="-";e.exports=i,a.inPlace(window,[s,"setImmediate"],s+d),a.inPlace(window,[c],c+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(c+u,r),i.on(s+u,o)},{}],15:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",s)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,y,"fn-",s)}function i(t){x.push(t),m&&(E?E.then(a):w?w(a):(R=-R,O.data=R))}function a(){for(var t=0;t<x.length;t++)r([],x[t]);x.length&&(x=[])}function s(t,e){return e}function c(t,e){for(var n in t)e[n]=t[n];return e}t(7);var f=t("ee"),u=f.get("xhr"),d=t("wrap-function")(u),p=t(23),l=NREUM.o,h=l.XHR,m=l.MO,v=l.PR,w=l.SI,g="readystatechange",y=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],x=[];e.exports=u;var b=window.XMLHttpRequest=function(t){var e=new h(t);try{u.emit("new-xhr",[e],e),e.addEventListener(g,o,p(!1))}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(c(h,b),b.prototype=h.prototype,d.inPlace(b.prototype,["open","send"],"-xhr-",s),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),m){var E=v&&v.resolve();if(!w&&!v){var R=1,O=document.createTextNode(R);new m(a).observe(O,{characterData:!0})}}else f.on("fn-end",function(t){t[0]&&t[0].type===g||a()})},{}],16:[function(t,e,n){function r(t){if(!s(t))return null;var e=window.NREUM;if(!e.loader_config)return null;var n=(e.loader_config.accountID||"").toString()||null,r=(e.loader_config.agentID||"").toString()||null,f=(e.loader_config.trustKey||"").toString()||null;if(!n||!r)return null;var h=l.generateSpanId(),m=l.generateTraceId(),v=Date.now(),w={spanId:h,traceId:m,timestamp:v};return(t.sameOrigin||c(t)&&p())&&(w.traceContextParentHeader=o(h,m),w.traceContextStateHeader=i(h,v,n,r,f)),(t.sameOrigin&&!u()||!t.sameOrigin&&c(t)&&d())&&(w.newrelicHeader=a(h,m,v,n,r,f)),w}function o(t,e){return"00-"+e+"-"+t+"-01"}function i(t,e,n,r,o){var i=0,a="",s=1,c="",f="";return o+"@nr="+i+"-"+s+"-"+n+"-"+r+"-"+t+"-"+a+"-"+c+"-"+f+"-"+e}function a(t,e,n,r,o,i){var a="btoa"in window&&"function"==typeof window.btoa;if(!a)return null;var s={v:[0,1],d:{ty:"Browser",ac:r,ap:o,id:t,tr:e,ti:n}};return i&&r!==i&&(s.d.tk=i),btoa(JSON.stringify(s))}function s(t){return f()&&c(t)}function c(t){var e=!1,n={};if("init"in NREUM&&"distributed_tracing"in NREUM.init&&(n=NREUM.init.distributed_tracing),t.sameOrigin)e=!0;else if(n.allowed_origins instanceof Array)for(var r=0;r<n.allowed_origins.length;r++){var o=h(n.allowed_origins[r]);if(t.hostname===o.hostname&&t.protocol===o.protocol&&t.port===o.port){e=!0;break}}return e}function f(){return"init"in NREUM&&"distributed_tracing"in NREUM.init&&!!NREUM.init.distributed_tracing.enabled}function u(){return"init"in NREUM&&"distributed_tracing"in NREUM.init&&!!NREUM.init.distributed_tracing.exclude_newrelic_header}function d(){return"init"in NREUM&&"distributed_tracing"in NREUM.init&&NREUM.init.distributed_tracing.cors_use_newrelic_header!==!1}function p(){return"init"in NREUM&&"distributed_tracing"in NREUM.init&&!!NREUM.init.distributed_tracing.cors_use_tracecontext_headers}var l=t(29),h=t(18);e.exports={generateTracePayload:r,shouldGenerateTrace:s}},{}],17:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<p;r++)t.removeEventListener(d[r],this.listener,!1);return e.protocol&&"data"===e.protocol?void g("Ajax/DataUrl/Excluded"):void(e.aborted||(n.duration=a.now()-this.startTime,this.loadCaptureCalled||4!==t.readyState?null==e.status&&(e.status=0):i(this,t),n.cbTime=this.cbTime,s("xhr",[e,n,this.startTime,this.endTime,"xhr"],this)))}}function o(t,e){var n=c(e),r=t.params;r.hostname=n.hostname,r.port=n.port,r.protocol=n.protocol,r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.parsedOrigin=n,t.sameOrigin=n.sameOrigin}function i(t,e){t.params.status=e.status;var n=v(e,t.lastSize);if(n&&(t.metrics.rxSize=n),t.sameOrigin){var r=e.getResponseHeader("X-NewRelic-App-Data");r&&(t.params.cat=r.split(", ").pop())}t.loadCaptureCalled=!0}var a=t("loader");if(a.xhrWrappable&&!a.disabled){var s=t("handle"),c=t(18),f=t(16).generateTracePayload,u=t("ee"),d=["load","error","abort","timeout"],p=d.length,l=t("id"),h=t(24),m=t(22),v=t(19),w=t(23),g=t(25).recordSupportability,y=NREUM.o.REQ,x=window.XMLHttpRequest;a.features.xhr=!0,t(15),t(8),u.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,e.loadCaptureCalled=!1,e.params=this.params||{},e.metrics=this.metrics||{},t.addEventListener("load",function(n){i(e,t)},w(!1)),h&&(h>34||h<10)||t.addEventListener("progress",function(t){e.lastSize=t.loaded},w(!1))}),u.on("open-xhr-start",function(t){this.params={method:t[0]},o(this,t[1]),this.metrics={}}),u.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid);var n=f(this.parsedOrigin);if(n){var r=!1;n.newrelicHeader&&(e.setRequestHeader("newrelic",n.newrelicHeader),r=!0),n.traceContextParentHeader&&(e.setRequestHeader("traceparent",n.traceContextParentHeader),n.traceContextStateHeader&&e.setRequestHeader("tracestate",n.traceContextStateHeader),r=!0),r&&(this.dt=n)}}),u.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=m(r);i&&(n.txSize=i)}this.startTime=a.now(),this.listener=function(t){try{"abort"!==t.type||o.loadCaptureCalled||(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}};for(var s=0;s<p;s++)e.addEventListener(d[s],this.listener,w(!1))}),u.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),u.on("xhr-load-added",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),u.on("xhr-load-removed",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),u.on("xhr-resolved",function(){this.endTime=a.now()}),u.on("addEventListener-end",function(t,e){e instanceof x&&"load"===t[0]&&u.emit("xhr-load-added",[t[1],t[2]],e)}),u.on("removeEventListener-end",function(t,e){e instanceof x&&"load"===t[0]&&u.emit("xhr-load-removed",[t[1],t[2]],e)}),u.on("fn-start",function(t,e,n){e instanceof x&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=a.now()))}),u.on("fn-end",function(t,e){this.xhrCbStart&&u.emit("xhr-cb-time",[a.now()-this.xhrCbStart,this.onload,e],e)}),u.on("fetch-before-start",function(t){function e(t,e){var n=!1;return e.newrelicHeader&&(t.set("newrelic",e.newrelicHeader),n=!0),e.traceContextParentHeader&&(t.set("traceparent",e.traceContextParentHeader),e.traceContextStateHeader&&t.set("tracestate",e.traceContextStateHeader),n=!0),n}var n,r=t[1]||{};"string"==typeof t[0]?n=t[0]:t[0]&&t[0].url?n=t[0].url:window.URL&&t[0]&&t[0]instanceof URL&&(n=t[0].href),n&&(this.parsedOrigin=c(n),this.sameOrigin=this.parsedOrigin.sameOrigin);var o=f(this.parsedOrigin);if(o&&(o.newrelicHeader||o.traceContextParentHeader))if("string"==typeof t[0]||window.URL&&t[0]&&t[0]instanceof URL){var i={};for(var a in r)i[a]=r[a];i.headers=new Headers(r.headers||{}),e(i.headers,o)&&(this.dt=o),t.length>1?t[1]=i:t.push(i)}else t[0]&&t[0].headers&&e(t[0].headers,o)&&(this.dt=o)}),u.on("fetch-start",function(t,e){this.params={},this.metrics={},this.startTime=a.now(),this.dt=e,t.length>=1&&(this.target=t[0]),t.length>=2&&(this.opts=t[1]);var n,r=this.opts||{},i=this.target;if("string"==typeof i?n=i:"object"==typeof i&&i instanceof y?n=i.url:window.URL&&"object"==typeof i&&i instanceof URL&&(n=i.href),o(this,n),"data"!==this.params.protocol){var s=(""+(i&&i instanceof y&&i.method||r.method||"GET")).toUpperCase();this.params.method=s,this.txSize=m(r.body)||0}}),u.on("fetch-done",function(t,e){if(this.endTime=a.now(),this.params||(this.params={}),"data"===this.params.protocol)return void g("Ajax/DataUrl/Excluded");this.params.status=e?e.status:0;var n;"string"==typeof this.rxSize&&this.rxSize.length>0&&(n=+this.rxSize);var r={txSize:this.txSize,rxSize:n,duration:a.now()-this.startTime};s("xhr",[this.params,r,this.startTime,this.endTime,"fetch"],this)})}},{}],18:[function(t,e,n){var r={};e.exports=function(t){if(t in r)return r[t];if(0===(t||"").indexOf("data:"))return{protocol:"data"};var e=document.createElement("a"),n=window.location,o={};e.href=t,o.port=e.port;var i=e.href.split("://");!o.port&&i[1]&&(o.port=i[1].split("/")[0].split("@").pop().split(":")[1]),o.port&&"0"!==o.port||(o.port="https"===i[0]?"443":"80"),o.hostname=e.hostname||n.hostname,o.pathname=e.pathname,o.protocol=i[0],"/"!==o.pathname.charAt(0)&&(o.pathname="/"+o.pathname);var a=!e.protocol||":"===e.protocol||e.protocol===n.protocol,s=e.hostname===document.domain&&e.port===n.port;return o.sameOrigin=a&&(!e.hostname||s),"/"===o.pathname&&(r[t]=o),o}},{}],19:[function(t,e,n){function r(t,e){var n=t.responseType;return"json"===n&&null!==e?e:"arraybuffer"===n||"blob"===n||"json"===n?o(t.response):"text"===n||""===n||void 0===n?o(t.responseText):void 0}var o=t(22);e.exports=r},{}],20:[function(t,e,n){function r(){}function o(t,e,n,r){return function(){return u.recordSupportability("API/"+e+"/called"),i(t+e,[f.now()].concat(s(arguments)),n?null:this,r),n?void 0:this}}var i=t("handle"),a=t(32),s=t(33),c=t("ee").get("tracer"),f=t("loader"),u=t(25),d=NREUM;"undefined"==typeof window.newrelic&&(newrelic=d);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],l="api-",h=l+"ixn-";a(p,function(t,e){d[e]=o(l,e,!0,"api")}),d.addPageAction=o(l,"addPageAction",!0),d.setCurrentRouteName=o(l,"routeName",!0),e.exports=newrelic,d.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(h+"tracer",[f.now(),t,n],r),function(){if(c.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return e.apply(this,arguments)}catch(t){throw c.emit("fn-err",[arguments,this,t],n),t}finally{c.emit("fn-end",[f.now()],n)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){m[e]=o(h,e)}),newrelic.noticeError=function(t,e){"string"==typeof t&&(t=new Error(t)),u.recordSupportability("API/noticeError/called"),i("err",[t,f.now(),!1,e])}},{}],21:[function(t,e,n){function r(t){if(NREUM.init){for(var e=NREUM.init,n=t.split("."),r=0;r<n.length-1;r++)if(e=e[n[r]],"object"!=typeof e)return;return e=e[n[n.length-1]]}}e.exports={getConfiguration:r}},{}],22:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],23:[function(t,e,n){var r=!1;try{var o=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassive",null,o),window.removeEventListener("testPassive",null,o)}catch(i){}e.exports=function(t){return r?{passive:!0,capture:!!t}:!!t}},{}],24:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],25:[function(t,e,n){function r(t,e){var n=[a,t,{name:t},e];return i("storeMetric",n,null,"api"),n}function o(t,e){var n=[s,t,{name:t},e];return i("storeEventMetrics",n,null,"api"),n}var i=t("handle"),a="sm",s="cm";e.exports={constants:{SUPPORTABILITY_METRIC:a,CUSTOM_METRIC:s},recordSupportability:r,recordCustom:o}},{}],26:[function(t,e,n){function r(){return s.exists&&performance.now?Math.round(performance.now()):(i=Math.max((new Date).getTime(),i))-a}function o(){return i}var i=(new Date).getTime(),a=i,s=t(34);e.exports=r,e.exports.offset=a,e.exports.getLastTimestamp=o},{}],27:[function(t,e,n){function r(t){return!(!t||!t.protocol||"file:"===t.protocol)}e.exports=r},{}],28:[function(t,e,n){function r(t,e){var n=t.getEntries();n.forEach(function(t){"first-paint"===t.name?l("timing",["fp",Math.floor(t.startTime)]):"first-contentful-paint"===t.name&&l("timing",["fcp",Math.floor(t.startTime)])})}function o(t,e){var n=t.getEntries();if(n.length>0){var r=n[n.length-1];if(f&&f<r.startTime)return;var o=[r],i=a({});i&&o.push(i),l("lcp",o)}}function i(t){t.getEntries().forEach(function(t){t.hadRecentInput||l("cls",[t])})}function a(t){var e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(e)return e.type&&(t["net-type"]=e.type),e.effectiveType&&(t["net-etype"]=e.effectiveType),e.rtt&&(t["net-rtt"]=e.rtt),e.downlink&&(t["net-dlink"]=e.downlink),t}function s(t){if(t instanceof w&&!y){var e=Math.round(t.timeStamp),n={type:t.type};a(n),e<=h.now()?n.fid=h.now()-e:e>h.offset&&e<=Date.now()?(e-=h.offset,n.fid=h.now()-e):e=h.now(),y=!0,l("timing",["fi",e,n])}}function c(t){"hidden"===t&&(f=h.now(),l("pageHide",[f]))}if(!("init"in NREUM&&"page_view_timing"in NREUM.init&&"enabled"in NREUM.init.page_view_timing&&NREUM.init.page_view_timing.enabled===!1)){var f,u,d,p,l=t("handle"),h=t("loader"),m=t(31),v=t(23),w=NREUM.o.EV;if("PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver){u=new PerformanceObserver(r);try{u.observe({entryTypes:["paint"]})}catch(g){}d=new PerformanceObserver(o);try{d.observe({entryTypes:["largest-contentful-paint"]})}catch(g){}p=new PerformanceObserver(i);try{p.observe({type:"layout-shift",buffered:!0})}catch(g){}}if("addEventListener"in document){var y=!1,x=["click","keydown","mousedown","pointerdown","touchstart"];x.forEach(function(t){document.addEventListener(t,s,v(!1))})}m(c)}},{}],29:[function(t,e,n){function r(){function t(){return e?15&e[n++]:16*Math.random()|0}var e=null,n=0,r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(e=r.getRandomValues(new Uint8Array(31)));for(var o,i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",a="",s=0;s<i.length;s++)o=i[s],"x"===o?a+=t().toString(16):"y"===o?(o=3&t()|8,a+=o.toString(16)):a+=o;return a}function o(){return a(16)}function i(){return a(32)}function a(t){function e(){return n?15&n[r++]:16*Math.random()|0}var n=null,r=0,o=window.crypto||window.msCrypto;o&&o.getRandomValues&&Uint8Array&&(n=o.getRandomValues(new Uint8Array(31)));for(var i=[],a=0;a<t;a++)i.push(e().toString(16));return i.join("")}e.exports={generateUuid:r,generateSpanId:o,generateTraceId:i}},{}],30:[function(t,e,n){function r(t,e){if(!o)return!1;if(t!==o)return!1;if(!e)return!0;if(!i)return!1;for(var n=i.split("."),r=e.split("."),a=0;a<r.length;a++)if(r[a]!==n[a])return!1;return!0}var o=null,i=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var s=navigator.userAgent,c=s.match(a);c&&s.indexOf("Chrome")===-1&&s.indexOf("Chromium")===-1&&(o="Safari",i=c[1])}e.exports={agent:o,version:i,match:r}},{}],31:[function(t,e,n){function r(t){function e(){t(s&&document[s]?document[s]:document[i]?"hidden":"visible")}"addEventListener"in document&&a&&document.addEventListener(a,e,o(!1))}var o=t(23);e.exports=r;var i,a,s;"undefined"!=typeof document.hidden?(i="hidden",a="visibilitychange",s="visibilityState"):"undefined"!=typeof document.msHidden?(i="msHidden",a="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(i="webkitHidden",a="webkitvisibilitychange",s="webkitVisibilityState")},{}],32:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],33:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],34:[function(t,e,n){e.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?f(t,c,a):a()}function n(n,r,o,i,a){if(a!==!1&&(a=!0),!l.aborted||i){t&&a&&t(n,r,o);for(var s=e(o),c=m(n),f=c.length,u=0;u<f;u++)c[u].apply(s,r);var p=d[y[n]];return p&&p.push([x,n,r,s]),s}}function i(t,e){g[t]=m(t).concat(e)}function h(t,e){var n=g[t];if(n)for(var r=0;r<n.length;r++)n[r]===e&&n.splice(r,1)}function m(t){return g[t]||[]}function v(t){return p[t]=p[t]||o(n)}function w(t,e){l.aborted||u(t,function(t,n){e=e||"feature",y[n]=e,e in d||(d[e]=[])})}var g={},y={},x={on:i,addEventListener:i,removeEventListener:h,emit:n,get:v,listeners:m,context:e,buffer:w,abort:s,aborted:!1};return x}function i(t){return f(t,c,a)}function a(){return new r}function s(){(d.api||d.feature)&&(l.aborted=!0,d=l.backlog={})}var c="nr@context",f=t("gos"),u=t(32),d={},p={},l=e.exports=o();e.exports.getOrSetContext=i,l.backlog=d},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!S++){var t=T.info=NREUM.info,e=v.getElementsByTagName("script")[0];if(setTimeout(f.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return f.abort();c(R,function(e,n){t[e]||(t[e]=n)});var n=a();s("mark",["onload",n+T.offset],null,"api"),s("timing",["load",n]);var r=v.createElement("script");0===t.agent.indexOf("http://")||0===t.agent.indexOf("https://")?r.src=t.agent:r.src=h+"://"+t.agent,e.parentNode.insertBefore(r,e)}}function o(){"complete"===v.readyState&&i()}function i(){s("mark",["domContent",a()+T.offset],null,"api")}var a=t(26),s=t("handle"),c=t(32),f=t("ee"),u=t(30),d=t(27),p=t(21),l=t(23),h=p.getConfiguration("ssl")===!1?"http":"https",m=window,v=m.document,w="addEventListener",g="attachEvent",y=m.XMLHttpRequest,x=y&&y.prototype,b=!d(m.location);NREUM.o={ST:setTimeout,SI:m.setImmediate,CT:clearTimeout,XHR:y,REQ:m.Request,EV:m.Event,PR:m.Promise,MO:m.MutationObserver};var E=""+location,R={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-spa-1215.min.js"},O=y&&x&&x[w]&&!/CriOS/.test(navigator.userAgent),T=e.exports={offset:a.getLastTimestamp(),now:a,origin:E,features:{},xhrWrappable:O,userAgent:u,disabled:b};if(!b){t(20),t(28),v[w]?(v[w]("DOMContentLoaded",i,l(!1)),m[w]("load",r,l(!1))):(v[g]("onreadystatechange",o),m[g]("onload",r)),s("mark",["firstbyte",a.getLastTimestamp()],null,"api");var S=0}},{}],"wrap-function":[function(t,e,n){function r(t,e){function n(e,n,r,c,f){function nrWrapper(){var i,a,u,p;try{a=this,i=d(arguments),u="function"==typeof r?r(i,a):r||{}}catch(l){o([l,"",[i,a,c],u],t)}s(n+"start",[i,a,c],u,f);try{return p=e.apply(a,i)}catch(h){throw s(n+"err",[i,a,h],u,f),h}finally{s(n+"end",[i,a,p],u,f)}}return a(e)?e:(n||(n=""),nrWrapper[p]=e,i(e,nrWrapper,t),nrWrapper)}function r(t,e,r,o,i){r||(r="");var s,c,f,u="-"===r.charAt(0);for(f=0;f<e.length;f++)c=e[f],s=t[c],a(s)||(t[c]=n(s,u?c+r:r,o,c,i))}function s(n,r,i,a){if(!h||e){var s=h;h=!0;try{t.emit(n,r,i,e,a)}catch(c){o([c,n,r,i],t)}h=s}}return t||(t=u),n.inPlace=r,n.flag=p,n}function o(t,e){e||(e=u);try{e.emit("internal-error",t)}catch(n){}}function i(t,e,n){if(Object.defineProperty&&Object.keys)try{var r=Object.keys(t);return r.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(i){o([i],n)}for(var a in t)l.call(t,a)&&(e[a]=t[a]);return e}function a(t){return!(t&&t instanceof Function&&t.apply&&!t[p])}function s(t,e){var n=e(t);return n[p]=t,i(t,n,u),n}function c(t,e,n){var r=t[e];t[e]=s(r,n)}function f(){for(var t=arguments.length,e=new Array(t),n=0;n<t;++n)e[n]=arguments[n];return e}var u=t("ee"),d=t(33),p="nr@original",l=Object.prototype.hasOwnProperty,h=!1;e.exports=r,e.exports.wrapFunction=s,e.exports.wrapInPlace=c,e.exports.argsToArray=f},{}]},{},["loader",2,17,5,3,4]);</script>
    <!--ignore-minification-end--> <link class="protected" rel="icon" type="image/svg+xml" href="/favicon.svg"><link class="protected" rel="manifest" href="/icons/manifest.json"><meta class="protected" name="mobile-web-app-capable" content="yes"><meta class="protected" name="theme-color" content="#0C161C"><meta class="protected" name="application-name" content="DAZN"><link class="protected" rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon-180x180.png"><link class="protected" rel="apple-touch-icon" sizes="1024x1024" href="/icons/apple-touch-icon-1024x1024.png"><meta class="protected" name="apple-mobile-web-app-capable" content="yes"><meta class="protected" name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta class="protected" name="apple-mobile-web-app-title" content="DAZN"><link rel="preconnect" href="https://startup.core.indazn.com" crossorigin=""><link rel="preconnect" href="https://resource-strings.acc.indazn.com" crossorigin=""><link rel="preload" href="https://optmzly.fe.indazn.com/datafiles/EG81YwqcK6nE62HXHW6uVG.json" crossorigin="" as="fetch"><link rel="preconnect" href="https://static.dazndn.com" crossorigin=""><script>window.dataLayer=window.dataLayer||[]</script><script>/*! For license information please see boot-28.6.0-5333accb9aa3ab61ea0f.js.LICENSE.txt */
(()=>{var e={3077:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.handleError=function(e){},e}();t.NoopErrorHandler=r;var n=new r;t.setErrorHandler=function(e){n=e},t.getErrorHandler=function(){return n},t.resetErrorHandler=function(){n=new r}},2531:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(3077)),n(r(2011)),n(r(1628))},1628:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)n[o]=i[a];return n};Object.defineProperty(t,"__esModule",{value:!0});var o=r(3077),i=r(1185),a=r(2011),u={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function s(e){return"string"!=typeof e?e:("WARN"===(e=e.toUpperCase())&&(e="WARNING"),u[e]?u[e]:e)}var c=function(){function e(){this.defaultLoggerFacade=new p,this.loggers={}}return e.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new p({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},e}(),l=function(){function e(e){void 0===e&&(e={}),this.logLevel=a.LogLevel.NOTSET,void 0!==e.logLevel&&i.isValidEnum(a.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=void 0===e.logToConsole||!!e.logToConsole,this.prefix=void 0!==e.prefix?e.prefix:"[OPTIMIZELY]"}return e.prototype.log=function(e,t){if(this.shouldLog(e)&&this.logToConsole){var r=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+t;this.consoleLog(e,[r])}},e.prototype.setLogLevel=function(e){e=s(e),i.isValidEnum(a.LogLevel,e)&&void 0!==e?this.logLevel=e:this.logLevel=a.LogLevel.ERROR},e.prototype.getTime=function(){return(new Date).toISOString()},e.prototype.shouldLog=function(e){return e>=this.logLevel},e.prototype.getLogLevelName=function(e){switch(e){case a.LogLevel.DEBUG:return"DEBUG";case a.LogLevel.INFO:return"INFO ";case a.LogLevel.WARNING:return"WARN ";case a.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},e.prototype.consoleLog=function(e,t){switch(e){case a.LogLevel.DEBUG:console.log.apply(console,t);break;case a.LogLevel.INFO:console.info.apply(console,t);break;case a.LogLevel.WARNING:console.warn.apply(console,t);break;case a.LogLevel.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}},e}();t.ConsoleLogHandler=l;var f=a.LogLevel.NOTSET,d=null,p=function(){function e(e){void 0===e&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return e.prototype.log=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this.internalLog(s(e),{message:t,splat:r})},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(a.LogLevel.INFO,e,t)},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(a.LogLevel.DEBUG,e,t)},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(a.LogLevel.WARNING,e,t)},e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.namedLog(a.LogLevel.ERROR,e,t)},e.prototype.format=function(e){return(this.messagePrefix?this.messagePrefix+": ":"")+i.sprintf.apply(void 0,n([e.message],e.splat))},e.prototype.internalLog=function(e,t){d&&(e<f||(d.log(e,this.format(t)),t.error&&t.error instanceof Error&&o.getErrorHandler().handleError(t.error)))},e.prototype.namedLog=function(e,t,r){var n;if(t instanceof Error)return t=(n=t).message,void this.internalLog(e,{error:n,message:t,splat:r});if(0!==r.length){var o=r[r.length-1];o instanceof Error&&(n=o,r.splice(-1)),this.internalLog(e,{message:t,error:n,splat:r})}else this.internalLog(e,{message:t,splat:r})},e}(),g=new c;t.getLogger=function(e){return g.getLogger(e)},t.setLogHandler=function(e){d=e},t.setLogLevel=function(e){e=s(e),f=i.isValidEnum(a.LogLevel,e)&&void 0!==e?e:a.LogLevel.ERROR},t.getLogLevel=function(){return f},t.resetLogger=function(){g=new c,f=a.LogLevel.NOTSET}},2011:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.LogLevel||(t.LogLevel={}))[r.NOTSET=0]="NOTSET",r[r.DEBUG=1]="DEBUG",r[r.INFO=2]="INFO",r[r.WARNING=3]="WARNING",r[r.ERROR=4]="ERROR"},1185:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(3217);function i(e){return Object.keys(e).map((function(t){return e[t]}))}t.generateUUID=function(){return o.v4()},t.getTimestamp=function(){return(new Date).getTime()},t.isValidEnum=function(e,t){for(var r=!1,n=Object.keys(e),o=0;o<n.length;o++)if(t===e[n[o]]){r=!0;break}return r},t.groupBy=function(e,t){var r={};return e.forEach((function(e){var n=t(e);r[n]=r[n]||[],r[n].push(e)})),i(r)},t.objectValues=i,t.objectEntries=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))},t.find=function(e,t){for(var r,n=0,o=e;n<o.length;n++){var i=o[n];if(t(i)){r=i;break}}return r},t.keyBy=function(e,t){var r={};return e.forEach((function(e){var n=t(e);r[n]=e})),r},t.sprintf=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=0;return e.replace(/%s/g,(function(){var e=t[n++],r=typeof e;return"function"===r?e():"string"===r?e:String(e)}))},(n=t.NOTIFICATION_TYPES||(t.NOTIFICATION_TYPES={})).ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",n.DECISION="DECISION:type, userId, attributes, decisionInfo",n.LOG_EVENT="LOG_EVENT:logEvent",n.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",n.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"},3217:(e,t,r)=>{var n=r(4195),o=r(5916),i=o;i.v1=n,i.v4=o,e.exports=i},4146:e=>{for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0,o=t;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},8378:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},4195:(e,t,r)=>{var n,o,i=r(8378),a=r(4146),u=0,s=0;e.exports=function(e,t,r){var c=t&&r||0,l=t||[],f=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var g=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:s+1,v=g-u+(h-s)/1e4;if(v<0&&void 0===e.clockseq&&(d=d+1&16383),(v<0||g>u)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=g,s=h,o=d;var y=(1e4*(268435455&(g+=122192928e5))+h)%4294967296;l[c++]=y>>>24&255,l[c++]=y>>>16&255,l[c++]=y>>>8&255,l[c++]=255&y;var E=g/4294967296*1e4&268435455;l[c++]=E>>>8&255,l[c++]=255&E,l[c++]=E>>>24&15|16,l[c++]=E>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var m=0;m<6;++m)l[c+m]=f[m];return t||a(l)}},5916:(e,t,r)=>{var n=r(8378),o=r(4146);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[i+u]=a[u];return t||o(a)}},1068:(e,t,r)=>{"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2531),i=n(r(9015)),a=n(r(6077)),u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)n[o]=i[a];return n}var c=Math.pow(2,53);function l(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!e)return{};if("function"==typeof Object.assign)return Object.assign.apply(Object,s([e],t));for(var n=Object(e),o=0;o<t.length;o++){var i=t[o];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n}function f(e,t){return e?h(e,(function(e){return e[t]})):{}}function d(e){return Object.keys(e).map((function(t){return e[t]}))}function p(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function g(e,t){for(var r,n=0,o=e;n<o.length;n++){var i=o[n];if(t(i)){r=i;break}}return r}function h(e,t){var r={};return e.forEach((function(e){var n=t(e);r[n]=e})),r}function v(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=0;return e.replace(/%s/g,(function(){var e=t[n++],r=typeof e;return"function"===r?e():"string"===r?e:String(e)}))}var y,E={assign:l,currentTimestamp:function(){return Math.round((new Date).getTime())},isSafeInteger:function(e){return"number"==typeof e&&Math.abs(e)<=c},keyBy:f,uuid:function(){return i()},isNumber:function(e){return"number"==typeof e},getTimestamp:function(){return(new Date).getTime()},isValidEnum:function(e,t){for(var r=!1,n=Object.keys(e),o=0;o<n.length;o++)if(t===e[n[o]]){r=!0;break}return r},groupBy:function(e,t){var r={};return e.forEach((function(e){var n=t(e);r[n]=r[n]||[],r[n].push(e)})),d(r)},objectValues:d,objectEntries:p,find:g,keyByUtil:h,sprintf:v},m={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},I={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},O={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},A={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent",FORCED_DECISION_NULL_RULE_KEY:"$opt_null_rule_key"},_={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},b={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},T={RULE:"rule",EXPERIMENT:"experiment"},R={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},S={V2:"2",V3:"3",V4:"4"},N={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'};!function(e){e.ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",e.DECISION="DECISION:type, userId, attributes, decisionInfo",e.LOG_EVENT="LOG_EVENT:logEvent",e.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",e.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"}(y||(y={}));var C=Object.freeze({__proto__:null,LOG_LEVEL:m,ERROR_MESSAGES:I,LOG_MESSAGES:O,CONTROL_ATTRIBUTES:A,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",REACT_NATIVE_CLIENT_ENGINE:"react-native-sdk",REACT_NATIVE_JS_CLIENT_ENGINE:"react-native-js-sdk",NODE_CLIENT_VERSION:"4.9.2",DECISION_NOTIFICATION_TYPES:_,DECISION_SOURCES:b,AUDIENCE_EVALUATION_TYPES:T,FEATURE_VARIABLE_TYPES:R,DATAFILE_VERSIONS:S,DECISION_MESSAGES:N,get NOTIFICATION_TYPES(){return y}}),w="CONFIG_VALIDATOR",L=[S.V2,S.V3,S.V4],U={handleError:function(){}},P={dispatchEvent:function(e,t){}},D=function(){function e(){}return e.prototype.log=function(){},e}();function k(e){return new o.ConsoleLogHandler(e)}var M,F,V=Object.freeze({__proto__:null,NoOpLogger:D,createLogger:k,createNoOpLogger:function(){return new D}});function x(e,t,r){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:e,userContext:t,reasons:r}}!function(e){e.BOOLEAN="boolean",e.DOUBLE="double",e.INTEGER="integer",e.STRING="string",e.JSON="json"}(M||(M={})),(F=t.OptimizelyDecideOption||(t.OptimizelyDecideOption={})).DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",F.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",F.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",F.INCLUDE_REASONS="INCLUDE_REASONS",F.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES";var j=function(){function e(e){var t,r=e.optimizely,n=e.userId,o=e.attributes;this.optimizely=r,this.userId=n,this.attributes=null!==(t=u({},o))&&void 0!==t?t:{},this.forcedDecisionsMap={}}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.getUserId=function(){return this.userId},e.prototype.getAttributes=function(){return u({},this.attributes)},e.prototype.getOptimizely=function(){return this.optimizely},e.prototype.decide=function(e,t){return void 0===t&&(t=[]),this.optimizely.decide(this.cloneUserContext(),e,t)},e.prototype.decideForKeys=function(e,t){return void 0===t&&(t=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,t)},e.prototype.decideAll=function(e){return void 0===e&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},e.prototype.trackEvent=function(e,t){this.optimizely.track(e,this.userId,this.attributes,t)},e.prototype.setForcedDecision=function(e,t){var r,n=e.flagKey,o=null!==(r=e.ruleKey)&&void 0!==r?r:A.FORCED_DECISION_NULL_RULE_KEY,i={variationKey:t.variationKey};return this.forcedDecisionsMap[n]||(this.forcedDecisionsMap[n]={}),this.forcedDecisionsMap[n][o]=i,!0},e.prototype.getForcedDecision=function(e){return this.findForcedDecision(e)},e.prototype.removeForcedDecision=function(e){var t,r=null!==(t=e.ruleKey)&&void 0!==t?t:A.FORCED_DECISION_NULL_RULE_KEY,n=e.flagKey,o=!1;return this.forcedDecisionsMap.hasOwnProperty(n)&&(this.forcedDecisionsMap[n].hasOwnProperty(r)&&(delete this.forcedDecisionsMap[n][r],o=!0),0===Object.keys(this.forcedDecisionsMap[n]).length&&delete this.forcedDecisionsMap[n]),o},e.prototype.removeAllForcedDecisions=function(){return this.forcedDecisionsMap={},!0},e.prototype.findForcedDecision=function(e){var t,r=null!==(t=e.ruleKey)&&void 0!==t?t:A.FORCED_DECISION_NULL_RULE_KEY,n=e.flagKey;if(this.forcedDecisionsMap.hasOwnProperty(e.flagKey)){var o=this.forcedDecisionsMap[n];if(o.hasOwnProperty(r))return{variationKey:o[r].variationKey}}return null},e.prototype.cloneUserContext=function(){var t=new e({optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()});return Object.keys(this.forcedDecisionsMap).length>0&&(t.forcedDecisionsMap=u({},this.forcedDecisionsMap)),t},e}(),B=["and","or","not"];function z(e,t){if(Array.isArray(e)){var r=e[0],n=e.slice(1);switch("string"==typeof r&&-1===B.indexOf(r)&&(r="or",n=e),r){case"and":return function(e,t){var r=!1;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var o=z(e[n],t);if(!1===o)return!1;null===o&&(r=!0)}return!r||null}return null}(n,t);case"not":return function(e,t){if(Array.isArray(e)&&e.length>0){var r=z(e[0],t);return null===r?null:!r}return null}(n,t);default:return function(e,t){var r=!1;if(Array.isArray(e)){for(var n=0;n<e.length;n++){var o=z(e[n],t);if(!0===o)return!0;null===o&&(r=!0)}return!!r&&null}return null}(n,t)}}return t(e)}var K=function(){function e(t,r){var n,o;this.sdkKey=null!==(n=t.sdkKey)&&void 0!==n?n:"",this.environmentKey=null!==(o=t.environmentKey)&&void 0!==o?o:"",this.attributes=t.attributes,this.audiences=e.getAudiences(t),this.events=t.events,this.revision=t.revision;var i=(t.featureFlags||[]).reduce((function(e,t){return e[t.id]=t.variables,e}),{}),a=e.getExperimentsMapById(t,i);this.experimentsMap=e.getExperimentsKeyMap(a),this.featuresMap=e.getFeaturesMap(t,i,a),this.datafile=r}return e.prototype.getDatafile=function(){return this.datafile},e.getAudiences=function(e){var t=[],r=[];return(e.typedAudiences||[]).forEach((function(e){t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name}),r.push(e.id)})),(e.audiences||[]).forEach((function(e){-1===r.indexOf(e.id)&&"$opt_dummy_audience"!=e.id&&t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name})})),t},e.getSerializedAudiences=function(t,r){var n="";if(t){var o="";t.forEach((function(t){var i="";if(t instanceof Array)i="("+(i=e.getSerializedAudiences(t,r))+")";else if(B.indexOf(t)>-1)o=t.toUpperCase();else{var a=r[t]?r[t].name:t;n||"NOT"===o?(o=""===o?"OR":o,n=""===n?o+' "'+r[t].name+'"':n.concat(" "+o+' "'+a+'"')):n='"'+a+'"'}""!==i&&(""!==n||"NOT"===o?(o=""===o?"OR":o,n=""===n?o+" "+i:n.concat(" "+o+" "+i)):n=n.concat(i))}))}return n},e.getExperimentAudiences=function(t,r){return t.audienceConditions?e.getSerializedAudiences(t.audienceConditions,r.audiencesById):""},e.mergeFeatureVariables=function(e,t,r,n,o){var i=(e[r]||[]).reduce((function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e}),{});return(n||[]).forEach((function(e){var r=t[e.id],n={id:e.id,key:r.key,type:r.type,value:o?e.value:r.defaultValue};i[r.key]=n})),i},e.getVariationsMap=function(t,r,n,o){return t.reduce((function(t,i){var a=e.mergeFeatureVariables(r,n,o,i.variables,i.featureEnabled);return t[i.key]={id:i.id,key:i.key,featureEnabled:i.featureEnabled,variablesMap:a},t}),{})},e.getVariableIdMap=function(e){return(e.featureFlags||[]).reduce((function(e,t){return t.variables.forEach((function(t){e[t.id]=t})),e}),{})},e.getDeliveryRules=function(t,r,n,o){var i=e.getVariableIdMap(t);return o.map((function(o){return{id:o.id,key:o.key,audiences:e.getExperimentAudiences(o,t),variationsMap:e.getVariationsMap(o.variations,r,i,n)}}))},e.getRolloutExperimentIds=function(e){var t=[];return(e||[]).forEach((function(e){e.experiments.forEach((function(e){t.push(e.id)}))})),t},e.getExperimentsMapById=function(t,r){var n=e.getVariableIdMap(t),o=this.getRolloutExperimentIds(t.rollouts);return(t.experiments||[]).reduce((function(i,a){if(-1===o.indexOf(a.id)){var u=t.experimentFeatureMap[a.id],s="";u&&u.length>0&&(s=u[0]);var c=e.getVariationsMap(a.variations,r,n,s.toString());i[a.id]={id:a.id,key:a.key,audiences:e.getExperimentAudiences(a,t),variationsMap:c}}return i}),{})},e.getExperimentsKeyMap=function(e){var t={};for(var r in e){var n=e[r];t[n.key]=n}return t},e.getFeaturesMap=function(t,r,n){var o={};return t.featureFlags.forEach((function(i){var a={},u=[];i.experimentIds.forEach((function(e){var t=n[e];t&&(a[t.key]=t),u.push(n[e])}));var s=(i.variables||[]).reduce((function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e}),{}),c=[],l=t.rolloutIdMap[i.rolloutId];l&&(c=e.getDeliveryRules(t,r,i.id,l.experiments)),o[i.key]={id:i.id,key:i.key,experimentRules:u,deliveryRules:c,experimentsMap:a,variablesMap:s}})),o},e}(),G="PROJECT_CONFIG",H=function(e,t){void 0===t&&(t=null);var r,n,o,i,a=((i=l({},r=e)).audiences=(r.audiences||[]).map((function(e){return l({},e)})),i.experiments=(r.experiments||[]).map((function(e){return l({},e)})),i.featureFlags=(r.featureFlags||[]).map((function(e){return l({},e)})),i.groups=(r.groups||[]).map((function(e){var t=l({},e);return t.experiments=(e.experiments||[]).map((function(e){return l({},e)})),t})),i.rollouts=(r.rollouts||[]).map((function(e){var t=l({},e);return t.experiments=(e.experiments||[]).map((function(e){return l({},e)})),t})),i.environmentKey=null!==(n=r.environmentKey)&&void 0!==n?n:"",i.sdkKey=null!==(o=r.sdkKey)&&void 0!==o?o:"",i);return a.__datafileStr=null===t?JSON.stringify(e):t,(a.audiences||[]).forEach((function(e){e.conditions=JSON.parse(e.conditions)})),a.audiencesById=f(a.audiences,"id"),l(a.audiencesById,f(a.typedAudiences,"id")),a.attributeKeyMap=f(a.attributes,"key"),a.eventKeyMap=f(a.events,"key"),a.groupIdMap=f(a.groups,"id"),Object.keys(a.groupIdMap||{}).forEach((function(e){(a.groupIdMap[e].experiments||[]).forEach((function(t){a.experiments.push(l(t,{groupId:e}))}))})),a.rolloutIdMap=f(a.rollouts||[],"id"),d(a.rolloutIdMap||{}).forEach((function(e){(e.experiments||[]).forEach((function(e){a.experiments.push(e),e.variationKeyMap=f(e.variations,"key")}))})),a.experimentKeyMap=f(a.experiments,"key"),a.experimentIdMap=f(a.experiments,"id"),a.variationIdMap={},a.variationVariableUsageMap={},(a.experiments||[]).forEach((function(e){e.variationKeyMap=f(e.variations,"key"),l(a.variationIdMap,f(e.variations,"id")),d(e.variationKeyMap||{}).forEach((function(e){e.variables&&(a.variationVariableUsageMap[e.id]=f(e.variables,"id"))}))})),a.experimentFeatureMap={},a.featureKeyMap=f(a.featureFlags||[],"key"),d(a.featureKeyMap||{}).forEach((function(e){e.variables.forEach((function(e){e.type===R.STRING&&e.subType===R.JSON&&(e.type=R.JSON,delete e.subType)})),e.variableKeyMap=f(e.variables,"key"),(e.experimentIds||[]).forEach((function(t){a.experimentFeatureMap[t]?a.experimentFeatureMap[t].push(e.id):a.experimentFeatureMap[t]=[e.id]}))})),a.flagRulesMap={},(a.featureFlags||[]).forEach((function(e){var t=[];e.experimentIds.forEach((function(e){var r=a.experimentIdMap[e];r&&t.push(r)}));var r=a.rolloutIdMap[e.rolloutId];r&&t.push.apply(t,r.experiments),a.flagRulesMap[e.key]=t})),a.flagVariationsMap={},p(a.flagRulesMap||{}).forEach((function(e){var t=e[0],r=e[1],n=[];r.forEach((function(e){e.variations.forEach((function(e){g(n,(function(t){return t.id===e.id}))||n.push(e)}))})),a.flagVariationsMap[t]=n})),a},J=function(e,t){var r=e.experimentIdMap[t];if(!r)throw new Error(v(I.INVALID_EXPERIMENT_ID,G,t));return r.layerId},Y=function(e,t,r){var n=e.attributeKeyMap[t],o=0===t.indexOf("$opt_");return n?(o&&r.log(m.WARNING,"Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_"),n.id):o?t:(r.log(m.DEBUG,I.UNRECOGNIZED_ATTRIBUTE,G,t),null)},q=function(e,t){var r=e.eventKeyMap[t];return r?r.id:null},W=function(e,t){var r=e.experimentKeyMap[t];if(!r)throw new Error(v(I.INVALID_EXPERIMENT_KEY,G,t));return r.status},X=function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},Z=function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var r=e.experimentKeyMap[t];if(r)return r}throw new Error(v(I.EXPERIMENT_KEY_NOT_IN_DATAFILE,G,t))},Q=function(e,t){var r=e.experimentIdMap[t];if(!r)throw new Error(v(I.INVALID_EXPERIMENT_ID,G,t));return r.trafficAllocation},$=function(e,t,r){if(e.experimentIdMap.hasOwnProperty(t)){var n=e.experimentIdMap[t];if(n)return n}return r.log(m.ERROR,I.INVALID_EXPERIMENT_ID,G,t),null},ee=function(e,t,r){if(!e)return null;var n=g(e.flagVariationsMap[t],(function(e){return e.key===r}));return n||null},te=function(e,t,r){if(e.featureKeyMap.hasOwnProperty(t)){var n=e.featureKeyMap[t];if(n)return n}return r.log(m.ERROR,I.FEATURE_NOT_IN_DATAFILE,G,t),null},re=function(e){return!!e.sendFlagDecisions},ne=o.getLogger();function oe(e,t){return e instanceof Error?e.message:t||"Unknown error"}var ie=function(){function e(e){this.updateListeners=[],this.configObj=null,this.optimizelyConfigObj=null,this.datafileManager=null;try{if(this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){var t=new Error(v(I.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.readyPromise=Promise.resolve({success:!1,reason:oe(t)}),void ne.error(t)}var r=null;e.datafile&&(r=this.handleNewDatafile(e.datafile)),e.sdkKey&&e.datafileManager?(this.datafileManager=e.datafileManager,this.datafileManager.start(),this.readyPromise=this.datafileManager.onReady().then(this.onDatafileManagerReadyFulfill.bind(this),this.onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.onDatafileManagerUpdate.bind(this))):this.configObj?this.readyPromise=Promise.resolve({success:!0}):this.readyPromise=Promise.resolve({success:!1,reason:oe(r,"Invalid datafile")})}catch(e){ne.error(e),this.readyPromise=Promise.resolve({success:!1,reason:oe(e,"Error in initialize")})}}return e.prototype.onDatafileManagerReadyFulfill=function(){if(this.datafileManager){var e=this.handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:oe(e)}:{success:!0}}return{success:!1,reason:oe(null,"Datafile manager is not provided")}},e.prototype.onDatafileManagerReadyReject=function(e){return{success:!1,reason:oe(e,"Failed to become ready")}},e.prototype.onDatafileManagerUpdate=function(){this.datafileManager&&this.handleNewDatafile(this.datafileManager.get())},e.prototype.handleNewDatafile=function(e){var t=function(e){var t;try{t=function(e){if(!e)throw new Error(v(I.NO_DATAFILE_SPECIFIED,w));if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw new Error(v(I.INVALID_DATAFILE_MALFORMED,w))}if("object"==typeof e&&!Array.isArray(e)&&null!==e&&-1===L.indexOf(e.version))throw new Error(v(I.INVALID_DATAFILE_VERSION,w,e.version));return e}(e.datafile)}catch(e){return{configObj:null,error:e}}if(e.jsonSchemaValidator)try{e.jsonSchemaValidator.validate(t),e.logger.log(m.INFO,O.VALID_DATAFILE,G)}catch(e){return{configObj:null,error:e}}else e.logger.log(m.INFO,O.SKIPPING_JSON_VALIDATION,G);var r=[t];return"string"==typeof e.datafile&&r.push(e.datafile),{configObj:H.apply(void 0,r),error:null}}({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:ne}),r=t.configObj,n=t.error;if(n)ne.error(n);else{var o=this.configObj?this.configObj.revision:"null";r&&o!==r.revision&&(this.configObj=r,this.optimizelyConfigObj=null,this.updateListeners.forEach((function(e){return e(r)})))}return n},e.prototype.getConfig=function(){return this.configObj},e.prototype.getOptimizelyConfig=function(){var e,t;return!this.optimizelyConfigObj&&this.configObj&&(this.optimizelyConfigObj=(e=this.configObj,t=this.configObj.__datafileStr,new K(e,t))),this.optimizelyConfigObj},e.prototype.onReady=function(){return this.readyPromise},e.prototype.onUpdate=function(e){var t=this;return this.updateListeners.push(e),function(){var r=t.updateListeners.indexOf(e);r>-1&&t.updateListeners.splice(r,1)}},e.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.updateListeners=[]},e}(),ae=Math.pow(2,32),ue=function(e){var t=[],r=e.experimentIdMap[e.experimentId].groupId;if(r){var n=e.groupIdMap[r];if(!n)throw new Error(v(I.INVALID_GROUP_ID,"BUCKETER",r));if("random"===n.policy){var o=se(n,e.bucketingId,e.userId,e.logger);if(null===o)return e.logger.log(m.INFO,O.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,r),t.push([O.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,r]),{result:null,reasons:t};if(o!==e.experimentId)return e.logger.log(m.INFO,O.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r),t.push([O.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r]),{result:null,reasons:t};e.logger.log(m.INFO,O.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r),t.push([O.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,r])}}var i=""+e.bucketingId+e.experimentId,a=le(i);e.logger.log(m.DEBUG,O.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",a,e.userId),t.push([O.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",a,e.userId]);var u=ce(a,e.trafficAllocationConfig);return null===u||e.variationIdMap[u]?{result:u,reasons:t}:(u&&(e.logger.log(m.WARNING,O.INVALID_VARIATION_ID,"BUCKETER"),t.push([O.INVALID_VARIATION_ID,"BUCKETER"])),{result:null,reasons:t})},se=function(e,t,r,n){var o=""+t+e.id,i=le(o);n.log(m.DEBUG,O.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",i,r);var a=e.trafficAllocation;return ce(i,a)},ce=function(e,t){for(var r=0;r<t.length;r++)if(e<t[r].endOfRange)return t[r].entityId;return null},le=function(e){try{var t=a.v3(e,1)/ae;return Math.floor(1e4*t)}catch(t){throw new Error(v(I.INVALID_BUCKETING_ID,"BUCKETER",e,t.message))}},fe=o.getLogger();function de(e){return/^\d+$/.test(e)}function pe(e){var t=e.indexOf("-"),r=e.indexOf("+");return!(t<0)&&(r<0||t<r)}function ge(e){var t=e.indexOf("-"),r=e.indexOf("+");return!(r<0)&&(t<0||r<t)}function he(e){var t=e,r="";if(function(e){return/\s/.test(e)}(e))return fe.warn(O.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;if(pe(e)?(t=e.substring(0,e.indexOf("-")),r=e.substring(e.indexOf("-")+1)):ge(e)&&(t=e.substring(0,e.indexOf("+")),r=e.substring(e.indexOf("+")+1)),"string"!=typeof t||"string"!=typeof r)return null;var n=t.split(".").length-1;if(n>2)return fe.warn(O.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;var o=t.split(".");if(o.length!=n+1)return fe.warn(O.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;for(var i=0,a=o;i<a.length;i++)if(!de(a[i]))return fe.warn(O.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;return r&&o.push(r),o}var ve="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",ye=o.getLogger(),Ee=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],me={};function Ie(e){return"string"==typeof e||"boolean"==typeof e||E.isNumber(e)}function Oe(e,t){var r=e.value,n=typeof r,o=e.name,i=t[o],a=typeof i;return!Ie(r)||E.isNumber(r)&&!E.isSafeInteger(r)?(ye.warn(O.UNEXPECTED_CONDITION_VALUE,ve,JSON.stringify(e)),null):null===i?(ye.debug(O.UNEXPECTED_TYPE_NULL,ve,JSON.stringify(e),o),null):Ie(i)&&n===a?E.isNumber(i)&&!E.isSafeInteger(i)?(ye.warn(O.OUT_OF_BOUNDS,ve,JSON.stringify(e),o),null):r===i:(ye.warn(O.UNEXPECTED_TYPE,ve,JSON.stringify(e),a,o),null)}function Ae(e,t){var r=e.name,n=t[r],o=typeof n,i=e.value;return null!==i&&E.isSafeInteger(i)?null===n?(ye.debug(O.UNEXPECTED_TYPE_NULL,ve,JSON.stringify(e),r),!1):E.isNumber(n)?!!E.isSafeInteger(n)||(ye.warn(O.OUT_OF_BOUNDS,ve,JSON.stringify(e),r),!1):(ye.warn(O.UNEXPECTED_TYPE,ve,JSON.stringify(e),o,r),!1):(ye.warn(O.UNEXPECTED_CONDITION_VALUE,ve,JSON.stringify(e)),!1)}function _e(e,t){var r=e.name,n=t[r],o=typeof n,i=e.value;return"string"!=typeof i?(ye.warn(O.UNEXPECTED_CONDITION_VALUE,ve,JSON.stringify(e)),null):null===n?(ye.debug(O.UNEXPECTED_TYPE_NULL,ve,JSON.stringify(e),r),null):"string"!=typeof n?(ye.warn(O.UNEXPECTED_TYPE,ve,JSON.stringify(e),o,r),null):function(e,t){var r=he(t),n=he(e);if(!r||!n)return null;for(var o=r.length,i=0;i<n.length;i++){if(o<=i)return pe(e)||ge(e)?1:-1;if(de(r[i])){var a=parseInt(r[i]),u=parseInt(n[i]);if(a>u)return 1;if(a<u)return-1}else{if(r[i]<n[i])return pe(e)&&!pe(t)?1:-1;if(r[i]>n[i])return!pe(e)&&pe(t)?-1:1}}return pe(t)&&!pe(e)?-1:0}(i,n)}me.exact=Oe,me.exists=function(e,t){return null!=t[e.name]},me.gt=function(e,t){var r=t[e.name],n=e.value;return Ae(e,t)&&null!==n?r>n:null},me.ge=function(e,t){var r=t[e.name],n=e.value;return Ae(e,t)&&null!==n?r>=n:null},me.lt=function(e,t){var r=t[e.name],n=e.value;return Ae(e,t)&&null!==n?r<n:null},me.le=function(e,t){var r=t[e.name],n=e.value;return Ae(e,t)&&null!==n?r<=n:null},me.substring=function(e,t){var r=e.name,n=t[e.name],o=typeof n,i=e.value;return"string"!=typeof i?(ye.warn(O.UNEXPECTED_CONDITION_VALUE,ve,JSON.stringify(e)),null):null===n?(ye.debug(O.UNEXPECTED_TYPE_NULL,ve,JSON.stringify(e),r),null):"string"!=typeof n?(ye.warn(O.UNEXPECTED_TYPE,ve,JSON.stringify(e),o,r),null):-1!==n.indexOf(i)},me.semver_eq=function(e,t){var r=_e(e,t);return null===r?null:0===r},me.semver_gt=function(e,t){var r=_e(e,t);return null===r?null:r>0},me.semver_ge=function(e,t){var r=_e(e,t);return null===r?null:r>=0},me.semver_lt=function(e,t){var r=_e(e,t);return null===r?null:r<0},me.semver_le=function(e,t){var r=_e(e,t);return null===r?null:r<=0};var be=Object.freeze({__proto__:null,evaluate:function(e,t){var r=e.match;if(void 0!==r&&-1===Ee.indexOf(r))return ye.warn(O.UNKNOWN_MATCH_TYPE,ve,JSON.stringify(e)),null;var n=e.name;return t.hasOwnProperty(n)||"exists"==r?(r&&me[r]||Oe)(e,t):(ye.debug(O.MISSING_ATTRIBUTE_VALUE,ve,JSON.stringify(e),n),null)}}),Te=o.getLogger(),Re=function(){function e(e){this.typeToEvaluatorMap=E.assign({},e,{custom_attribute:be})}return e.prototype.evaluate=function(e,t,r){var n=this;return void 0===r&&(r={}),!e||0===e.length||!!z(e,(function(e){var o=t[e];if(o){Te.log(m.DEBUG,O.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",e,JSON.stringify(o.conditions));var i=z(o.conditions,n.evaluateConditionWithUserAttributes.bind(n,r)),a=null===i?"UNKNOWN":i.toString().toUpperCase();return Te.log(m.DEBUG,O.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",e,a),i}return null}))},e.prototype.evaluateConditionWithUserAttributes=function(e,t){var r=this.typeToEvaluatorMap[t.type];if(!r)return Te.log(m.WARNING,O.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(t)),null;try{return r.evaluate(t,e)}catch(e){Te.log(m.ERROR,I.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",t.type,e.message)}return null},e}();function Se(e){return"string"==typeof e&&""!==e}var Ne="DECISION_SERVICE",Ce=function(){function e(e){var t;this.audienceEvaluator=(t=e.UNSTABLE_conditionEvaluators,new Re(t)),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return e.prototype.getVariation=function(e,r,n,o){void 0===o&&(o={});var i=n.getUserId(),a=n.getAttributes(),u=this.getBucketingId(i,a),s=[],c=r.key;if(!this.checkIfExperimentIsActive(e,c))return this.logger.log(m.INFO,O.EXPERIMENT_NOT_RUNNING,Ne,c),s.push([O.EXPERIMENT_NOT_RUNNING,Ne,c]),{result:null,reasons:s};var l=this.getForcedVariation(e,c,i);s.push.apply(s,l.reasons);var f=l.result;if(f)return{result:f,reasons:s};var d=this.getWhitelistedVariation(r,i);s.push.apply(s,d.reasons);var p=d.result;if(p)return{result:p.key,reasons:s};var g=o[t.OptimizelyDecideOption.IGNORE_USER_PROFILE_SERVICE],h=this.resolveExperimentBucketMap(i,a);if(!g&&(p=this.getStoredVariation(e,r,i,h)))return this.logger.log(m.INFO,O.RETURNING_STORED_VARIATION,Ne,p.key,c,i),s.push([O.RETURNING_STORED_VARIATION,Ne,p.key,c,i]),{result:p.key,reasons:s};var v=this.checkIfUserIsInAudience(e,r,T.EXPERIMENT,a,"");if(s.push.apply(s,v.reasons),!v.result)return this.logger.log(m.INFO,O.USER_NOT_IN_EXPERIMENT,Ne,i,c),s.push([O.USER_NOT_IN_EXPERIMENT,Ne,i,c]),{result:null,reasons:s};var y=this.buildBucketerParams(e,r,u,i),E=ue(y);s.push.apply(s,E.reasons);var I=E.result;return I&&(p=e.variationIdMap[I]),p?(this.logger.log(m.INFO,O.USER_HAS_VARIATION,Ne,i,p.key,c),s.push([O.USER_HAS_VARIATION,Ne,i,p.key,c]),g||this.saveUserProfile(r,p,i,h),{result:p.key,reasons:s}):(this.logger.log(m.DEBUG,O.USER_HAS_NO_VARIATION,Ne,i,c),s.push([O.USER_HAS_NO_VARIATION,Ne,i,c]),{result:null,reasons:s})},e.prototype.resolveExperimentBucketMap=function(e,t){t=t||{};var r=this.getUserProfile(e)||{},n=t[A.STICKY_BUCKETING_KEY];return E.assign({},r.experiment_bucket_map,n)},e.prototype.checkIfExperimentIsActive=function(e,t){return function(e,t){return"Running"===W(e,t)}(e,t)},e.prototype.getWhitelistedVariation=function(e,t){var r=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(t)){var n=e.forcedVariations[t];return e.variationKeyMap.hasOwnProperty(n)?(this.logger.log(m.INFO,O.USER_FORCED_IN_VARIATION,Ne,t,n),r.push([O.USER_FORCED_IN_VARIATION,Ne,t,n]),{result:e.variationKeyMap[n],reasons:r}):(this.logger.log(m.ERROR,O.FORCED_BUCKETING_FAILED,Ne,n,t),r.push([O.FORCED_BUCKETING_FAILED,Ne,n,t]),{result:null,reasons:r})}return{result:null,reasons:r}},e.prototype.checkIfUserIsInAudience=function(e,t,r,n,o){var i=[],a=function(e,t){var r=e.experimentIdMap[t];if(!r)throw new Error(v(I.INVALID_EXPERIMENT_ID,G,t));return r.audienceConditions||r.audienceIds}(e,t.id),u=e.audiencesById;this.logger.log(m.DEBUG,O.EVALUATING_AUDIENCES_COMBINED,Ne,r,o||t.key,JSON.stringify(a)),i.push([O.EVALUATING_AUDIENCES_COMBINED,Ne,r,o||t.key,JSON.stringify(a)]);var s=this.audienceEvaluator.evaluate(a,u,n);return this.logger.log(m.INFO,O.AUDIENCE_EVALUATION_RESULT_COMBINED,Ne,r,o||t.key,s.toString().toUpperCase()),i.push([O.AUDIENCE_EVALUATION_RESULT_COMBINED,Ne,r,o||t.key,s.toString().toUpperCase()]),{result:s,reasons:i}},e.prototype.buildBucketerParams=function(e,t,r,n){return{bucketingId:r,experimentId:t.id,experimentKey:t.key,experimentIdMap:e.experimentIdMap,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:Q(e,t.id),userId:n,variationIdMap:e.variationIdMap}},e.prototype.getStoredVariation=function(e,t,r,n){if(n.hasOwnProperty(t.id)){var o=n[t.id],i=o.variation_id;if(e.variationIdMap.hasOwnProperty(i))return e.variationIdMap[o.variation_id];this.logger.log(m.INFO,O.SAVED_VARIATION_NOT_FOUND,Ne,r,i,t.key)}return null},e.prototype.getUserProfile=function(e){var t={user_id:e,experiment_bucket_map:{}};if(!this.userProfileService)return t;try{return this.userProfileService.lookup(e)}catch(t){this.logger.log(m.ERROR,I.USER_PROFILE_LOOKUP_ERROR,Ne,e,t.message)}return null},e.prototype.saveUserProfile=function(e,t,r,n){if(this.userProfileService)try{n[e.id]={variation_id:t.id},this.userProfileService.save({user_id:r,experiment_bucket_map:n}),this.logger.log(m.INFO,O.SAVED_VARIATION,Ne,t.key,e.key,r)}catch(e){this.logger.log(m.ERROR,I.USER_PROFILE_SAVE_ERROR,Ne,r,e.message)}},e.prototype.getVariationForFeature=function(e,t,r,n){void 0===n&&(n={});var o=[],i=this.getVariationForFeatureExperiment(e,t,r,n);o.push.apply(o,i.reasons);var a=i.result;if(null!==a.variation)return{result:a,reasons:o};var u=this.getVariationForRollout(e,t,r);o.push.apply(o,u.reasons);var s=u.result,c=r.getUserId();return s.variation?(this.logger.log(m.DEBUG,O.USER_IN_ROLLOUT,Ne,c,t.key),o.push([O.USER_IN_ROLLOUT,Ne,c,t.key]),{result:s,reasons:o}):(this.logger.log(m.DEBUG,O.USER_NOT_IN_ROLLOUT,Ne,c,t.key),o.push([O.USER_NOT_IN_ROLLOUT,Ne,c,t.key]),{result:s,reasons:o})},e.prototype.getVariationForFeatureExperiment=function(e,t,r,n){void 0===n&&(n={});var o,i,a=[],u=null;if(t.experimentIds.length>0)for(i=0;i<t.experimentIds.length;i++){var s=$(e,t.experimentIds[i],this.logger);if(s&&(o=this.getVariationFromExperimentRule(e,t.key,s,r,n),a.push.apply(a,o.reasons),u=o.result)){var c=null;return(c=s.variationKeyMap[u])||(c=ee(e,t.key,u)),{result:{experiment:s,variation:c,decisionSource:b.FEATURE_TEST},reasons:a}}}else this.logger.log(m.DEBUG,O.FEATURE_HAS_NO_EXPERIMENTS,Ne,t.key),a.push([O.FEATURE_HAS_NO_EXPERIMENTS,Ne,t.key]);return{result:{experiment:null,variation:null,decisionSource:b.FEATURE_TEST},reasons:a}},e.prototype.getVariationForRollout=function(e,t,r){var n=[];if(!t.rolloutId)return this.logger.log(m.DEBUG,O.NO_ROLLOUT_EXISTS,Ne,t.key),n.push([O.NO_ROLLOUT_EXISTS,Ne,t.key]),{result:{experiment:null,variation:null,decisionSource:b.ROLLOUT},reasons:n};var o=e.rolloutIdMap[t.rolloutId];if(!o)return this.logger.log(m.ERROR,I.INVALID_ROLLOUT_ID,Ne,t.rolloutId,t.key),n.push([I.INVALID_ROLLOUT_ID,Ne,t.rolloutId,t.key]),{result:{experiment:null,variation:null,decisionSource:b.ROLLOUT},reasons:n};var i,a,u,s=o.experiments;if(0===s.length)return this.logger.log(m.ERROR,O.ROLLOUT_HAS_NO_EXPERIMENTS,Ne,t.rolloutId),n.push([O.ROLLOUT_HAS_NO_EXPERIMENTS,Ne,t.rolloutId]),{result:{experiment:null,variation:null,decisionSource:b.ROLLOUT},reasons:n};for(var c=0;c<s.length;){if(i=this.getVariationFromDeliveryRule(e,t.key,s,c,r),n.push.apply(n,i.reasons),u=i.result,a=i.skipToEveryoneElse,u)return{result:{experiment:e.experimentIdMap[s[c].id],variation:u,decisionSource:b.ROLLOUT},reasons:n};c=a?s.length-1:c+1}return{result:{experiment:null,variation:null,decisionSource:b.ROLLOUT},reasons:n}},e.prototype.getBucketingId=function(e,t){var r=e;return null!=t&&"object"==typeof t&&t.hasOwnProperty(A.BUCKETING_ID)&&("string"==typeof t[A.BUCKETING_ID]?(r=t[A.BUCKETING_ID],this.logger.log(m.DEBUG,O.VALID_BUCKETING_ID,Ne,r)):this.logger.log(m.WARNING,O.BUCKETING_ID_NOT_STRING,Ne)),r},e.prototype.findValidatedForcedDecision=function(e,t,r,n){var o,i=[],a=t.getForcedDecision({flagKey:r,ruleKey:n}),u=null,s=t.getUserId();return e&&a&&(o=a.variationKey,(u=ee(e,r,o))?n?(this.logger.log(m.INFO,O.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,o,r,n,s),i.push([O.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,o,r,n,s])):(this.logger.log(m.INFO,O.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,o,r,s),i.push([O.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,o,r,s])):n?(this.logger.log(m.INFO,O.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,r,n,s),i.push([O.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,r,n,s])):(this.logger.log(m.INFO,O.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,r,s),i.push([O.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,r,s]))),{result:u,reasons:i}},e.prototype.removeForcedVariation=function(e,t,r){if(!e)throw new Error(v(I.INVALID_USER_ID,Ne));if(!this.forcedVariationMap.hasOwnProperty(e))throw new Error(v(I.USER_NOT_IN_FORCED_VARIATION,Ne,e));delete this.forcedVariationMap[e][t],this.logger.log(m.DEBUG,O.VARIATION_REMOVED_FOR_USER,Ne,r,e)},e.prototype.setInForcedVariationMap=function(e,t,r){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][t]=r,this.logger.log(m.DEBUG,O.USER_MAPPED_TO_FORCED_VARIATION,Ne,r,t,e)},e.prototype.getForcedVariation=function(e,t,r){var n,o=[],i=this.forcedVariationMap[r];if(!i)return this.logger.log(m.DEBUG,O.USER_HAS_NO_FORCED_VARIATION,Ne,r),{result:null,reasons:o};try{var a=Z(e,t);if(!a.hasOwnProperty("id"))return this.logger.log(m.ERROR,I.IMPROPERLY_FORMATTED_EXPERIMENT,Ne,t),o.push([I.IMPROPERLY_FORMATTED_EXPERIMENT,Ne,t]),{result:null,reasons:o};n=a.id}catch(e){return this.logger.log(m.ERROR,e.message),o.push(e.message),{result:null,reasons:o}}var u=i[n];if(!u)return this.logger.log(m.DEBUG,O.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,Ne,t,r),{result:null,reasons:o};var s=X(e,u);return s?(this.logger.log(m.DEBUG,O.USER_HAS_FORCED_VARIATION,Ne,s,t,r),o.push([O.USER_HAS_FORCED_VARIATION,Ne,s,t,r])):this.logger.log(m.DEBUG,O.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,Ne,t,r),{result:s,reasons:o}},e.prototype.setForcedVariation=function(e,t,r,n){if(null!=n&&!Se(n))return this.logger.log(m.ERROR,I.INVALID_VARIATION_KEY,Ne),!1;var o;try{var i=Z(e,t);if(!i.hasOwnProperty("id"))return this.logger.log(m.ERROR,I.IMPROPERLY_FORMATTED_EXPERIMENT,Ne,t),!1;o=i.id}catch(e){return this.logger.log(m.ERROR,e.message),!1}if(null==n)try{return this.removeForcedVariation(r,o,t),!0}catch(e){return this.logger.log(m.ERROR,e.message),!1}var a=function(e,t,r){var n=e.experimentKeyMap[t];return n.variationKeyMap.hasOwnProperty(r)?n.variationKeyMap[r].id:null}(e,t,n);if(!a)return this.logger.log(m.ERROR,I.NO_VARIATION_FOR_EXPERIMENT_KEY,Ne,n,t),!1;try{return this.setInForcedVariationMap(r,o,a),!0}catch(e){return this.logger.log(m.ERROR,e.message),!1}},e.prototype.getVariationFromExperimentRule=function(e,t,r,n,o){void 0===o&&(o={});var i=[],a=this.findValidatedForcedDecision(e,n,t,r.key);i.push.apply(i,a.reasons);var u=a.result;if(u)return{result:u.key,reasons:i};var s=this.getVariation(e,r,n,o);return i.push.apply(i,s.reasons),{result:s.result,reasons:i}},e.prototype.getVariationFromDeliveryRule=function(e,t,r,n,o){var i=[],a=!1,u=r[n],s=this.findValidatedForcedDecision(e,o,t,u.key);i.push.apply(i,s.reasons);var c=s.result;if(c)return{result:c,reasons:i,skipToEveryoneElse:a};var l,f,d,p,g,h=o.getUserId(),v=o.getAttributes(),y=this.getBucketingId(h,v),E=n===r.length-1,I=E?"Everyone Else":n+1,A=null,_=this.checkIfUserIsInAudience(e,u,T.RULE,v,I);return i.push.apply(i,_.reasons),_.result?(this.logger.log(m.DEBUG,O.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,Ne,h,I),i.push([O.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,Ne,h,I]),f=this.buildBucketerParams(e,u,y,h),d=ue(f),i.push.apply(i,d.reasons),(l=d.result)&&(g=l,A=(p=e).variationIdMap.hasOwnProperty(g)?p.variationIdMap[g]:null),A?(this.logger.log(m.DEBUG,O.USER_BUCKETED_INTO_TARGETING_RULE,Ne,h,I),i.push([O.USER_BUCKETED_INTO_TARGETING_RULE,Ne,h,I])):E||(this.logger.log(m.DEBUG,O.USER_NOT_BUCKETED_INTO_TARGETING_RULE,Ne,h,I),i.push([O.USER_NOT_BUCKETED_INTO_TARGETING_RULE,Ne,h,I]),a=!0)):(this.logger.log(m.DEBUG,O.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,Ne,h,I),i.push([O.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,Ne,h,I])),{result:A,reasons:i,skipToEveryoneElse:a}},e}();function we(e,t){if(e.hasOwnProperty("revenue")){var r=e.revenue,n=void 0;return"string"==typeof r?(n=parseInt(r),isNaN(n)?(t.log(m.INFO,O.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",r),null):(t.log(m.INFO,O.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",n),n)):"number"==typeof r?(n=r,t.log(m.INFO,O.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",n),n):null}return null}function Le(e,t){if(e.hasOwnProperty("value")){var r=e.value,n=void 0;return"string"==typeof r?(n=parseFloat(r),isNaN(n)?(t.log(m.INFO,O.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",r),null):(t.log(m.INFO,O.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",n),n)):"number"==typeof r?(n=r,t.log(m.INFO,O.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",n),n):null}return null}function Ue(e,t){return"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||E.isNumber(t)&&E.isSafeInteger(t))}var Pe="https://logx.optimizely.com/v1/events";function De(e){var t=e.attributes,r=e.userId,n=e.clientEngine,o=e.clientVersion,i=e.configObj,a=e.logger,u=!!i.anonymizeIP&&i.anonymizeIP,s=i.botFiltering,c={snapshots:[],visitor_id:r,attributes:[]},l={account_id:i.accountId,project_id:i.projectId,visitors:[c],revision:i.revision,client_name:n,client_version:o,anonymize_ip:u,enrich_decisions:!0};return t&&Object.keys(t||{}).forEach((function(e){if(Ue(e,t[e])){var r=Y(i,e,a);r&&l.visitors[0].attributes.push({entity_id:r,key:e,type:"custom",value:t[e]})}})),"boolean"==typeof s&&l.visitors[0].attributes.push({entity_id:A.BOT_FILTERING,key:A.BOT_FILTERING,type:"custom",value:s}),l}function ke(e){var t,r;return null!==(r=null===(t=e.experiment)||void 0===t?void 0:t.key)&&void 0!==r?r:""}function Me(e){var t,r;return null!==(r=null===(t=e.variation)||void 0===t?void 0:t.key)&&void 0!==r?r:""}function Fe(e){var t,r;return null!==(r=null===(t=e.variation)||void 0===t?void 0:t.featureEnabled)&&void 0!==r&&r}function Ve(e){var t,r;return null!==(r=null===(t=e.experiment)||void 0===t?void 0:t.id)&&void 0!==r?r:null}function xe(e){var t,r;return null!==(r=null===(t=e.variation)||void 0===t?void 0:t.id)&&void 0!==r?r:null}var je=o.getLogger("EVENT_BUILDER");function Be(e,t){var r=[];return t&&Object.keys(t||{}).forEach((function(n){if(Ue(n,t[n])){var o=Y(e,n,je);o&&r.push({entityId:o,key:n,value:t[n]})}})),r}var ze="USER_PROFILE_SERVICE_VALIDATOR",Ke=function(){function e(e){var r,n=this,o=e.clientEngine;o||(e.logger.log(m.INFO,O.INVALID_CLIENT_ENGINE,"OPTIMIZELY",o),o="node-sdk"),this.clientEngine=o,this.clientVersion=e.clientVersion||"4.9.2",this.errorHandler=e.errorHandler,this.isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger;var i=null!==(r=e.defaultDecideOptions)&&void 0!==r?r:[];Array.isArray(i)||(this.logger.log(m.DEBUG,O.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY"),i=[]);var a={};i.forEach((function(e){t.OptimizelyDecideOption[e]?a[e]=!0:n.logger.log(m.WARNING,O.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)})),this.defaultDecideOptions=a,this.projectConfigManager=function(e){return new ie(e)}({datafile:e.datafile,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey,datafileManager:e.datafileManager}),this.disposeOnUpdate=this.projectConfigManager.onUpdate((function(e){n.logger.log(m.INFO,O.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",e.revision,e.projectId),n.notificationCenter.sendNotifications(y.OPTIMIZELY_CONFIG_UPDATE)}));var u,s=this.projectConfigManager.onReady(),c=null;if(e.userProfileService)try{(function(e){if("object"==typeof e&&null!==e){if("function"!=typeof e.lookup)throw new Error(v(I.INVALID_USER_PROFILE_SERVICE,ze,"Missing function 'lookup'"));if("function"!=typeof e.save)throw new Error(v(I.INVALID_USER_PROFILE_SERVICE,ze,"Missing function 'save'"));return!0}throw new Error(v(I.INVALID_USER_PROFILE_SERVICE,ze))})(e.userProfileService)&&(c=e.userProfileService,this.logger.log(m.INFO,O.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY"))}catch(e){this.logger.log(m.WARNING,e.message)}this.decisionService=(u={userProfileService:c,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators},new Ce(u)),this.notificationCenter=e.notificationCenter,this.eventProcessor=e.eventProcessor;var l=this.eventProcessor.start();this.readyPromise=Promise.all([s,l]).then((function(e){return e[0]})),this.readyTimeouts={},this.nextReadyTimeoutId=0}return e.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},e.prototype.activate=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(m.ERROR,O.INVALID_OBJECT,"OPTIMIZELY","activate"),null;if(!this.validateInputs({experiment_key:e,user_id:t},r))return this.notActivatingExperiment(e,t);var n=this.projectConfigManager.getConfig();if(!n)return null;try{var o=this.getVariation(e,t,r);if(null===o)return this.notActivatingExperiment(e,t);if(!function(e,t){return"Running"===W(e,t)}(n,e))return this.logger.log(m.DEBUG,O.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e),o;var i=Z(n,e),a={experiment:i,variation:i.variationKeyMap[o],decisionSource:b.EXPERIMENT};return this.sendImpressionEvent(a,"",t,!0,r),o}catch(r){return this.logger.log(m.ERROR,r.message),this.logger.log(m.INFO,O.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),this.errorHandler.handleError(r),null}}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.sendImpressionEvent=function(e,t,r,n,o){var i=this.projectConfigManager.getConfig();if(i){var a=function(e){var t=e.configObj,r=e.decisionObj,n=e.userId,o=e.flagKey,i=e.enabled,a=e.userAttributes,u=e.clientEngine,s=e.clientVersion,c=r.decisionSource,l=ke(r),f=Ve(r),d=Me(r),p=xe(r),g=null!==f?J(t,f):null;return{type:"impression",timestamp:E.currentTimestamp(),uuid:E.uuid(),user:{id:n,attributes:Be(t,a)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:u,clientVersion:s,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},layer:{id:g},experiment:{id:f,key:l},variation:{id:p,key:d},ruleKey:l,flagKey:o,ruleType:c,enabled:i}}({decisionObj:e,flagKey:t,enabled:n,userId:r,userAttributes:o,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i});this.eventProcessor.process(a),this.emitNotificationCenterActivate(e,t,r,n,o)}},e.prototype.emitNotificationCenterActivate=function(e,t,r,n,o){var i=this.projectConfigManager.getConfig();if(i){var a,u=e.decisionSource,s=ke(e),c=Ve(e),l=Me(e),f=xe(e);null!==c&&""!==l&&(a=i.experimentIdMap[c]);var d,p=function(e){var t,r,n,o,i,a,u,s,c=De(e),l=(t=e.configObj,n=e.variationId,o=e.ruleKey,i=e.ruleType,a=e.flagKey,u=e.enabled,{decisions:[{campaign_id:s=(r=e.experimentId)?J(t,r):null,experiment_id:r,variation_id:n,metadata:{flag_key:a,rule_key:o,rule_type:i,variation_key:(n?X(t,n):null)||"",enabled:u}}],events:[{entity_id:s,timestamp:E.currentTimestamp(),key:"campaign_activated",uuid:E.uuid()}]});return c.visitors[0].snapshots.push(l),{httpVerb:"POST",url:Pe,params:c}}({attributes:o,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i,experimentId:c,ruleKey:s,flagKey:t,ruleType:u,userId:r,enabled:n,variationId:f,logger:this.logger});a&&a.variationKeyMap&&""!==l&&(d=a.variationKeyMap[l]),this.notificationCenter.sendNotifications(y.ACTIVATE,{experiment:a,userId:r,attributes:o,variation:d,logEvent:p})}},e.prototype.track=function(e,t,r,n){try{if(!this.isValidInstance())return void this.logger.log(m.ERROR,O.INVALID_OBJECT,"OPTIMIZELY","track");if(!this.validateInputs({user_id:t,event_key:e},r,n))return;var o=this.projectConfigManager.getConfig();if(!o)return;if(!function(e,t){return e.eventKeyMap.hasOwnProperty(t)}(o,e))return this.logger.log(m.WARNING,O.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e),void this.logger.log(m.WARNING,O.NOT_TRACKING_USER,"OPTIMIZELY",t);var i=function(e){var t=e.configObj,r=e.userId,n=e.userAttributes,o=e.clientEngine,i=e.clientVersion,a=e.eventKey,u=e.eventTags,s=q(t,a),c=u?we(u,je):null,l=u?Le(u,je):null;return{type:"conversion",timestamp:E.currentTimestamp(),uuid:E.uuid(),user:{id:r,attributes:Be(t,n)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:o,clientVersion:i,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},event:{id:s,key:a},revenue:c,value:l,tags:u}}({eventKey:e,eventTags:n=this.filterEmptyValues(n),userId:t,userAttributes:r,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o});this.logger.log(m.INFO,O.TRACK_EVENT,"OPTIMIZELY",e,t),this.eventProcessor.process(i),this.emitNotificationCenterTrack(e,t,r,n)}catch(e){this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),this.logger.log(m.ERROR,O.NOT_TRACKING_USER,"OPTIMIZELY",t)}},e.prototype.emitNotificationCenterTrack=function(e,t,r,n){try{var o=this.projectConfigManager.getConfig();if(!o)return;var i=function(e){var t=De(e),r=function(e,t,r,n){var o={events:[]},i={entity_id:q(e,t),timestamp:E.currentTimestamp(),uuid:E.uuid(),key:t};if(n){var a=we(n,r);null!==a&&(i.revenue=a);var u=Le(n,r);null!==u&&(i.value=u),i.tags=n}return o.events.push(i),o}(e.configObj,e.eventKey,e.logger,e.eventTags);return t.visitors[0].snapshots=[r],{httpVerb:"POST",url:Pe,params:t}}({attributes:r,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o,eventKey:e,eventTags:n,logger:this.logger,userId:t});this.notificationCenter.sendNotifications(y.TRACK,{eventKey:e,userId:t,attributes:r,eventTags:n,logEvent:i})}catch(e){this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.getVariation=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(m.ERROR,O.INVALID_OBJECT,"OPTIMIZELY","getVariation"),null;try{if(!this.validateInputs({experiment_key:e,user_id:t},r))return null;var n=this.projectConfigManager.getConfig();if(!n)return null;var o=n.experimentKeyMap[e];if(!o)return this.logger.log(m.DEBUG,I.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e),null;var i=this.decisionService.getVariation(n,o,this.createUserContext(t,r)).result,a=(u=n,s=o.id,u.experimentFeatureMap.hasOwnProperty(s)?_.FEATURE_TEST:_.AB_TEST);return this.notificationCenter.sendNotifications(y.DECISION,{type:a,userId:t,attributes:r||{},decisionInfo:{experimentKey:e,variationKey:i}}),i}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),null}}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),null}var u,s},e.prototype.setForcedVariation=function(e,t,r){if(!this.validateInputs({experiment_key:e,user_id:t}))return!1;var n=this.projectConfigManager.getConfig();if(!n)return!1;try{return this.decisionService.setForcedVariation(n,e,t,r)}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getForcedVariation=function(e,t){if(!this.validateInputs({experiment_key:e,user_id:t}))return null;var r=this.projectConfigManager.getConfig();if(!r)return null;try{return this.decisionService.getForcedVariation(r,e,t).result}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.validateInputs=function(e,t,r){try{if(e.hasOwnProperty("user_id")){var n=e.user_id;if("string"!=typeof n||null===n||"undefined"===n)throw new Error(v(I.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach((function(t){if(!Se(e[t]))throw new Error(v(I.INVALID_INPUT_FORMAT,"OPTIMIZELY",t))})),t&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(v(I.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(e).forEach((function(t){if(void 0===e[t])throw new Error(v(I.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))}))}(t),r&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(v(I.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(r),!0}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.notActivatingExperiment=function(e,t){return this.logger.log(m.INFO,O.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),null},e.prototype.filterEmptyValues=function(e){for(var t in e)!e.hasOwnProperty(t)||null!==e[t]&&void 0!==e[t]||delete e[t];return e},e.prototype.isFeatureEnabled=function(e,t,r){try{if(!this.isValidInstance())return this.logger.log(m.ERROR,O.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled"),!1;if(!this.validateInputs({feature_key:e,user_id:t},r))return!1;var n=this.projectConfigManager.getConfig();if(!n)return!1;var o=te(n,e,this.logger);if(!o)return!1;var i={},a=this.createUserContext(t,r),u=this.decisionService.getVariationForFeature(n,o,a).result,s=u.decisionSource,c=ke(u),l=Me(u),f=Fe(u);s===b.FEATURE_TEST&&(i={experimentKey:c,variationKey:l}),(s===b.FEATURE_TEST||s===b.ROLLOUT&&re(n))&&this.sendImpressionEvent(u,o.key,t,f,r),!0===f?this.logger.log(m.INFO,O.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,t):(this.logger.log(m.INFO,O.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,t),f=!1);var d={featureKey:e,featureEnabled:f,source:u.decisionSource,sourceInfo:i};return this.notificationCenter.sendNotifications(y.DECISION,{type:_.FEATURE,userId:t,attributes:r||{},decisionInfo:d}),f}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getEnabledFeatures=function(e,t){var r=this;try{var n=[];if(!this.isValidInstance())return this.logger.log(m.ERROR,O.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures"),n;if(!this.validateInputs({user_id:e}))return n;var o=this.projectConfigManager.getConfig();return o?(d(o.featureKeyMap).forEach((function(o){r.isFeatureEnabled(o.key,e,t)&&n.push(o.key)})),n):n}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),[]}},e.prototype.getFeatureVariable=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,null,r,n):(this.logger.log(m.ERROR,O.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable"),null)}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableForType=function(e,t,r,n,o){if(!this.validateInputs({feature_key:e,variable_key:t,user_id:n},o))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;var a=te(i,e,this.logger);if(!a)return null;var u=function(e,t,r,n){var o=e.featureKeyMap[t];return o?o.variableKeyMap[r]||(n.log(m.ERROR,I.VARIABLE_KEY_NOT_IN_DATAFILE,G,r,t),null):(n.log(m.ERROR,I.FEATURE_NOT_IN_DATAFILE,G,t),null)}(i,e,t,this.logger);if(!u)return null;if(r&&u.type!==r)return this.logger.log(m.WARNING,O.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",r,u.type),null;var s=this.createUserContext(n,o),c=this.decisionService.getVariationForFeature(i,a,s).result,l=Fe(c),f=this.getFeatureVariableValueFromVariation(e,l,c.variation,u,n),d={};return c.decisionSource===b.FEATURE_TEST&&null!==c.experiment&&null!==c.variation&&(d={experimentKey:c.experiment.key,variationKey:c.variation.key}),this.notificationCenter.sendNotifications(y.DECISION,{type:_.FEATURE_VARIABLE,userId:n,attributes:o||{},decisionInfo:{featureKey:e,featureEnabled:l,source:c.decisionSource,variableKey:t,variableValue:f,variableType:u.type,sourceInfo:d}}),f},e.prototype.getFeatureVariableValueFromVariation=function(e,t,r,n,o){var i=this.projectConfigManager.getConfig();if(!i)return null;var a=n.defaultValue;if(null!==r){var u=function(e,t,r,n){if(!t||!r)return null;if(!e.variationVariableUsageMap.hasOwnProperty(r.id))return n.log(m.ERROR,I.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,G,r.id),null;var o=e.variationVariableUsageMap[r.id][t.id];return o?o.value:null}(i,n,r,this.logger);null!==u?t?(a=u,this.logger.log(m.INFO,O.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",a,n.key,e)):this.logger.log(m.INFO,O.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,o,a):this.logger.log(m.INFO,O.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",n.key,r.key)}else this.logger.log(m.INFO,O.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",o,n.key,e);return function(e,t,r){var n;switch(t){case R.BOOLEAN:"true"!==e&&"false"!==e?(r.log(m.ERROR,I.UNABLE_TO_CAST_VALUE,G,e,t),n=null):n="true"===e;break;case R.INTEGER:n=parseInt(e,10),isNaN(n)&&(r.log(m.ERROR,I.UNABLE_TO_CAST_VALUE,G,e,t),n=null);break;case R.DOUBLE:n=parseFloat(e),isNaN(n)&&(r.log(m.ERROR,I.UNABLE_TO_CAST_VALUE,G,e,t),n=null);break;case R.JSON:try{n=JSON.parse(e)}catch(o){r.log(m.ERROR,I.UNABLE_TO_CAST_VALUE,G,e,t),n=null}break;default:n=e}return n}(a,n.type,this.logger)},e.prototype.getFeatureVariableBoolean=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,R.BOOLEAN,r,n):(this.logger.log(m.ERROR,O.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean"),null)}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableDouble=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,R.DOUBLE,r,n):(this.logger.log(m.ERROR,O.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble"),null)}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableInteger=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,R.INTEGER,r,n):(this.logger.log(m.ERROR,O.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger"),null)}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableString=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,R.STRING,r,n):(this.logger.log(m.ERROR,O.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString"),null)}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableJSON=function(e,t,r,n){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,R.JSON,r,n):(this.logger.log(m.ERROR,O.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON"),null)}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getAllFeatureVariables=function(e,t,r){var n=this;try{if(!this.isValidInstance())return this.logger.log(m.ERROR,O.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables"),null;if(!this.validateInputs({feature_key:e,user_id:t},r))return null;var o=this.projectConfigManager.getConfig();if(!o)return null;var i=te(o,e,this.logger);if(!i)return null;var a=this.createUserContext(t,r),u=this.decisionService.getVariationForFeature(o,i,a).result,s=Fe(u),c={};i.variables.forEach((function(r){c[r.key]=n.getFeatureVariableValueFromVariation(e,s,u.variation,r,t)}));var l={};return u.decisionSource===b.FEATURE_TEST&&null!==u.experiment&&null!==u.variation&&(l={experimentKey:u.experiment.key,variationKey:u.variation.key}),this.notificationCenter.sendNotifications(y.DECISION,{type:_.ALL_FEATURE_VARIABLES,userId:t,attributes:r||{},decisionInfo:{featureKey:e,featureEnabled:s,source:u.decisionSource,variableValues:c,sourceInfo:l}}),c}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.close=function(){var e=this;try{var t=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach((function(t){var r=e.readyTimeouts[t];clearTimeout(r.readyTimeout),r.onClose()})),this.readyTimeouts={},t.then((function(){return{success:!0}}),(function(e){return{success:!1,reason:String(e)}}))}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),Promise.resolve({success:!1,reason:String(e)})}},e.prototype.onReady=function(e){var t,r,n=this;"object"==typeof e&&null!==e&&void 0!==e.timeout&&(t=e.timeout),E.isSafeInteger(t)||(t=3e4);var o=new Promise((function(e){r=e})),i=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var a=setTimeout((function(){delete n.readyTimeouts[i],r({success:!1,reason:v("onReady timeout expired after %s ms",t)})}),t);return this.readyTimeouts[i]={readyTimeout:a,onClose:function(){r({success:!1,reason:"Instance closed"})}},this.readyPromise.then((function(){clearTimeout(a),delete n.readyTimeouts[i],r({success:!0})})),Promise.race([this.readyPromise,o])},e.prototype.createUserContext=function(e,t){return this.validateInputs({user_id:e},t)?new j({optimizely:this,userId:e,attributes:t}):null},e.prototype.decide=function(e,r,n){var o,i,a,u,c=this;void 0===n&&(n=[]);var l,f=e.getUserId(),d=e.getAttributes(),p=this.projectConfigManager.getConfig(),g=[];if(!this.isValidInstance()||!p)return this.logger.log(m.INFO,O.INVALID_OBJECT,"OPTIMIZELY","decide"),x(r,e,[N.SDK_NOT_READY]);var h=p.featureKeyMap[r];if(!h)return this.logger.log(m.ERROR,I.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",r),x(r,e,[v(N.FLAG_KEY_INVALID,r)]);var E=this.getAllDecideOptions(n),A=this.decisionService.findValidatedForcedDecision(p,e,r);g.push.apply(g,A.reasons);var T=A.result;if(T)l={experiment:null,variation:T,decisionSource:b.FEATURE_TEST};else{var R=this.decisionService.getVariationForFeature(p,h,e,E);g.push.apply(g,R.reasons),l=R.result}var S=l.decisionSource,C=null!==(i=null===(o=l.experiment)||void 0===o?void 0:o.key)&&void 0!==i?i:null,w=null!==(u=null===(a=l.variation)||void 0===a?void 0:a.key)&&void 0!==u?u:null,L=Fe(l);!0===L?this.logger.log(m.INFO,O.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",r,f):this.logger.log(m.INFO,O.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",r,f);var U={},P=!1;E[t.OptimizelyDecideOption.EXCLUDE_VARIABLES]||h.variables.forEach((function(e){U[e.key]=c.getFeatureVariableValueFromVariation(r,L,l.variation,e,f)})),!E[t.OptimizelyDecideOption.DISABLE_DECISION_EVENT]&&(S===b.FEATURE_TEST||S===b.ROLLOUT&&re(p))&&(this.sendImpressionEvent(l,r,f,L,d),P=!0);var D=[];E[t.OptimizelyDecideOption.INCLUDE_REASONS]&&(D=g.map((function(e){return v.apply(void 0,s([e[0]],e.slice(1)))})));var k={flagKey:r,enabled:L,variationKey:w,ruleKey:C,variables:U,reasons:D,decisionEventDispatched:P};return this.notificationCenter.sendNotifications(y.DECISION,{type:_.FLAG,userId:f,attributes:d,decisionInfo:k}),{variationKey:w,enabled:L,variables:U,ruleKey:C,flagKey:r,userContext:e,reasons:D}},e.prototype.getAllDecideOptions=function(e){var r=this,n=u({},this.defaultDecideOptions);return Array.isArray(e)?e.forEach((function(e){t.OptimizelyDecideOption[e]?n[e]=!0:r.logger.log(m.WARNING,O.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)})):this.logger.log(m.DEBUG,O.INVALID_DECIDE_OPTIONS,"OPTIMIZELY"),n},e.prototype.decideForKeys=function(e,r,n){var o=this;void 0===n&&(n=[]);var i={};if(!this.isValidInstance())return this.logger.log(m.ERROR,O.INVALID_OBJECT,"OPTIMIZELY","decideForKeys"),i;if(0===r.length)return i;var a=this.getAllDecideOptions(n);return r.forEach((function(r){var u=o.decide(e,r,n);a[t.OptimizelyDecideOption.ENABLED_FLAGS_ONLY]&&!u.enabled||(i[r]=u)})),i},e.prototype.decideAll=function(e,t){void 0===t&&(t=[]);var r=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!r)return this.logger.log(m.ERROR,O.INVALID_OBJECT,"OPTIMIZELY","decideAll"),{};var n=Object.keys(r.featureKeyMap);return this.decideForKeys(e,n,t)},e}(),Ge=function(){function e(e){var t=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},d(y).forEach((function(e){t.notificationListeners[e]=[]})),this.listenerId=1}return e.prototype.addNotificationListener=function(e,t){try{if(!(d(y).indexOf(e)>-1))return-1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var r=!1;if((this.notificationListeners[e]||[]).forEach((function(e){e.callback!==t||(r=!0)})),r)return-1;this.notificationListeners[e].push({id:this.listenerId,callback:t});var n=this.listenerId;return this.listenerId+=1,n}catch(e){return this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e),-1}},e.prototype.removeNotificationListener=function(e){var t=this;try{var r,n;if(Object.keys(this.notificationListeners).some((function(o){return(t.notificationListeners[o]||[]).every((function(t,i){return t.id!==e||(r=i,n=o,!1)})),void 0!==r&&void 0!==n})),void 0!==r&&void 0!==n)return this.notificationListeners[n].splice(r,1),!0}catch(e){this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e)}return!1},e.prototype.clearAllNotificationListeners=function(){var e=this;try{d(y).forEach((function(t){e.notificationListeners[t]=[]}))}catch(e){this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(e){this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.sendNotifications=function(e,t){var r=this;try{(this.notificationListeners[e]||[]).forEach((function(n){var o=n.callback;try{o(t)}catch(t){r.logger.log(m.ERROR,O.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,t.message)}}))}catch(e){this.logger.log(m.ERROR,e.message),this.errorHandler.handleError(e)}},e}();function He(e){var t=[],r=e[0];return e.forEach((function(e){if("conversion"===e.type||"impression"===e.type){var r=function(e){var t={snapshots:[],visitor_id:e.user.id,attributes:[]};return e.user.attributes.forEach((function(e){t.attributes.push({entity_id:e.entityId,key:e.key,type:"custom",value:e.value})})),"boolean"==typeof e.context.botFiltering&&t.attributes.push({entity_id:"$opt_bot_filtering",key:"$opt_bot_filtering",type:"custom",value:e.context.botFiltering}),t}(e);"impression"===e.type?r.snapshots.push(function(e){var t,r,n=e.layer,o=e.experiment,i=e.variation,a=e.ruleKey,u=e.flagKey,s=e.ruleType,c=e.enabled,l=n?n.id:null;return{decisions:[{campaign_id:l,experiment_id:null!==(t=null==o?void 0:o.id)&&void 0!==t?t:"",variation_id:null!==(r=null==i?void 0:i.id)&&void 0!==r?r:"",metadata:{flag_key:u,rule_key:a,rule_type:s,variation_key:i?i.key:"",enabled:c}}],events:[{entity_id:l,timestamp:e.timestamp,key:"campaign_activated",uuid:e.uuid}]}}(e)):"conversion"===e.type&&r.snapshots.push(function(e){var t=u({},e.tags);delete t.revenue,delete t.value;var r={entity_id:e.event.id,key:e.event.key,timestamp:e.timestamp,uuid:e.uuid};return e.tags&&(r.tags=e.tags),null!=e.value&&(r.value=e.value),null!=e.revenue&&(r.revenue=e.revenue),{events:[r]}}(e)),t.push(r)}})),{client_name:r.context.clientName,client_version:r.context.clientVersion,account_id:r.context.accountId,project_id:r.context.projectId,revision:r.context.revision,anonymize_ip:r.context.anonymizeIP,enrich_decisions:!0,visitors:t}}var Je=function(){function e(e,t){this.dispatcher=e,this.notificationSender=t}return e.prototype.process=function(e){var t={url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:He([e])};this.dispatcher.dispatchEvent(t,(function(){})),this.notificationSender&&this.notificationSender.sendNotifications(y.LOG_EVENT,t)},e.prototype.start=function(){},e.prototype.stop=function(){return Promise.resolve()},e}(),Ye=function(){function e(){}return e.prototype.on=function(e,t){return function(){}},e.prototype.get=function(){return""},e.prototype.onReady=function(){return Promise.resolve()},e.prototype.start=function(){},e.prototype.stop=function(){return Promise.resolve()},e}(),qe=o.getLogger();o.setLogHandler(k()),o.setLogLevel(o.LogLevel.ERROR);var We=function(e){try{var t=!1;e.errorHandler&&o.setErrorHandler(e.errorHandler),e.logger&&(o.setLogHandler(e.logger),o.setLogLevel(o.LogLevel.NOTSET)),void 0!==e.logLevel&&o.setLogLevel(e.logLevel);try{(function(e){if("object"==typeof e&&null!==e){var t=e,r=t.errorHandler,n=t.eventDispatcher,o=t.logger;if(r&&"function"!=typeof r.handleError)throw new Error(v(I.INVALID_ERROR_HANDLER,w));if(n&&"function"!=typeof n.dispatchEvent)throw new Error(v(I.INVALID_EVENT_DISPATCHER,w));if(o&&"function"!=typeof o.log)throw new Error(v(I.INVALID_LOGGER,w));return!0}throw new Error(v(I.INVALID_CONFIG,w))})(e),t=!0}catch(e){qe.error(e)}var r=o.getErrorHandler(),n=new Ge({logger:qe,errorHandler:r}),i=e.eventDispatcher||P,a=new Je(i,n),s=u(u({clientEngine:"javascript-sdk"},e),{logger:qe,errorHandler:r,datafileManager:new Ye,eventProcessor:a,notificationCenter:n,isValidInstance:t});return new Ke(s)}catch(e){return qe.error(e),null}},Xe={logging:V,errorHandler:U,eventDispatcher:P,enums:C,setLogger:o.setLogHandler,setLogLevel:o.setLogLevel,createInstance:We,OptimizelyDecideOption:t.OptimizelyDecideOption};Object.defineProperty(t,"setLogLevel",{enumerable:!0,get:function(){return o.setLogLevel}}),Object.defineProperty(t,"setLogger",{enumerable:!0,get:function(){return o.setLogHandler}}),t.createInstance=We,t.default=Xe,t.enums=C,t.errorHandler=U,t.eventDispatcher=P,t.logging=V},9015:(e,t,r)=>{var n=r(474),o=r(6290),i=o;i.v1=n,i.v4=o,e.exports=i},3219:e=>{for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0,o=t;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},4102:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},474:(e,t,r)=>{var n,o,i=r(4102),a=r(3219),u=0,s=0;e.exports=function(e,t,r){var c=t&&r||0,l=t||[],f=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var g=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:s+1,v=g-u+(h-s)/1e4;if(v<0&&void 0===e.clockseq&&(d=d+1&16383),(v<0||g>u)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=g,s=h,o=d;var y=(1e4*(268435455&(g+=122192928e5))+h)%4294967296;l[c++]=y>>>24&255,l[c++]=y>>>16&255,l[c++]=y>>>8&255,l[c++]=255&y;var E=g/4294967296*1e4&268435455;l[c++]=E>>>8&255,l[c++]=255&E,l[c++]=E>>>24&15|16,l[c++]=E>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var m=0;m<6;++m)l[c+m]=f[m];return t||a(l)}},6290:(e,t,r)=>{var n=r(4102),o=r(3219);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[i+u]=a[u];return t||o(a)}},9871:function(e,t,r){var n,o,i,a;function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}a=function(e,t,n){"use strict";var o={AUTH:"auth",SIGN_IN:"signin",MY_ACCOUNT:"account",LANDING_PAGE:"landingpage",CATALOG:"catalog",PREFERENCES:"preferences",HELP:"help",ERROR:"error",REDEEM:"redeem",PICKS:"picks",NEWS:"news",PARTNERS:"partners"},i={DEVELOPMENT:"development",TESTING:"testing",EDGE:"edge",STAGING:"staging",PRODUCTION:"production"},a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},a(e,t)},c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};function l(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function f(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},p={};!function(e,t){!function(e){var t=function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var r="__DO NOT USE! (dazn runtime modules)",n=function(e,n){var o=function(e){return void 0===e[r]&&(e[r]={}),e[r]}(n),i={};return{runtime:e.runtime,apiRoot:o,useAPIComponents:function r(n){return Promise.all(n.map((function(n){return a=n.componentName,u=function(){return Promise.resolve(n.init(t(t({},e),{useAPIComponents:r}))).catch((function(e){var t=e instanceof Error?e:new Error(String(e));throw t.message='[Bootstrap] API init error @ "'.concat(n.componentName,'" ').concat(t.message),t}))},o[a]?Promise.resolve(o[a]):(void 0===i[a]&&(i[a]=u().then((function(e){return o[a]=e,i[a]=void 0,e}))),i[a]);var a,u}))).then((function(){return o}))}}},o=function(e,t){var r;return(r={})["".concat(e,"Component")]={componentName:e,init:t,toString:function(){return"".concat(e," (Bootstrap API Component)")}},r},i=function(e,t){return o(e,t)},a=Object.freeze({__proto__:null,LOOKUP_FN_NAME:"$",RUNTIME_ROOT_NAME:r});e.ALL_LEVELS=["debug","log","warn","error"],e.PROD_LEVELS=["warn","error"],e.createAPIComponentForBrowser=function(e,t){return o(e,t)},e.createAPIComponentForNodeJS=function(e,t){return o(e,t)},e.createAbstractAPIComponent=o,e.createStubComponent=function(e){return i(e,(t=e,function(){throw new Error('API component "'.concat(t,'" is not implemented'))}));var t},e.createUniversalAPIComponent=i,e.daznAPI=a,e.prepareAPIRoot=n,e.prepareAPIRootForBrowser=function(e,t){return void 0===t&&(t=e),n({runtime:"browser",window:e},t)},e.prepareAPIRootForNodeJS=function(e){return void 0===e&&(e=d),n({runtime:"nodejs"},e)}}(t)}(0,p);var g=p,h={};!function(e,t){!function(e){var t="__DO NOT USE! (dazn runtime modules)",r=function(e,t){var r;return(r={})["".concat(e,"Component")]={componentName:e,init:t,toString:function(){return"".concat(e," (Bootstrap API Component)")}},r},n=function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};function o(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var i=function(e,r){var o=function(e){return void 0===e[t]&&(e[t]={}),e[t]}(r),i={};return{runtime:e.runtime,apiRoot:o,useAPIComponents:function t(r){return Promise.all(r.map((function(r){return a=r.componentName,u=function(){return Promise.resolve(r.init(n(n({},e),{useAPIComponents:t}))).catch((function(e){var t=e instanceof Error?e:new Error(String(e));throw t.message='[Bootstrap] API init error @ "'.concat(r.componentName,'" ').concat(t.message),t}))},o[a]?Promise.resolve(o[a]):(void 0===i[a]&&(i[a]=u().then((function(e){return o[a]=e,i[a]=void 0,e}))),i[a]);var a,u}))).then((function(){return o}))}}},a=function(e,t){return r(e,t)};r("devMode",(function(){var e=!1;return{enableDevMode:function(){e=!0},disableDevMode:function(){e=!1},isDevModeEnabled:function(){return e}}}));var u=function(e){return t=e,r(e,(function(){throw new Error('API component "'.concat(t,'" is not implemented'))}));var t},c=u("asyncStorage").asyncStorageComponent;r("safeMode",(function(){return{fetchSafeModeStatus:function(){return Promise.resolve({countryCode:"DE",status:"GREEN"})},getSafeModeURL:function(){return"https://lite.fireball.dazn.com"},getSafeModeURLInQRImage:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALkAAAC5CAAAAABRxsGAAAABx0lEQVR42u3cyY6DMBQEQP7/p5njSCPG6cbZDMUpkp1QXB5+i7Ltq14bOTk5OTk5OTk5OTk5+VXk2+Prd1/wA+OF9G7k5OT7WPRn9Whf5a3uRk5OfmgLIkq6Ov5GF7/IycmDqBC86ccPR05O/sLYcrQ5WPiCqEhOvrw8WP03rASrH8ssyMmXl1c1rulPH6vOkZOvJ49bNWHgCBxv7nCRk68sD07W6ft9vK8675OTk+/97U4eFfr6Njk5+aPdYckryJHHJ4LgqEBOTr4nmWw4HNU/3NPr5+TkF5KnqfDJtlGVlpOTk+/93fs0Ou0TzU8Uk5NfXB6M51ed3KoTRE5O3mXQ1aE66N8GXaQn5f7k5JeUn6wVp9l3NYNMTk6eFKamW0nV75GTk2/9e7uaq6iO4WlYISe/tzxNZ6vMuMrDycnJk7d/NTMcsKqLnJx8fuY/rWIF7dzqGcjJbyuvhoSD4cbxwskjADn5veVpRKny5jS2JIGNnJz85JB/WtUOalzPnIUmJ7+XfOYZ0sT7NbGFnPw28mBoImjnVqcEcnLyqf9A69PoN2fQ5OTLy9Ma18ypPA0w5OTkq13k5OTk5OTk5OTk5OTkK14/3LbHKtUgdd8AAAAASUVORK5CYII="}}}));var l=u("safeMode").safeModeComponent;r("uiLanguage",(function(){var e="en";return{getUILanguage:function(){return e},setUILanguage:function(t){return e=t},getURLWithUpdatedUILanguage:function(e){return"string"==typeof e?"http://localhost/".concat(e):null},getUISupportedLanguages:function(){return[e]}}}));var f=u("uiLanguage").uiLanguageComponent,d=u("l10n").l10nComponent,p=function(e){return function(t,r){e(t,r)&&g(t,r)}},g=function(e,t){console[e.logLevel].apply(console,o(["[".concat(e.globalLabel," | ").concat(e.label,"]")],t,!1))},h=function(e){var t=e.globalLabel,r=e.onMessage,n=function(e,n){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return r({globalLabel:t,label:n,logLevel:e},o)}};return{createLogger:function(e){return{debug:n("debug",e),log:n("log",e),warn:n("warn",e),error:n("error",e)}}}},v=["warn","error"],y=function(e){var t=e.isDevModeEnabled,r=e.environment,n=e.logLevel;return!(!t&&"production"===r)||v.includes(n)},E=u("logger").loggerComponent,m={};!function(e,t){!function(e){var t=function(e){return 0===e?Promise.resolve():new Promise((function(t){return setTimeout(t,e)}))},r=function(e,t){return 1===e?0:t*Math.pow(2,e-2)},n={auth:!0,signin:!0,account:!0,catalog:!0,preferences:!0,landingpage:!0,help:!0,error:!0,redeem:!0,picks:!0,news:!0,partners:!0},o={General:"00",Internal:"10",StartupService:"55",ResourceStringService:"56",RefreshTokenService:"66",SignOutService:"67",UserProfileService:"70",ChapterLoading:"84",UnsupportedBrowser:"111"},i={GenericError:"000",RestrictedCountry:"006",AppLoadError:"007",UnexpectedRefreshTokenError:"062",UnathorizedRefreshTokenError:"063",ServiceTimeout:"070",ServiceTooManyAttemps:"098",ChapterInvalid:"116",UnableToLoadChapter:"117"},a={Ignore:"-01",GenericError:"000",StartupRestrictedCountry:"002",RequestTimeout:"017",ParserError:"018",NetworkError:"034",ServerError:"500",BadRequest:"400",NotFound:"404",AccessDenied:"403",Unauthenticated:"401",TooManyRequests:"429"},u=Object.freeze({__proto__:null,category:o,code:i,internal:a}),s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},s(e,t)},c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var l,f=function(e){function t(t,r,n,u,s){void 0===r&&(r=o.General),void 0===n&&(n=i.GenericError),void 0===u&&(u=a.GenericError);var c=e.call(this,t)||this;return c.category=r,c.code=n,c.internal=u,s instanceof Error?c.originalException=s:"string"==typeof s&&(c.originalException=new Error(s)),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Error),d=function(e,t){var r;null===(r=window.newrelic)||void 0===r||r.addPageAction(e,t)},p=function(e,t){var r;null===(r=window.newrelic)||void 0===r||r.setCustomAttribute(e,t)},g=function(e){var t;null===(t=window.newrelic)||void 0===t||t.addToTrace(e)},h=function(e,t){return"SELECT * FROM PageAction WHERE sessionId='".concat(e,"' AND actionName='").concat(t,"'")},v=function(e,t){var r=Math.ceil(e),n=Math.floor(t);return Math.floor(Math.random()*(n-r))+r},y=Object.freeze({__proto__:null}),E=Object.freeze({__proto__:null}),m=Object.freeze({__proto__:null}),I=Object.freeze({__proto__:null}),O=Object.freeze({__proto__:null}),A=Object.freeze({__proto__:null}),_=Object.freeze({__proto__:null}),b=Object.freeze({__proto__:null}),T=Object.freeze({__proto__:null}),R=Object.freeze({__proto__:null}),S=Object.freeze({__proto__:null}),N=Object.freeze({__proto__:null}),C=Object.freeze({__proto__:null}),w=Object.freeze({__proto__:null,accessibilityTools:C,config:E,device:m,event:I,feEvents:y,featurevisor:_,fflag:A,lifecycle:O,optimizely:b,resourceStrings:T,storage:R,user:N,util:S});!function(e){e.Once="once",e.Off="off",e.Percentage="percentage"}(l||(l={}));var L={type:l.Off},U={},P=function(e){return!U[e.functionName]&&(U[e.functionName]=!0,!0)},D=function(e){return 100*Math.random()<e.value},k=Object.freeze({__proto__:null,NO_TRACKING:L,get Sampling(){return l},createNRTracking:function(e){return function(t,r){var n;null===(n=e.newrelic)||void 0===n||n.addPageAction("bootstrapApiUsage",c(c({},r),{bootstrapApiName:t.functionName,bootstrapApiType:"runtime"}))}},createTracking:function(e,t){return void 0===t&&(t={}),function(r){var n,o,i=null===(n=t.sampling)||void 0===n?void 0:n[r.functionName],a=null!==(o=null!=i?i:t.defaultSampling)&&void 0!==o?o:L;(function(e){return e.type!==l.Off&&(e.type===l.Once?P(e):e.type===l.Percentage?D(e):void function(e){var t=new Error("Unknown sampling type: ".concat(String(e)));throw console.error(t),t}(e))})(c(c({},a),r))&&e(r,t.trackingParams)}},shouldInvokeOnce:P,shouldInvokeSampled:D});e.EraroError=f,e.again=function(e,n){var o=void 0===n?{}:n,i=o.timeout,a=void 0===i?5e3:i,u=o.retries,s=void 0===u?2:u,c=o.backoff,l=void 0===c?100:c;return function n(o){return function(n){return t(r(n,l)).then((function(){return Promise.race([e(),t(a).then((function(){throw new Error("Attempt ".concat(n," took longer than ").concat(a,"ms"))}))])}))}(o).catch((function(e){if(o-1>=s)throw e;return n(o+1)}))}(1)},e.boot=w,e.calcBackoff=r,e.createEraroError=function(e,t,r,n,o){return new f(e,t,r,n,o)},e.createNewRelicTracer=function(e){var t=e.tracerName,r=e.sessionId,n=e.useConsole,o=void 0!==n&&n,i=e.now,a=void 0===i?function(){return Date.now()}:i,u=o?function(e){return function(t,r){console.info("👀 NR ".concat(e," ").concat(t," ").concat(JSON.stringify(r)))}}(t):function(){},s=function(e){return[t,e].join(".")},l=function(e,t){return[e,s(t)].join(" ")},f=function(e){var t=a(),n=s("trace");return function(){var o=a();d(n,{spanName:e,endTime:o,startTime:t,durationMs:o-t,sessionId:r}),g({name:l("🟦",e),start:t,end:o,origin:h(r,n)}),u(e,o-t)}},v=function(e,t){void 0===t&&(t={});var n=s(e),o=c(c({},t),{sessionId:r});d(n,o),g({name:l("🟢","addPageAction(".concat(e,")")),start:a(),end:a(),origin:h(r,n)}),u('addPageAction "'.concat(n,'"'),o)},y=function(e,t){var n=function(e,t){void 0===t&&(t="");var r=e instanceof Error?e:new Error(String(e));return t&&(r.message="".concat(r.message," | ").concat(t)),r}(e,t);!function(e,t){var r;null===(r=window.newrelic)||void 0===r||r.noticeError(e,void 0)}(n),g({name:l("⛔️","noticeError()"),start:a(),origin:"".concat(n.message," | SELECT * FROM JavaScriptError WHERE sessionId='").concat(r,"'")}),u("⛔️ noticeError",n)};return p("sessionId",r),u("NRQL hint:",h(r,"ACTION_NAME")),v("createNewRelicTracer"),{tracerName:t,sessionId:r,noticeError:y,addPageAction:v,addRelease:function(e,t){!function(e,t){var r;null===(r=window.newrelic)||void 0===r||r.addRelease(e,t)}(e,t),u('addRelease "'.concat(e,"\"'"),t)},trace:function(e){return f("trace.".concat(e))},extendCustomAttributes:function(e){void 0===e&&(e={}),u("extendCustomAttributes",e),Object.keys(e).forEach((function(t){return p(s(t),String(e[t]))}))},wrapAsyncFn:function(e,r){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=f("asyncFn.".concat(e));return Promise.resolve(null).then((function(){return r.apply(void 0,n)})).then((function(e){return i(),e})).catch((function(r){throw i(),y(r,"createNewRelicTracer(".concat(t,").wrapAsyncFn(").concat(e,")")),r}))}}}},e.createQueryStringReader=function(e){var t;void 0===e&&(e=window.location.search);var r=(null!==(t=e.split("#")[0].split("?")[1])&&void 0!==t?t:"").split("&").reduce((function(e,t){var r=t.split("="),n=r[0],o=r[1];return e[n]=o,e}),{});return{getParamValueByKey:function(e){return e in r?decodeURIComponent(r[e]):null}}},e.endsWith=function(e,t){return e.lastIndexOf(t)===e.length-t.length},e.eraroCodesMap=u,e.generateSessionId=function(){for(var e=8,t=(new Date).getTime().toString(16).slice(-8);e++<36;)t+=(0==(51*e&52)?"-":15===e?4:20===e?v(8,11):v(0,15)).toString(16);return t},e.getChapterName=function(e){return"string"==typeof e?e:e.chapterName},e.isChapterName=function(e){return"string"==typeof e&&e in n},e.isEraroError=function(e){return e instanceof Error&&e.hasOwnProperty("category")&&e.hasOwnProperty("code")&&e.hasOwnProperty("internal")},e.keysOf=function(e){return Object.keys(e)},e.startsWith=function(e,t){return 0===e.indexOf(t)},e.tracking=k}(t)}(0,m);var I=m,O=function(e,t){I.keysOf(t).forEach((function(r){e.style[r]=t[r]}))},A={circle:{width:"2rem",height:"2rem",left:"2rem",top:"2rem",borderRadius:"1rem"},line:{height:"2px",width:"100%"},basic:{background:"#F7FF1A",position:"fixed",zIndex:"100001"}},_=function(e,t){var r=e.createElement("div");return r.className="protected",r.id="devMode",O(r,A.basic),O(r,A[t]),e.body.insertBefore(r,e.body.childNodes[0]),r},b=u("devMode").devModeComponent,T=a("closedCaptions",(function(e){var t=e.window,r=function(){return t.dazn.unstable_closedCaptions};return{activateClosedCaptions:function(){var e;return null===(e=r())||void 0===e?void 0:e.activate()},deactivateClosedCaptions:function(){var e;return null===(e=r())||void 0===e?void 0:e.deactivate()},isClosedCaptionsActive:function(){var e;return(null===(e=r())||void 0===e?void 0:e.isActive())||!1}}})).closedCaptionsComponent,R=/^[a-z]{2}$/i,S=function(e){return null!=e&&R.test(C(e))},N=/^[a-z]{2}-(?:[a-z]{2}|global)$/i,C=function(e){return String(e).toLowerCase()},w=function(e){var t,r=e.language,n=e.currentPath.split("/").filter(Boolean);return t=n[0],N.test(t)?(n[0]=function(e){var t=e.languageSegment;return[e.language.toLocaleLowerCase(),t.split("-")[1]].join("-")}({languageSegment:n[0],language:r}),"/".concat(n.join("/"))):"/".concat(r,"-GLOBAL/").concat(n.join("/"))},L=function(e){var t=e.window,r=e.language;return[w({language:r,currentPath:t.location.pathname}),t.location.search,t.location.hash].join("")},U=a("authToken",(function(e){var t=e.window;return{getDecodedUserToken:function(){return t.dazn.auth.unstable_getDecodedJWT()},getEncodedUserToken:function(){return t.dazn.auth.token}}})).authTokenComponent,P=function(e,t){return o(o(["error2"],"category"in e?[e.category,e.code,e.status]:e,!0),[t],!1).filter(Boolean).join("_")},D=[/%\{([^\}]+)\}/,/%([^\}])+%/],k=function(){function e(e){this.storagesDict={},this.currentLanguage=e}return e.prototype.setCurrentLanguage=function(e){return e in this.storagesDict&&(this.currentLanguage=e),this},e.prototype.addLanguage=function(e){return this.storagesDict[e.language]=e,this},e.prototype.getStorage=function(e){return void 0===e&&(e=this.currentLanguage),this.storagesDict,this.storagesDict[e]},e}(),M=function(){function e(e,t){this.data={Links:[],Strings:{}},this.language=e,this.updateData(t)}return e.prototype.updateData=function(e){return this.data=e,this},e.prototype.getTranslation=function(e){return this.data.Strings[e]},e.prototype.getLink=function(e){var t;return null===(t=this.data.Links.find((function(t){return t.Key===e})))||void 0===t?void 0:t.Value},e.prototype.getAllLinkKeys=function(){return this.data.Links.map((function(e){return e.Key}))},e}(),F=a("deviceMetadata",(function(e){var t=e.window;return{getDeviceId:function(){return t.dazn.device.id},getDeviceGuid:function(){return t.dazn.device.guid},getDevicePlatform:function(){return t.dazn.device.platform},getDeviceType:function(){return t.dazn.device.type},getDeviceManufacturer:function(){return t.dazn.device.manufacturer},getDeviceBrand:function(){return t.dazn.device.brand},getDeviceModel:function(){return t.dazn.device.model},getDeviceFirmwareVersion:function(){return t.dazn.device.firmwareVersion},getDeviceOsName:function(){return t.dazn.device.osName},getDeviceOsVersion:function(){return t.dazn.device.osVersion}}})).deviceMetadataComponent,V=a("feEvents",(function(e){var t=e.window;return{handleFeEvent:function(e,r,n){return t.dazn.unstable_handleFeEvent(e,r,n)}}})).feEventsComponent,x=a("startupDevice",(function(e){var t=e.window;return{getDeviceGuid:function(){return t.dazn.device.guid},getDeviceMaxVideoResolution:function(){return t.dazn.startupData.UserDevice.MaxConfiguredVideoResolution},isBrowserSupported:function(){return!t.dazn.startupData.UserDevice.BrowserNotSupported}}})).startupDeviceComponent,j=function(e,t){return a("logger",(function(r){return Promise.resolve(r).then(t).then((function(t){return h({globalLabel:e,onMessage:t})}))})).loggerComponent};e.asyncStorageComponent=c,e.authTokenComponent=U,e.closedCaptionsComponent=T,e.createAPIComponentForBrowser=a,e.createAsyncStorageComponent=function(e){return a("asyncStorage",(function(){return e})).asyncStorageComponent},e.createConsoleLogger=p,e.createCustomLoggerComponent=j,e.createDevModeComponent=function(e){var t=e.indicatorVariant,r=e.isEnabled,n=e.onChange,o=a("devMode",(function(e){var o=e.window,i={isDevModeEnabled:r,uiElement:r?_(o.document,t):void 0};return{enableDevMode:function(){i.isDevModeEnabled=!0,i.uiElement=_(o.document,t),null==n||n(!0)},disableDevMode:function(){var e;i.isDevModeEnabled=!1,null===(e=i.uiElement)||void 0===e||e.remove(),i.uiElement=void 0,null==n||n(!1)},isDevModeEnabled:function(){return i.isDevModeEnabled}}})).devModeComponent;return o},e.createL10nComponent=function(e){return a("l10n",(function(t){return(0,t.useAPIComponents)([f]).then((function(t){return function(e,t){var r=new k(e.initialLanguage),o=r.currentLanguage,i=function(e){return r.getStorage().getTranslation(e)};return Promise.resolve(t.unsafeFetchData(o)).then((function(e){if(function(e){return null!==e&&"object"==s(e)&&function(e){return!(!e.Links||!e.Strings)&&Array.isArray(e.Links)}(e)}(e))return e;throw new Error("Not a ResourceString JSON for language ".concat(o))})).then((function(e){var t=new M(o,e);r.addLanguage(t).setCurrentLanguage(o)})).then((function(){return{getL10nErrorKey:P,createL10nAPI:function(e){var o=n(n({},t),e);return{getL10nRawValue:i,t:function(e,t){var r,n=null!==(r=i(e))&&void 0!==r?r:o.getMissingTranslation(e);return n?function(e,t){if(!D.some((function(t){return t.test(e)})))return e;var r=function(e,r){var n;return r&&null!==(n=t(r))&&void 0!==n?n:e};return D.reduce((function(e,t){var n={prev:e,current:e};do{n.prev=n.current,n.current=n.current.replace(t,r)}while(n.current!==n.prev);return n.current}),e)}(n,(function(r){var n;return t&&r in t?String(t[r]):null!==(n=o.getMissingSubstitute(r,e))&&void 0!==n?n:void 0})):""},getLink:function(e){var t;return null!==(t=r.getStorage().getLink(e))&&void 0!==t?t:o.getMissingLink(e)}}}}}))}({initialLanguage:t.uiLanguage.getUILanguage()},{getMissingLink:function(e){return e},getMissingTranslation:function(e){return e},getMissingSubstitute:function(){},unsafeFetchData:e})}))})).l10nComponent},e.createLoggerComponent=function(e,t){return j(e,(function(e){return(0,e.useAPIComponents)([b]).then((function(e){var r=e.devMode;return p((function(e){var n=e.logLevel;return y({isDevModeEnabled:r.isDevModeEnabled(),environment:t,logLevel:n})}))}))}))},e.createLoggerFactory=h,e.createSafeModeComponent=function(e){return a("safeMode",(function(t){var r=t.window;return{fetchSafeModeStatus:function(){return r.dazn.unstable_fetchSafeModeStatus()},getSafeModeURL:function(){return e.homePageURL},getSafeModeURLInQRImage:function(){return e.homePageQRBase64}}})).safeModeComponent},e.createUILanguageComponent=function(e){return a("uiLanguage",(function(t){var r=t.window;return{getUILanguage:e,setUILanguage:function(e){return function(e,t){if(!S(t))return e.dazn.language;var r=C(t),n=L({window:e,language:r});return e.history.pushState({},e.document.title,n),e.location.reload(),r}(r,e)},getURLWithUpdatedUILanguage:function(e){return function(e,t){return S(t)?L({window:e,language:C(t)}):null}(r,e)},getUISupportedLanguages:function(){var e;return(null===(e=r.dazn.userProfile.SupportedLanguages)||void 0===e?void 0:e.length)>0?r.dazn.userProfile.SupportedLanguages:r.dazn.startupData.SupportedLanguages}}})).uiLanguageComponent},e.devModeComponent=b,e.deviceMetadataComponent=F,e.feEventsComponent=V,e.filterLogItemByLevel=y,e.l10nComponent=d,e.loggerComponent=E,e.prepareAPIRootForBrowser=function(e,t){return void 0===t&&(t=e),i({runtime:"browser",window:e},t)},e.safeModeComponent=l,e.startupDeviceComponent=x,e.uiLanguageComponent=f}(t)}(0,h);var v=h,y={};!function(e,t){!function(e){var t=function(e){return 0===e?Promise.resolve():new Promise((function(t){return setTimeout(t,e)}))},r=function(e,t){return 1===e?0:t*Math.pow(2,e-2)},n={auth:!0,signin:!0,account:!0,catalog:!0,preferences:!0,landingpage:!0,help:!0,error:!0,redeem:!0,picks:!0,news:!0,partners:!0},o={General:"00",Internal:"10",StartupService:"55",ResourceStringService:"56",RefreshTokenService:"66",SignOutService:"67",UserProfileService:"70",ChapterLoading:"84",UnsupportedBrowser:"111"},i={GenericError:"000",RestrictedCountry:"006",AppLoadError:"007",UnexpectedRefreshTokenError:"062",UnathorizedRefreshTokenError:"063",ServiceTimeout:"070",ServiceTooManyAttemps:"098",ChapterInvalid:"116",UnableToLoadChapter:"117"},a={Ignore:"-01",GenericError:"000",StartupRestrictedCountry:"002",RequestTimeout:"017",ParserError:"018",NetworkError:"034",ServerError:"500",BadRequest:"400",NotFound:"404",AccessDenied:"403",Unauthenticated:"401",TooManyRequests:"429"},u=Object.freeze({__proto__:null,category:o,code:i,internal:a}),s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},s(e,t)},c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var l,f=function(e){function t(t,r,n,u,s){void 0===r&&(r=o.General),void 0===n&&(n=i.GenericError),void 0===u&&(u=a.GenericError);var c=e.call(this,t)||this;return c.category=r,c.code=n,c.internal=u,s instanceof Error?c.originalException=s:"string"==typeof s&&(c.originalException=new Error(s)),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Error),d=function(e,t){var r;null===(r=window.newrelic)||void 0===r||r.addPageAction(e,t)},p=function(e,t){var r;null===(r=window.newrelic)||void 0===r||r.setCustomAttribute(e,t)},g=function(e){var t;null===(t=window.newrelic)||void 0===t||t.addToTrace(e)},h=function(e,t){return"SELECT * FROM PageAction WHERE sessionId='".concat(e,"' AND actionName='").concat(t,"'")},v=function(e,t){var r=Math.ceil(e),n=Math.floor(t);return Math.floor(Math.random()*(n-r))+r},y=Object.freeze({__proto__:null}),E=Object.freeze({__proto__:null}),m=Object.freeze({__proto__:null}),I=Object.freeze({__proto__:null}),O=Object.freeze({__proto__:null}),A=Object.freeze({__proto__:null}),_=Object.freeze({__proto__:null}),b=Object.freeze({__proto__:null}),T=Object.freeze({__proto__:null}),R=Object.freeze({__proto__:null}),S=Object.freeze({__proto__:null}),N=Object.freeze({__proto__:null}),C=Object.freeze({__proto__:null}),w=Object.freeze({__proto__:null,accessibilityTools:C,config:E,device:m,event:I,feEvents:y,featurevisor:_,fflag:A,lifecycle:O,optimizely:b,resourceStrings:T,storage:R,user:N,util:S});!function(e){e.Once="once",e.Off="off",e.Percentage="percentage"}(l||(l={}));var L={type:l.Off},U={},P=function(e){return!U[e.functionName]&&(U[e.functionName]=!0,!0)},D=function(e){return 100*Math.random()<e.value},k=Object.freeze({__proto__:null,NO_TRACKING:L,get Sampling(){return l},createNRTracking:function(e){return function(t,r){var n;null===(n=e.newrelic)||void 0===n||n.addPageAction("bootstrapApiUsage",c(c({},r),{bootstrapApiName:t.functionName,bootstrapApiType:"runtime"}))}},createTracking:function(e,t){return void 0===t&&(t={}),function(r){var n,o,i=null===(n=t.sampling)||void 0===n?void 0:n[r.functionName],a=null!==(o=null!=i?i:t.defaultSampling)&&void 0!==o?o:L;(function(e){return e.type!==l.Off&&(e.type===l.Once?P(e):e.type===l.Percentage?D(e):void function(e){var t=new Error("Unknown sampling type: ".concat(String(e)));throw console.error(t),t}(e))})(c(c({},a),r))&&e(r,t.trackingParams)}},shouldInvokeOnce:P,shouldInvokeSampled:D});e.EraroError=f,e.again=function(e,n){var o=void 0===n?{}:n,i=o.timeout,a=void 0===i?5e3:i,u=o.retries,s=void 0===u?2:u,c=o.backoff,l=void 0===c?100:c;return function n(o){return function(n){return t(r(n,l)).then((function(){return Promise.race([e(),t(a).then((function(){throw new Error("Attempt ".concat(n," took longer than ").concat(a,"ms"))}))])}))}(o).catch((function(e){if(o-1>=s)throw e;return n(o+1)}))}(1)},e.boot=w,e.calcBackoff=r,e.createEraroError=function(e,t,r,n,o){return new f(e,t,r,n,o)},e.createNewRelicTracer=function(e){var t=e.tracerName,r=e.sessionId,n=e.useConsole,o=void 0!==n&&n,i=e.now,a=void 0===i?function(){return Date.now()}:i,u=o?function(e){return function(t,r){console.info("👀 NR ".concat(e," ").concat(t," ").concat(JSON.stringify(r)))}}(t):function(){},s=function(e){return[t,e].join(".")},l=function(e,t){return[e,s(t)].join(" ")},f=function(e){var t=a(),n=s("trace");return function(){var o=a();d(n,{spanName:e,endTime:o,startTime:t,durationMs:o-t,sessionId:r}),g({name:l("🟦",e),start:t,end:o,origin:h(r,n)}),u(e,o-t)}},v=function(e,t){void 0===t&&(t={});var n=s(e),o=c(c({},t),{sessionId:r});d(n,o),g({name:l("🟢","addPageAction(".concat(e,")")),start:a(),end:a(),origin:h(r,n)}),u('addPageAction "'.concat(n,'"'),o)},y=function(e,t){var n=function(e,t){void 0===t&&(t="");var r=e instanceof Error?e:new Error(String(e));return t&&(r.message="".concat(r.message," | ").concat(t)),r}(e,t);!function(e,t){var r;null===(r=window.newrelic)||void 0===r||r.noticeError(e,void 0)}(n),g({name:l("⛔️","noticeError()"),start:a(),origin:"".concat(n.message," | SELECT * FROM JavaScriptError WHERE sessionId='").concat(r,"'")}),u("⛔️ noticeError",n)};return p("sessionId",r),u("NRQL hint:",h(r,"ACTION_NAME")),v("createNewRelicTracer"),{tracerName:t,sessionId:r,noticeError:y,addPageAction:v,addRelease:function(e,t){!function(e,t){var r;null===(r=window.newrelic)||void 0===r||r.addRelease(e,t)}(e,t),u('addRelease "'.concat(e,"\"'"),t)},trace:function(e){return f("trace.".concat(e))},extendCustomAttributes:function(e){void 0===e&&(e={}),u("extendCustomAttributes",e),Object.keys(e).forEach((function(t){return p(s(t),String(e[t]))}))},wrapAsyncFn:function(e,r){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=f("asyncFn.".concat(e));return Promise.resolve(null).then((function(){return r.apply(void 0,n)})).then((function(e){return i(),e})).catch((function(r){throw i(),y(r,"createNewRelicTracer(".concat(t,").wrapAsyncFn(").concat(e,")")),r}))}}}},e.createQueryStringReader=function(e){var t;void 0===e&&(e=window.location.search);var r=(null!==(t=e.split("#")[0].split("?")[1])&&void 0!==t?t:"").split("&").reduce((function(e,t){var r=t.split("="),n=r[0],o=r[1];return e[n]=o,e}),{});return{getParamValueByKey:function(e){return e in r?decodeURIComponent(r[e]):null}}},e.endsWith=function(e,t){return e.lastIndexOf(t)===e.length-t.length},e.eraroCodesMap=u,e.generateSessionId=function(){for(var e=8,t=(new Date).getTime().toString(16).slice(-8);e++<36;)t+=(0==(51*e&52)?"-":15===e?4:20===e?v(8,11):v(0,15)).toString(16);return t},e.getChapterName=function(e){return"string"==typeof e?e:e.chapterName},e.isChapterName=function(e){return"string"==typeof e&&e in n},e.isEraroError=function(e){return e instanceof Error&&e.hasOwnProperty("category")&&e.hasOwnProperty("code")&&e.hasOwnProperty("internal")},e.keysOf=function(e){return Object.keys(e)},e.startsWith=function(e,t){return 0===e.indexOf(t)},e.tracking=k}(t)}(0,y);var E,m=y,I="28.6.0",O=(E=function(e,t){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},E(e,t)},function(e,t){function r(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),A=function(e){function t(t){var r=e.call(this,t)||this;return r.name="TypesError",r}return O(t,e),t}(function(e){function t(t){var r=e.call(this,t)||this;return r.name=r.constructor.name,r.message=t,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=new Error(t).stack,r}return O(t,e),t}(Error)),_={func:function(e){if(void 0===e)throw new A("value is not defined");return e}},b=Object.freeze({__proto__:null,defaults:{isFactory:!0,func:function(e,t){return e||t}},isRequired:_});function T(e,t){return void 0===t&&(t=[]),Object.keys(b).forEach((function(r){var n=b[r],o=n.func,i=!0===n.isFactory;t.indexOf(r)>-1||Object.defineProperty(e,r,{get:function(){return i?function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return T((function(r){var n=o.apply(void 0,function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)n[o]=i[a];return n}([r],t));return e(n)}))}:T((function(t){var r=t;return r=o(r),e(r)}),t.concat([r]))}})})),e}function R(e){return null!==e&&"object"==s(e)&&e.constructor===Object}var S={};S.string=T((function(e){if(void 0===e)return e;if("string"!=typeof e)throw new A("value is not a string");return e})),S.bool=T((function(e){if(void 0===e)return e;if("boolean"!=typeof e)throw new A("value is not a boolean");return e})),S.number=T((function(e){if(void 0===e)return e;if("number"!=typeof e)throw new A("value is not a number");return e})),S.array=T((function(e){if(void 0===e)return e;if(!Array.isArray(e))throw new A("value is not an array");return e})),S.array.of=function(e){return T((function(t){if(void 0===t)return t;if(!Array.isArray(t))throw new A("value is not an array");return t.map((function(t){return e(t)}))}))},S.enum=function(e){return void 0===e&&(e=[]),Array.isArray(e)||(e=[e]),T((function(t){if(void 0===t)return t;if(e.some((function(e){return t===e})))return t;throw new A("value is none of the provided enums")}))},S.object=T((function(e){if(void 0===e)return e;if(!R(e))throw new A("value is not an object");return e})),S.object.of=function(e){if(!R(e))throw new A("`object.of` must receive a plain object");return T((function(t){if(void 0===t)return t;if(!R(t))throw new A("value is not an object");return function(e,t){return r=t,n=function(t,r){try{return t(e[r])}catch(e){throw new A("schema failed for key '"+r+"', "+e.message)}},Object.keys(r).reduce((function(e,t){var o=n(r[t],t);return void 0!==o&&(e[t]=o),e}),{});var r,n}(t,e)}))},S.const=function(e){return T((function(t){if(void 0===t)return t;if(t!==e)throw new A("value did not equal "+e);return t}))};var N=[],C={};function w(e,t,r,n){for(var o,i,a,u={},s=0,c=n;s<c.length;s++){var l=c[s],f=C[l];if(void 0===f)return void console.warn('[fe-events]: context "'+l+'" is not set when triggering event "'+e.name+'"');u[l]=f}try{var d=t(r);o=d,i=e,a=u,N.forEach((function(e){return e(o,i,a)}))}catch(t){console.warn('[fe-events]: event "'+e.name+'" - '+t.message)}}var L={gtm:!0,deprecated:!1,name:"appLaunch"},U=[],P=S.object.of({application:S.object.of({type:S.string.isRequired,version:S.string.isRequired,environment:S.enum(["development","edge","production","staging","testing"]).isRequired,device:S.object.of({model:S.string,platform:S.string.isRequired}).isRequired}).isRequired,clientId:S.string.isRequired,userAgent:S.string,initialUrl:S.string.isRequired,launch:S.object.of({origin:S.string,deeplinkParameters:S.object.of({media:S.string,sport:S.string,league:S.string,event:S.string,targeting:S.string,creativeVersion:S.string}),eventId:S.string}).isRequired,idfa:S.string}),D={gtm:!0,deprecated:!1,name:"chapterLoad"},k=[],M=S.object.of({chapter:S.enum(["account","auth","catalog","error","help","landingpage","picks","signin"]).isRequired,chapterVersion:S.string.isRequired,country:S.object.of({billingCountry:S.string.isRequired,geoCountry:S.string.isRequired,contentCountry:S.string.isRequired}).isRequired,customerId:S.string.isRequired,user:S.object.of({status:S.enum(["activegrace","activepaid","anonymous","blocked","expired","expiredmarketing","freetrial","frozen","partial","paused"]).isRequired,type:S.enum(["","dazn","dazn2","docomo","salesforce"]),loginStatus:S.enum(["loggedin","notloggedin"]).isRequired}).isRequired}),F=S.enum(["end of world","full screen","info popup","silent","toast"]),V={gtm:!0,bootstrap:!0,deprecated:!1,name:"errorImpression"},x=[],j=S.object.of({error:S.object.of({type:F.isRequired,itemType:S.const("error").isRequired,itemId:S.string.isRequired}).isRequired});function B(e){return w(V,j,e,x)}var z=["salesforce","docomo","dazn","dazn2"];function K(e){var t,r=e.getViewerId,n=e.handleFeEvent,o=e.getCountry,i=e.getCurrentChapterName,a=e.getCurrentChapterVersion,u=e.getUserType,s=e.getUserStatus,c=e.getAdvertisingDeviceId;return t=n,N.push(t),{sendLaunchEvent:function(e){var t=e.initialURL,r=e.platform,n=e.model,o=e.applicationType,i=e.version,a=e.environment,u=e.deviceId,s=e.launchParams;return c().then((function(e){var c;c={application:{type:o,version:i,environment:a,device:{model:n,platform:r}},clientId:u,userAgent:window.navigator.userAgent,initialUrl:t,launch:null!=s?s:{},idfa:null!=e?e:""},w(L,P,c,U)}))},sendErrorEvent:B,sendChapterLoadEvent:function(){var e,t,n=i(),c=(null===(e=s())||void 0===e?void 0:e.toLowerCase())||"anonymous",l=z[u()],f="anonymous"!==c?"loggedin":"notloggedin";t={chapter:n,chapterVersion:a()||"",country:o(),customerId:r()||"",user:{status:c,type:l,loginStatus:f}},w(D,M,t,k)}}}var G={landing:o.LANDING_PAGE,myAccount:o.MY_ACCOUNT},H=function(e){return m.keysOf(e).reduce((function(t,r){var n=e[r];return n?(n.canLoadIfSignedIn&&(t.canLoadIfSignedInChapters[n.name]=n.urlIdentifiers),n.canLoadIfSignedOut&&(t.canLoadIfSignedOutChapters[n.name]=n.urlIdentifiers),t):t}),{canLoadIfSignedInChapters:{},canLoadIfSignedOutChapters:{}})};function J(e){var t=e.countries,r=e.defaultAnonymousChapters,n=e.resourcesBaseUrl,o=e.features,i=e.resourceStringLinkOverrides,a=e.target,u=e.environmentGroup,s=e.chapters,l=e.UILanguageKey,f=e.tokenStorageKey,d=e.globalNamespaceKey,p=e.rootAuthorizedChapter,g=e.unauthorizedChapter,h=e.loginChapter,v=e.onLogoutChapter,y=e.environment,E=function(e,t,r,n,o){var i={rawChaptersData:e,rootAuthorized:t,unauthorizedChapter:r,loginChapter:n,onLogoutChapter:o,defaultAnonymousChapters:{}},a=function(e){return m.isChapterName(e)&&i.rawChaptersData[e]||{}};return{rewriteUrlLocale:function(e){return a(e).rewriteUrlLocale||!1},rewriteUrlLocaleOverrideMap:function(e){return a(e).rewriteUrlLocaleOverrideMap},hasLanguageInUrl:function(e){return a(e).isLanguageInTheUrl||!1},getsCountryFromUrl:function(e){return a(e).getsCountryFromUrl||!1},usePortability:function(e){return a(e).usePortability||!1},useSignUpCountry:function(e){return a(e).useSignUpCountry||!1},homePage:function(e){return a(e).homePage||e},linkKey:function(e){return a(e).linkKey},chapterList:function(){return m.keysOf(i.rawChaptersData)},allowedUserStatuses:function(e){return a(e).allowedUserStatuses},get authorizedMap(){return H(i.rawChaptersData).canLoadIfSignedInChapters},get unauthorizedMap(){return H(i.rawChaptersData).canLoadIfSignedOutChapters},get combinedChapterMap(){var e=H(i.rawChaptersData),t=e.canLoadIfSignedInChapters,r=e.canLoadIfSignedOutChapters;return c(c({},t),r)},get rootAuthorized(){return i.rootAuthorized},getUnauthorized:function(e){return i.defaultAnonymousChapters[e]||i.unauthorizedChapter},get loginChapter(){return i.loginChapter},get onLogoutChapter(){return i.onLogoutChapter},applyRuntimeConfiguration:function(e){i.defaultAnonymousChapters=m.keysOf(e).reduce((function(t,r){var n=e[r];return n&&(t[r]=function(e){return e in G?G[e]:e}(n)),t}),{})}}}(s,p,g,h,v);return E.applyRuntimeConfiguration(r),{UILanguageKey:l,tokenStorageKey:f,globalNamespaceKey:d,environment:y,environmentGroup:u,target:a,resourcesBaseUrl:n,features:o,resourceStringLinkOverrides:i,chapters:E,countries:t,appUrlPrefix:"web"===a?"":"/app/".concat(a)}}for(var Y,q,W="isDevModeEnabled",X=function(e){var t;("string"==typeof e||e instanceof Error)&&(null===(t=window.newrelic)||void 0===t||t.noticeError(e))},Z=function(e,t,r,n,o,i,a){var u=m.isEraroError(a)?a:m.createEraroError("Unknown error",t,r,n,a);return e({chapterName:o,chapterData:{errorCode:[u.category,u.code,u.internal].join("_"),chapter:"unknown"===i?void 0:i}})},Q="ROW",$=function(e,t){return void 0===t&&(t=Q),{countryCode:t||Q,status:e[t]||e[Q]}},ee=((Y={}).AWS=function(e){return e.json().then((function(e){return{countryCode:e.country_code,status:e.status}}))},Y.GCP_FIREDRILL=function(e){return e.json().then((function(e){return $(e,"TEST")}))},Y.GCP=function(e){return e.json().then((function(t){var r;return $(t,null===(r=e.headers.get("dazn-country"))||void 0===r?void 0:r.split(",")[0])}))},Y),te=function(e){var t=e.config,r=t.restrictedCountryChapterName,n=t.errorChapterName,o=t.authChapterName,i=e.metaData,a=i.setCurrentChapter,u=i.sendErrorEvent,s=e.getSafeModeConfig,c=e.fetch,l=function(){var e=s(),t=e.statusURL,r=e.source,n=ee[r]||ee.AWS;return function(e,t,r){return m.again((function(){return e(t).then(r).catch((function(e){throw X(e),e}))}))}(c,t,n)};return{captureException:X,generateError:m.createEraroError,errorMap:m.eraroCodesMap,fetchSafeMode:l,handleError:function(e,t,i,c,f){return void 0===e&&(e=m.eraroCodesMap.category.General),void 0===t&&(t=m.eraroCodesMap.code.GenericError),void 0===i&&(i=m.eraroCodesMap.internal.GenericError),function(e){var t,r=e.loadChapter,n=e.restrictedCountryChapterName,o=e.errorChapterName,i=e.currentChapterName,a=e.error,u=e.sendErrorEvent,s=e.authChapterName,c=e.defaultCategory,l=e.defaultCode,f=e.defaultInternal,d=e.fetchSafeMode,p=e.safeModeHomepageURL,g=function(){return d().then((function(e){return"GREEN"!==e.status})).catch((function(){return!1})).then((function(e){return function(e){var t=e.error,r=e.sendErrorEvent,n=e.safeModeHomepageURL,o=e.safeModeOn;t&&console.error(t),function(e){var t,r=e.error,n=e.sendErrorEvent;null===(t=window.newrelic)||void 0===t||t.noticeError("End of the World: ".concat(r.message)),n({error:{itemId:m.isEraroError(r)?[r.category,r.code,r.internal].join("-"):[m.eraroCodesMap.category.General,m.eraroCodesMap.code.GenericError,m.eraroCodesMap.internal.GenericError].join("-"),itemType:"error",type:"end of world"}})}({error:t,sendErrorEvent:r}),function(e,t){void 0===t&&(t="");var r=window.document.getElementById("end-of-the-world");null!==r&&(r.innerHTML=e?"<style>\n  @font-face {\n    font-family: 'DAZNTrim';\n    font-style: normal;\n    font-weight: 400;\n    src: url('https://static.dazndn.com/fonts/DAZNTrim_v2.9_normal_400.woff2')\n        format('woff2'),\n      url('https://static.dazndn.com/fonts/DAZNTrim_v2.9_normal_400.woff')\n        format('woff');\n  }\n  #refresh {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  #refresh button {\n    font-size: 20px;\n    background-color: #f7ff1a;\n    padding: 14px 24px 14px 24px;\n    margin-top: 20px;\n    border: none;\n    width: 232px;\n\n    font-family: 'DAZN Trim';\n    font-size: 16px;\n    font-weight: 700;\n    line-height: 24px;\n    letter-spacing: 0em;\n    text-align: center;\n    text-transform: uppercase;\n    text-decoration: none;\n    color: #0c161c;\n    cursor: pointer;\n  }\n  #refresh button:hover,\n  #refresh button:focus {\n    background-color: rgb(206, 209, 0);\n  }\n</style>\n<div id=\"end-of-the-world-inner\">\n  <p lang=\"en\">\n    We're having trouble with our service right now. While we restore it, keep\n    watching live events by selecting the option below.\n  </p>\n  <p lang=\"jp\">\n    サーバーの不具合により、現在、一時的にDAZNへのアクセスができない状況です。復旧作業に取り組んでいる間、下記の選択より引き続き主なイベントをライブ配信でご覧ください。\n  </p>\n  <p lang=\"de\">\n    Es liegt gerade ein technisches Problem vor. Bis unser Service\n    wiederhergestellt wurde, kannst du wichtige Live-Events weiter verfolgen,\n    indem du die folgende Option wählst.\n  </p>\n  <p lang=\"es\">\n    Estamos teniendo problemas con el servicio. Mientras lo establecemos, sigue\n    viendo eventos en directo seleccionando la opción a continuación.\n  </p>\n  <p lang=\"it\">\n    Al momento abbiamo problemi con il servizio. Mentre lavoriamo per risolverli\n    puoi continuare a guardare gli eventi live selezionando l'opzione di\n    seguito.\n  </p>\n  <div id=\"refresh\">\n    <button onclick=\"(function(){window.location.href='%URL%'})()\">\n      continue watching\n    </button>\n  </div>\n</div>\n".replace("%URL%",t):'<div id="end-of-the-world-inner">\n  <p lang="en">\n    There\'s a problem opening DAZN just now. Try opening the application or\n    browser again later.\n  </p>\n  <p lang="jp">\n    DAZNを開く際に問題が発生しました。恐れ入りますが、しばらくしてからアプリまたはブラウザを再度開いてください。\n  </p>\n  <p lang="de">\n    Beim Laden von DAZN ist ein Fehler aufgetreten. Bitte versuche die App oder\n    die Seite später noch einmal aufzurufen.\n  </p>\n  <p lang="es">\n    Hay un problema al abrir DAZN ahora. Intenta abrir la aplicación o el\n    buscador nuevamente más tarde.\n  </p>\n  <p lang="it">\n    Al momento c’è un problema nell’aprire DAZN. Prova a riaprire l’applicazione\n    o il browser più tardi.\n  </p>\n</div>\n',r.style&&(r.style.display=""))}(o,n),function(){var e,t,r,n,o;if(!window.dazn){var i="[Bootstrap] window.dazn is undefined while End of the World";console.error(i),null===(e=window.newrelic)||void 0===e||e.noticeError(new Error(i))}var a=window.dazn?window.dazn.application.exitApp:void 0;if(void 0!==a){var u=null===(r=null===(t=window.dazn.event)||void 0===t?void 0:t.back)||void 0===r?void 0:r.KEYDOWN;void 0!==u&&window.addEventListener(u,a);var s=null===(o=null===(n=window.dazn.event)||void 0===n?void 0:n.exit)||void 0===o?void 0:o.KEYDOWN;void 0!==s&&window.addEventListener(s,a)}}()}({error:a,sendErrorEvent:u,safeModeHomepageURL:p,safeModeOn:e})}))};if(m.isEraroError(a)){if(function(e){return e.code===m.eraroCodesMap.code.UnathorizedRefreshTokenError||function(e){var t=m.eraroCodesMap.internal,r=t.BadRequest,n=t.Unauthenticated,o=t.NotFound;return e.category===m.eraroCodesMap.category.UserProfileService&&[r,n,o].includes(e.internal)}(e)}(a))return r({chapterName:s,chapterData:{},chapterPath:""});if(null===(t=window.newrelic)||void 0===t||t.noticeError("".concat(a.category,"-").concat(a.code,"-").concat(a.internal,": ").concat(a.message)),function(e){return e.code===m.eraroCodesMap.code.RestrictedCountry||e.category===m.eraroCodesMap.category.UserProfileService&&e.internal===m.eraroCodesMap.internal.AccessDenied}(a))return r({chapterName:n,chapterData:{loadGlobalLandingPage:!0}});var h=m.eraroCodesMap.category.UserProfileService,v=void 0,y=void 0;if(m.eraroCodesMap.category.UserProfileService===a.category&&(function(e){return e.category===m.eraroCodesMap.category.UserProfileService&&e.internal===m.eraroCodesMap.internal.TooManyRequests}(a)?(v=m.eraroCodesMap.code.ServiceTooManyAttemps,y=m.eraroCodesMap.internal.TooManyRequests):function(e){return e.category===m.eraroCodesMap.category.UserProfileService&&e.internal===m.eraroCodesMap.internal.ServerError}(a)&&(v=m.eraroCodesMap.code.GenericError,y=m.eraroCodesMap.internal.ServerError),v&&y))return Z(r,h,v,y,o,i,a);if(function(e){var t=e.category,r=e.code,n=e.internal;return t===m.eraroCodesMap.category.StartupService&&r===m.eraroCodesMap.code.AppLoadError&&[m.eraroCodesMap.internal.Ignore,m.eraroCodesMap.internal.NetworkError,m.eraroCodesMap.internal.ServerError].includes(n)}(a))return g();if(function(e){var t=e.category,r=e.code,n=e.internal;return t===m.eraroCodesMap.category.ChapterLoading&&r===m.eraroCodesMap.code.UnableToLoadChapter&&n===m.eraroCodesMap.internal.Ignore}(a))return Promise.resolve()}if(i!==o)try{return Z(r,c,l,f,o,i,a)}catch(e){}return g()}({loadChapter:a,restrictedCountryChapterName:r,errorChapterName:n,currentChapterName:c,error:f,sendErrorEvent:u,authChapterName:o,defaultCategory:e,defaultCode:t,defaultInternal:i,fetchSafeMode:l,safeModeHomepageURL:s().homePageURL})}}},re=18,ne=[],oe=[];re>1;re--)for(q=re;q<320;)ne[q+=re]=1;function ie(e,t){return 4294967296*Math.pow(e,1/t)|0}for(q=0;q<64;)ne[++re]||(oe[q]=ie(re,2),ne[q++]=ie(re,3));function ae(e,t){return e>>>t|e<<-t}var ue=function(e){return parseInt(function(e){var t=oe.slice(re=q=0,8),r=[],n=unescape(encodeURI(e))+"",o=n.length;for(r[e=--o/4+2|15]=8*o;~o;)r[o>>2]|=n.charCodeAt(o)<<8*~o--;for(o=[];re<e;re+=16){for(ie=t.slice();q<64;ie.unshift(n+(ae(n=ie[0],2)^ae(n,13)^ae(n,22))+(n&ie[1]^ie[1]&ie[2]^ie[2]&n)))ie[3]+=n=0|(o[q]=q<16?~~r[q+re]:(ae(n=o[q-2],17)^ae(n,19)^n>>>10)+o[q-7]+(ae(n=o[q-15],7)^ae(n,18)^n>>>3)+o[q-16])+ie.pop()+(ae(n=ie[4],6)^ae(n,11)^ae(n,25))+(n&ie[5]^~n&ie[6])+ne[q++];for(q=8;q;)t[--q]+=ie[q]}for(n="";q<64;)n+=(t[q>>3]>>4*(7-q++)&15).toString(16);return n}(e).substr(0,2),16)/255},se=function(e,t){if(t&&e)return void 0!==t.from&&void 0!==t.to?e>=t.from&&e<t.to:void 0},ce=function(e,t,r,n,o){void 0===o&&(o="randomABPoint");var i,a,u={};return{run:function(){return e(o).then((function(e){return i=Number(String(e)),Number.isNaN(i)&&(i=Math.random(),t(o,String(i))),i})).then((function(e){var t,n;null===(t=window.newrelic)||void 0===t||t.setCustomAttribute("randomABPoint",e),a=null!==(n=r())&&void 0!==n?n:{},u=Object.keys(a).reduce((function(t,r){return t[r]=se(e,a[r]),t}),{})}))},getExperiments:function(){return u},getUserExperiment:function(e){return function(e,t){if(e){if(t&&void 0!==t.from&&void 0!==t.to){var r=ue(e);return r>=t.from&&r<t.to}}else console.warn("[Bootstrap] getUserExperiment(): Please, login first")}(n(),a[e])},getUserExperimentNumber:function(){return function(e){var t=e.viewerId,r=e.randomNumber;return t?ue(String(t)):r}({viewerId:n(),randomNumber:i})},getAnonymousExperiment:function(e){return se(i,a[e])}}},le={exports:{}};!function(e){!function(){var t=function(e){return(new TextEncoder).encode(e)};function r(e,r){var n,o,i,a,u,s,c,l;for("string"==typeof e&&(e=t(e)),n=3&e.length,o=e.length-n,i=r,u=3432918353,s=461845907,l=0;l<o;)c=255&e[l]|(255&e[++l])<<8|(255&e[++l])<<16|(255&e[++l])<<24,++l,i=27492+(65535&(a=5*(65535&(i=(i^=c=(65535&(c=(c=(65535&c)*u+(((c>>>16)*u&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(c=0,n){case 3:c^=(255&e[l+2])<<16;case 2:c^=(255&e[l+1])<<8;case 1:i^=c=(65535&(c=(c=(65535&(c^=255&e[l]))*u+(((c>>>16)*u&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}var n=r;n.v2=function(e,r){"string"==typeof e&&(e=t(e));for(var n,o=e.length,i=r^o,a=0;o>=4;)n=1540483477*(65535&(n=255&e[a]|(255&e[++a])<<8|(255&e[++a])<<16|(255&e[++a])<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),o-=4,++a;switch(o){case 3:i^=(255&e[a+2])<<16;case 2:i^=(255&e[a+1])<<8;case 1:i=1540483477*(65535&(i^=255&e[a]))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0},n.v3=r,e.exports=n}()}(le);var fe=le.exports,de=Math.pow(2,32),pe="[Featurevisor]",ge=["warn","error"],he=function(e,t,r){switch(void 0===r&&(r={}),e){case"debug":console.log(pe,t,r);break;case"info":console.info(pe,t,r);break;case"warn":console.warn(pe,t,r);break;case"error":console.error(pe,t,r)}},ve=function(){function e(e){this.levels=e.levels,this.handle=e.handler}return e.prototype.setLevels=function(e){this.levels=e},e.prototype.log=function(e,t,r){-1!==this.levels.indexOf(e)&&this.handle(e,t,r)},e.prototype.debug=function(e,t){this.log("debug",e,t)},e.prototype.info=function(e,t){this.log("info",e,t)},e.prototype.warn=function(e,t){this.log("warn",e,t)},e.prototype.error=function(e,t){this.log("error",e,t)},e}(),ye=function(){function e(e){this.schemaVersion=e.schemaVersion,this.revision=e.revision,this.segments=e.segments,this.attributes=e.attributes,this.features=e.features}return e.prototype.getRevision=function(){return this.revision},e.prototype.getSchemaVersion=function(){return this.schemaVersion},e.prototype.getAllAttributes=function(){return this.attributes},e.prototype.getAttribute=function(e){return this.attributes.find((function(t){return t.key===e}))},e.prototype.getSegment=function(e){var t=this.segments.find((function(t){return t.key===e}));if(t)return function(e,t){if("string"==typeof e[t]&&"*"!==e[t])try{e[t]=JSON.parse(e[t])}catch(e){console.error("Error parsing JSON",e)}return e}(t,"conditions")},e.prototype.getFeature=function(e){var t=this.features.find((function(t){return t.key===e}));if(t)return t},e}(),Ee=function(){function e(){this._listeners={}}return e.prototype.addListener=function(e,t){void 0===this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t)},e.prototype.removeListener=function(e,t){if(void 0!==this._listeners[e]){var r=this._listeners[e].indexOf(t);-1!==r&&this._listeners[e].splice(r,1)}},e.prototype.removeAllListeners=function(e){var t=this;e?this._listeners[e]=[]:Object.keys(this._listeners).forEach((function(e){t._listeners[e]=[]}))},e.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];void 0!==this._listeners[e]&&this._listeners[e].forEach((function(e){e.apply(void 0,t)}))},e}(),me=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Ie=function(e){if("string"!=typeof e)throw new TypeError("Invalid argument expected string");var t=e.match(me);if(!t)throw new Error("Invalid argument not valid semver ('".concat(e,"' received)"));return t.shift(),t},Oe=function(e){return"*"===e||"x"===e||"X"===e},Ae=function(e){var t=parseInt(e,10);return isNaN(t)?e:t},_e=function(e,t){if(Oe(e)||Oe(t))return 0;var r,n=function(e,t){return s(e)!=s(t)?[String(e),String(t)]:[e,t]}(Ae(e),Ae(t)),o=(2,function(e){if(Array.isArray(e))return e}(r=n)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,c=!1;try{for(i=(r=r.call(e)).next,0;!(s=(n=i.call(r)).done)&&(u.push(n.value),2!==u.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(r)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,2):void 0}}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];return i>a?1:i<a?-1:0},be=function(e,t){for(var r=0;r<Math.max(e.length,t.length);r++){var n=_e(e[r]||"0",t[r]||"0");if(0!==n)return n}return 0},Te=function(e,t){var r=Ie(e),n=Ie(t),o=r.pop(),i=n.pop(),a=be(r,n);return 0!==a?a:o&&i?be(o.split("."),i.split(".")):o||i?o?-1:1:0};function Re(e,t){return"attribute"in e?function(e,t){var r=e.attribute,n=e.operator,o=e.value;if("equals"===n)return t[r]===o;if("notEquals"===n)return t[r]!==o;if("before"===n||"after"===n){var i=(u=t[r])instanceof Date?u:new Date(u),a=o instanceof Date?o:new Date(o);return"before"===n?i<a:i>a}if("string"==typeof t[r]&&Array.isArray(o)){var u=t[r];if("in"===n)return-1!==o.indexOf(u);if("notIn"===n)return-1===o.indexOf(u)}else if("string"==typeof t[r]&&"string"==typeof o){if(u=t[r],"contains"===n)return-1!==u.indexOf(o);if("notContains"===n)return-1===u.indexOf(o);if("startsWith"===n)return u.startsWith(o);if("endsWith"===n)return u.endsWith(o);if("semverEquals"===n)return 0===Te(u,o);if("semverNotEquals"===n)return 0!==Te(u,o);if("semverGreaterThan"===n)return 1===Te(u,o);if("semverGreaterThanOrEquals"===n)return Te(u,o)>=0;if("semverLessThan"===n)return-1===Te(u,o);if("semverLessThanOrEquals"===n)return Te(u,o)<=0}else if("number"==typeof t[r]&&"number"==typeof o){if(u=t[r],"greaterThan"===n)return u>o;if("greaterThanOrEquals"===n)return u>=o;if("lessThan"===n)return u<o;if("lessThanOrEquals"===n)return u<=o}return!1}(e,t):"and"in e&&Array.isArray(e.and)?e.and.every((function(e){return Re(e,t)})):"or"in e&&Array.isArray(e.or)?e.or.some((function(e){return Re(e,t)})):"not"in e&&Array.isArray(e.not)?e.not.every((function(r){return!1===Re({and:e.not},t)})):!!Array.isArray(e)&&e.every((function(e){return Re(e,t)}))}function Se(e,t,r){if("*"===e)return!0;if("string"==typeof e){var n=r.getSegment(e);return!!n&&function(e,t){return Re(e.conditions,t)}(n,t)}if("object"==s(e)){if("and"in e&&Array.isArray(e.and))return e.and.every((function(e){return Se(e,t,r)}));if("or"in e&&Array.isArray(e.or))return e.or.some((function(e){return Se(e,t,r)}));if("not"in e&&Array.isArray(e.not))return e.not.every((function(e){return!1===Se(e,t,r)}))}return!!Array.isArray(e)&&e.every((function(e){return Se(e,t,r)}))}function Ne(e,t,r,n,o){var i,a=e.find((function(e){return!!Se("string"==typeof e.segments&&"*"!==e.segments?JSON.parse(e.segments):e.segments,t,n)&&(i=function(e,t){for(var r=0,n=e.allocation;r<n.length;r++){var o=n[r],i=o.range,a=i[0],u=i[1];if(o.range&&a<=t&&u>=t)return o}}(e,r),!!i)}));return{matchedTraffic:a,matchedAllocation:i}}function Ce(e,t,r){if(e.force)return e.force.find((function(e){return e.conditions?Re(e.conditions,t):!!e.segments&&Se(e.segments,t,r)}))}var we,Le={schemaVersion:"1",revision:"unknown",attributes:[],segments:[],features:[]};function Ue(e,t){return t?t(e):fetch(e).then((function(e){return e.json()}))}function Pe(e,t){try{if(void 0===e)return;switch(t){case"string":return"string"==typeof e?e:void 0;case"integer":return parseInt(e,10);case"double":return parseFloat(e);case"boolean":return!0===e;case"array":return Array.isArray(e)?e:void 0;case"object":return"object"==s(e)?e:void 0;default:return e}}catch(e){return}}!function(e){e.NOT_FOUND="not_found",e.NO_VARIATIONS="no_variations",e.DISABLED="disabled",e.REQUIRED="required",e.OUT_OF_RANGE="out_of_range",e.FORCED="forced",e.INITIAL="initial",e.STICKY="sticky",e.RULE="rule",e.ALLOCATED="allocated",e.DEFAULTED="defaulted",e.OVERRIDE="override",e.ERROR="error"}(we||(we={}));var De=function(){function e(e){var t=this;this.bucketKeySeparator=e.bucketKeySeparator||".",this.configureBucketKey=e.configureBucketKey,this.configureBucketValue=e.configureBucketValue,this.datafileUrl=e.datafileUrl,this.handleDatafileFetch=e.handleDatafileFetch,this.initialFeatures=e.initialFeatures,this.interceptContext=e.interceptContext,this.logger=e.logger||function(e){void 0===e&&(e={});var t=e.levels||ge,r=e.handler||he;return new ve({levels:t,handler:r})}(),this.refreshInterval=e.refreshInterval,this.stickyFeatures=e.stickyFeatures,this.emitter=new Ee,this.statuses={ready:!1,refreshInProgress:!1},e.onReady&&this.emitter.addListener("ready",e.onReady),e.onRefresh&&this.emitter.addListener("refresh",e.onRefresh),e.onUpdate&&this.emitter.addListener("update",e.onUpdate),e.onActivation&&this.emitter.addListener("activation",e.onActivation);var r=this.emitter.addListener.bind(this.emitter);this.on=r,this.addListener=r;var n=this.emitter.removeListener.bind(this.emitter);if(this.off=n,this.removeListener=n,this.removeAllListeners=this.emitter.removeAllListeners.bind(this.emitter),e.datafileUrl)this.setDatafile(e.datafile||Le),Ue(e.datafileUrl,e.handleDatafileFetch).then((function(e){t.setDatafile(e),t.statuses.ready=!0,t.emitter.emit("ready"),t.refreshInterval&&t.startRefreshing()})).catch((function(e){t.logger.error("failed to fetch datafile",{error:e})}));else{if(!e.datafile)throw new Error("Featurevisor SDK instance cannot be created without both `datafile` and `datafileUrl` options");this.setDatafile(e.datafile),this.statuses.ready=!0,setTimeout((function(){t.emitter.emit("ready")}),0)}}return e.prototype.setDatafile=function(e){try{this.datafileReader=new ye("string"==typeof e?JSON.parse(e):e)}catch(e){this.logger.error("could not parse datafile",{error:e})}},e.prototype.setStickyFeatures=function(e){this.stickyFeatures=e},e.prototype.getRevision=function(){return this.datafileReader.getRevision()},e.prototype.getFeature=function(e){return"string"==typeof e?this.datafileReader.getFeature(e):e},e.prototype.getBucketKey=function(e,t){var r,n,o=e.key;if("string"==typeof e.bucketBy)r="plain",n=[e.bucketBy];else if(Array.isArray(e.bucketBy))r="and",n=e.bucketBy;else{if("object"!=s(e.bucketBy)||!Array.isArray(e.bucketBy.or))throw this.logger.error("invalid bucketBy",{featureKey:o,bucketBy:e.bucketBy}),new Error("invalid bucketBy");r="or",n=e.bucketBy.or}var i=[];n.forEach((function(e){var n=t[e];void 0!==n&&("plain"===r||"and"===r||0===i.length)&&i.push(n)})),i.push(o);var a=i.join(this.bucketKeySeparator);return this.configureBucketKey?this.configureBucketKey(e,t,a):a},e.prototype.getBucketValue=function(e,t){var r=function(e){var t=fe.v3(e,1)/de;return Math.floor(1e5*t)}(this.getBucketKey(e,t));return this.configureBucketValue?this.configureBucketValue(e,t,r):r},e.prototype.isReady=function(){return this.statuses.ready},e.prototype.refresh=function(){var e=this;return this.logger.debug("refreshing datafile"),this.statuses.refreshInProgress?this.logger.warn("refresh in progress, skipping"):this.datafileUrl?(this.statuses.refreshInProgress=!0,void Ue(this.datafileUrl,this.handleDatafileFetch).then((function(t){var r=e.getRevision()!==t.revision;e.setDatafile(t),e.logger.info("refreshed datafile"),e.emitter.emit("refresh"),r&&e.emitter.emit("update"),e.statuses.refreshInProgress=!1})).catch((function(t){e.logger.error("failed to refresh datafile",{error:t}),e.statuses.refreshInProgress=!1}))):this.logger.error("cannot refresh since `datafileUrl` is not provided")},e.prototype.startRefreshing=function(){var e=this;return this.datafileUrl?this.intervalId?this.logger.warn("refreshing has already started"):this.refreshInterval?void(this.intervalId=setInterval((function(){e.refresh()}),1e3*this.refreshInterval)):this.logger.warn("no `refreshInterval` option provided"):this.logger.error("cannot start refreshing since `datafileUrl` is not provided")},e.prototype.stopRefreshing=function(){if(!this.intervalId)return this.logger.warn("refreshing has not started yet");clearInterval(this.intervalId)},e.prototype.evaluateFlag=function(e,t){var r,n=this;void 0===t&&(t={});try{var o="string"==typeof e?e:e.key;if(this.stickyFeatures&&this.stickyFeatures[o]&&void 0!==this.stickyFeatures[o].enabled)return r={featureKey:o,reason:we.STICKY,enabled:this.stickyFeatures[o].enabled,sticky:this.stickyFeatures[o]},this.logger.debug("using sticky enabled",r),r;if(this.statuses&&!this.statuses.ready&&this.initialFeatures&&this.initialFeatures[o]&&void 0!==this.initialFeatures[o].enabled)return r={featureKey:o,reason:we.INITIAL,enabled:this.initialFeatures[o].enabled,initial:this.initialFeatures[o]},this.logger.debug("using initial enabled",r),r;var i=this.getFeature(e);if(!i)return r={featureKey:o,reason:we.NOT_FOUND},this.logger.warn("feature not found",r),r;i.deprecated&&this.logger.warn("feature is deprecated",{featureKey:i.key});var a=this.interceptContext?this.interceptContext(t):t,u=Ce(i,t,this.datafileReader);if(u&&void 0!==u.enabled)return r={featureKey:i.key,reason:we.FORCED,enabled:u.enabled},this.logger.debug("forced enabled found",r),r;if(i.required&&i.required.length>0){var s=i.required.every((function(e){var t,r;return"string"==typeof e?t=e:(t=e.key,r=e.variation),!!n.isEnabled(t,a)&&(void 0===r||n.getVariation(t,a)===r)}));if(!s)return{featureKey:i.key,reason:we.REQUIRED,enabled:s}}var c=this.getBucketValue(i,a),l=function(e,t,r){return e.find((function(e){return!!Se("string"==typeof e.segments&&"*"!==e.segments?JSON.parse(e.segments):e.segments,t,r)}))}(i.traffic,a,this.datafileReader);if(l){if(i.ranges&&i.ranges.length>0)return i.ranges.find((function(e){return c>=e[0]&&c<e[1]}))?r={featureKey:i.key,reason:we.ALLOCATED,enabled:void 0===l.enabled||l.enabled,bucketValue:c}:(r={featureKey:i.key,reason:we.OUT_OF_RANGE,enabled:!1,bucketValue:c},this.logger.debug("not matched",r),r);if(void 0!==l.enabled)return r={featureKey:i.key,reason:we.OVERRIDE,enabled:l.enabled,bucketValue:c,ruleKey:l.key,traffic:l},this.logger.debug("override from rule",r),r;if(c<l.percentage)return{featureKey:i.key,reason:we.RULE,enabled:!0,bucketValue:c,ruleKey:l.key,traffic:l}}return{featureKey:i.key,reason:we.ERROR,enabled:!1,bucketValue:c}}catch(t){return{featureKey:"string"==typeof e?e:e.key,reason:we.ERROR,error:t}}},e.prototype.isEnabled=function(e,t){void 0===t&&(t={});try{return!0===this.evaluateFlag(e,t).enabled}catch(t){return this.logger.error("isEnabled",{featureKey:e,error:t}),!1}},e.prototype.evaluateVariation=function(e,t){var r;void 0===t&&(t={});try{var n="string"==typeof e?e:e.key;if(!1===this.evaluateFlag(e,t).enabled)return r={featureKey:n,reason:we.DISABLED},this.logger.debug("feature is disabled",r),r;if(this.stickyFeatures&&this.stickyFeatures[n]&&void 0!==(o=this.stickyFeatures[n].variation))return r={featureKey:n,reason:we.STICKY,variationValue:o},this.logger.debug("using sticky variation",r),r;if(this.statuses&&!this.statuses.ready&&this.initialFeatures&&this.initialFeatures[n]&&void 0!==this.initialFeatures[n].variation){var o=this.initialFeatures[n].variation;return r={featureKey:n,reason:we.INITIAL,variationValue:o},this.logger.debug("using initial variation",r),r}var i=this.getFeature(e);if(!i)return r={featureKey:n,reason:we.NOT_FOUND},this.logger.warn("feature not found",r),r;if(!i.variations||0===i.variations.length)return r={featureKey:n,reason:we.NO_VARIATIONS},this.logger.warn("no variations",r),r;var a=this.interceptContext?this.interceptContext(t):t,u=Ce(i,t,this.datafileReader);if(u&&u.variation&&(d=i.variations.find((function(e){return e.value===u.variation}))))return r={featureKey:i.key,reason:we.FORCED,variation:d},this.logger.debug("forced variation found",r),r;var s=this.getBucketValue(i,a),c=Ne(i.traffic,a,s,this.datafileReader,this.logger),l=c.matchedTraffic,f=c.matchedAllocation;if(l){var d;if(l.variation&&(d=i.variations.find((function(e){return e.value===l.variation}))))return r={featureKey:i.key,reason:we.RULE,variation:d,bucketValue:s,ruleKey:l.key},this.logger.debug("override from rule",r),r;if(f&&f.variation&&(d=i.variations.find((function(e){return e.value===f.variation}))))return r={featureKey:i.key,reason:we.ALLOCATED,bucketValue:s,variation:d},this.logger.debug("allocated variation",r),r}return r={featureKey:i.key,reason:we.ERROR,bucketValue:s},this.logger.debug("no matched variation",r),r}catch(t){return{featureKey:"string"==typeof e?e:e.key,reason:we.ERROR,error:t}}},e.prototype.getVariation=function(e,t){void 0===t&&(t={});try{var r=this.evaluateVariation(e,t);return void 0!==r.variationValue?r.variationValue:r.variation?r.variation.value:void 0}catch(t){return void this.logger.error("getVariation",{featureKey:e,error:t})}},e.prototype.activate=function(e,t){void 0===t&&(t={});try{var r=this.evaluateVariation(e,t),n=r.variation?r.variation.value:r.variationValue;if(void 0===n)return;var o=this.interceptContext?this.interceptContext(t):t,i={};return this.datafileReader.getAllAttributes().filter((function(e){return!0===e.capture})).forEach((function(e){void 0!==o[e.key]&&(i[e.key]=t[e.key])})),this.emitter.emit("activation",e,n,o,i,r),n}catch(t){return void this.logger.error("activate",{featureKey:e,error:t})}},e.prototype.evaluateVariable=function(e,t,r){var n,o=this;void 0===r&&(r={});try{var i,a="string"==typeof e?e:e.key;if(!1===this.evaluateFlag(e,r).enabled)return n={featureKey:a,reason:we.DISABLED},this.logger.debug("feature is disabled",n),n;if(this.stickyFeatures&&this.stickyFeatures[a]&&(i=this.stickyFeatures[a].variables)){var u=i[t];if(void 0!==u)return n={featureKey:a,reason:we.STICKY,variableKey:t,variableValue:u},this.logger.debug("using sticky variable",n),n}if(this.statuses&&!this.statuses.ready&&this.initialFeatures&&this.initialFeatures[a]&&(i=this.initialFeatures[a].variables)&&void 0!==i[t])return n={featureKey:a,reason:we.INITIAL,variableKey:t,variableValue:i[t]},this.logger.debug("using initial variable",n),n;var s=this.getFeature(e);if(!s)return n={featureKey:a,reason:we.NOT_FOUND,variableKey:t},this.logger.warn("feature not found in datafile",n),n;var c=Array.isArray(s.variablesSchema)?s.variablesSchema.find((function(e){return e.key===t})):void 0;if(!c)return n={featureKey:a,reason:we.NOT_FOUND,variableKey:t},this.logger.warn("variable schema not found",n),n;var l=this.interceptContext?this.interceptContext(r):r,f=Ce(s,r,this.datafileReader);if(f&&f.variables&&void 0!==f.variables[t])return n={featureKey:s.key,reason:we.FORCED,variableKey:t,variableSchema:c,variableValue:f.variables[t]},this.logger.debug("forced variable",n),n;var d=this.getBucketValue(s,l),p=Ne(s.traffic,l,d,this.datafileReader,this.logger),g=p.matchedTraffic,h=p.matchedAllocation;if(g){if(g.variables&&void 0!==g.variables[t])return n={featureKey:s.key,reason:we.RULE,variableKey:t,variableSchema:c,variableValue:g.variables[t],bucketValue:d,ruleKey:g.key},this.logger.debug("override from rule",n),n;if(h&&h.variation&&Array.isArray(s.variations)){var v=s.variations.find((function(e){return e.value===h.variation}));if(v&&v.variables){var y=v.variables.find((function(e){return e.key===t}));if(y){if(y.overrides){var E=y.overrides.find((function(e){return e.conditions?Re("string"==typeof e.conditions?JSON.parse(e.conditions):e.conditions,l):!!e.segments&&Se("string"==typeof e.segments&&"*"!==e.segments?JSON.parse(e.segments):e.segments,l,o.datafileReader)}));if(E)return n={featureKey:s.key,reason:we.OVERRIDE,variableKey:t,variableSchema:c,variableValue:E.value,bucketValue:d,ruleKey:g.key},this.logger.debug("variable override",n),n}if(void 0!==y.value)return n={featureKey:s.key,reason:we.ALLOCATED,variableKey:t,variableSchema:c,variableValue:y.value,bucketValue:d,ruleKey:g.key},this.logger.debug("allocated variable",n),n}}}}return n={featureKey:s.key,reason:we.DEFAULTED,variableKey:t,variableSchema:c,variableValue:c.defaultValue,bucketValue:d},this.logger.debug("using default value",n),n}catch(r){return{featureKey:"string"==typeof e?e:e.key,reason:we.ERROR,variableKey:t,error:r}}},e.prototype.getVariable=function(e,t,r){void 0===r&&(r={});try{var n=this.evaluateVariable(e,t,r);return void 0!==n.variableValue?n.variableSchema&&"json"===n.variableSchema.type&&"string"==typeof n.variableValue?JSON.parse(n.variableValue):n.variableValue:void 0}catch(r){return void this.logger.error("getVariable",{featureKey:e,variableKey:t,error:r})}},e.prototype.getVariableBoolean=function(e,t,r){return void 0===r&&(r={}),Pe(this.getVariable(e,t,r),"boolean")},e.prototype.getVariableString=function(e,t,r){return void 0===r&&(r={}),Pe(this.getVariable(e,t,r),"string")},e.prototype.getVariableInteger=function(e,t,r){return void 0===r&&(r={}),Pe(this.getVariable(e,t,r),"integer")},e.prototype.getVariableDouble=function(e,t,r){return void 0===r&&(r={}),Pe(this.getVariable(e,t,r),"double")},e.prototype.getVariableArray=function(e,t,r){return void 0===r&&(r={}),Pe(this.getVariable(e,t,r),"array")},e.prototype.getVariableObject=function(e,t,r){return void 0===r&&(r={}),Pe(this.getVariable(e,t,r),"object")},e.prototype.getVariableJSON=function(e,t,r){return void 0===r&&(r={}),Pe(this.getVariable(e,t,r),"json")},e}(),ke=function(e){window.dataLayer||(window.dataLayer=[]),window.dataLayer.push(e)},Me="optimizelyLogLevel",Fe=["info","debug","warn","error"],Ve=function(e){var r=e.asyncStorage,n=e.level,o=e.isDevMode,i=e.isProd;return r.getItem(Me).then((function(e){if(e&&!o&&r.removeItem(Me),n)if(i)console.warn("[Bootstrap] This feature is not supported in production.");else if(o){if(function(e){return Fe.includes(e)}(n))return t.setLogLevel(n),r.setItem(Me,n);console.warn("[Bootstrap] Please provide a valid log level to use this feature (can be 'info', 'debug', 'warn', 'error').")}else console.warn("[Bootstrap] You must have devMode enabled to use this feature.");else t.setLogLevel(i?t.enums.LOG_LEVEL.ERROR:e&&o?e:t.enums.LOG_LEVEL.WARNING)})).then((function(){}))},xe=/\/([a-z]{2})-([a-z]{2}|eu|global)\//,je=function(){var e=Math.random();return function(e,t){for(var r=t.split("");r.length<10;)r.unshift("0");return r.join("")}(0,Math.floor(2147483647*e).toString(16))},Be=function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}));return t},ze={},Ke=["bootstrap","target"],Ge=function(e){var t,r,n,o,i,a=e.asyncStorage,u=a.load,s=a.save,c=e.deviceDetails,d=c.platform,p=c.manufacturer,g=e.config,h=g.bootstrapVersion,v=g.targetVersion,y=g.environment,E=g.environmentGroup,m=g.sessionId,I=e.getCurrentUrl,O=e.fetchDeviceId,A={bootstrap:h,target:v},_=I(),b=function(e){if(!e||"string"!=typeof e)return ze;var t;try{t=new URL(e)}catch(e){return ze}var r=t.searchParams,n=f([],l(r.keys()),!1);return n.length<=0?ze:n.reduce((function(e,t){var n=r.get(t)||"";return e[t]=n,e}),{})}(_);null===(t=window.newrelic)||void 0===t||t.setCustomAttribute("platform",d),null===(r=window.newrelic)||void 0===r||r.setCustomAttribute("manufacturer",p),null===(n=window.newrelic)||void 0===n||n.setCustomAttribute("environmentGroup",E);var T={getEnvironment:function(){return y},getEnvironmentGroup:function(){return E},getVersions:function(){return A},setChapterVersion:function(e,t){var r;return!Ke.some((function(t){return t===e}))&&"string"==typeof t&&(A[e]=t.replace(/_/g,"."),null===(r=window.newrelic)||void 0===r||r.setCustomAttribute("chapterVersion",String(A[e])),!0)},getPlatform:function(){return d},getManufacturer:function(){return p},getSessionId:function(){return m},setSessionId:function(e){m=e},getDeviceId:function(){return o},getGuid:function(){return i},getInitialUrl:function(){return _},getInitialUrlParameters:function(){return b},run:function(){(function(e,t,r){return void 0===r&&(r=Be),e("guid").then((function(e){var n=e;return n||(n=r(),t("guid",n)),n}))})(u,s).then((function(e){i=e}));var e=O?O():function(e,t,r){return void 0===r&&(r=je),e("deviceId").then((function(e){var n=e;return n||(n=r(),t("deviceId",n)),n}))}(u,s);return e.then((function(e){var t;null===(t=window.newrelic)||void 0===t||t.setCustomAttribute("deviceId",e),o=e}))}};return T},He=function(e){return"Failed to load chapter. ".concat(e)},Je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="ResponseError",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(m.EraroError),Ye=function(e,t,r){return m.createEraroError(He(e),m.eraroCodesMap.category.ChapterLoading,m.eraroCodesMap.code.UnableToLoadChapter,t,r)},qe=function(e){return m.createEraroError(He(e),m.eraroCodesMap.category.ChapterLoading,m.eraroCodesMap.code.ChapterInvalid,m.eraroCodesMap.internal.GenericError)},We=/^(\/[a-z]{2}-[a-z]{2})?\/?$/i,Xe=/^\/[a-z]{2}-[a-z]{2}/i,Ze=function(e,t){var r=l(e.replace(Xe,"").split("/"),2)[1];return m.keysOf(t).filter((function(e){return t[e].includes(r)}))},Qe=function(e){var t=e.configuration,r=e.isActive,n=e.isAuthorized,o=e.chapters,i=t.authorizedMap,a=t.unauthorizedMap,u=t.rootAuthorized,s=t.loginChapter,c=m.keysOf(a).filter((function(e){return o.includes(e)})),f=m.keysOf(i).filter((function(e){return o.includes(e)})),d=f.filter((function(e){return!c.includes(e)})),p=c.filter((function(e){return!f.includes(e)})),g=c.filter((function(e){return f.includes(e)})),h=l(d,1)[0],v=void 0===h?null:h,y=l(p,1)[0],E=void 0===y?null:y,I=l(g,1)[0],O=void 0===I?null:I;return Boolean(v)&&!O?n&&v&&r(t.allowedUserStatuses(v))?v:s:E?r(t.allowedUserStatuses(E))&&n?u:E:O?v&&r(t.allowedUserStatuses(v))?v:O:o[0]},$e=function(e){var t=e.configuration,r=e.isAuthorized,n=e.isActive,o=e.pathname,i=e.startupNativeCountryOrMoon,a=t.chapters,u=a.rootAuthorized,s=a.getUnauthorized,c=a.allowedUserStatuses,d=a.authorizedMap,p=a.unauthorizedMap;o.includes(t.appUrlPrefix)&&(o=o.replace(t.appUrlPrefix,""));var g=function(e){return We.test(e)||e.includes("index.html")}(o);if(g){var h=r&&u&&n(c(u))?u:s(i);return{isRootPath:g,chapterName:h,verifiedChapterName:h}}var v=function(e,t,r){return f(f([],l(Ze(e,t)),!1),l(Ze(e,r)),!1).filter((function(e){return e}))}(o,d,p),y=Qe({configuration:t.chapters,isActive:n,isAuthorized:r,chapters:v}),E=r&&n(c(y));return{isRootPath:g,chapterName:m.keysOf(E?d:p).find((function(e){return v.includes(e)}))||v[0],verifiedChapterName:y}},et=function(e){return e.search||""},tt=function(e){return e.hash||""},rt=function(e,t){return"".concat(e.protocol,"//").concat(e.host).concat(t)},nt=function(e,t){var r=l("string"==typeof e?[e,null,t]:[e.chapterName||e.name||e.value,e.chapterData||e.data||e||null,e.chapterPath||e.pathname||e.path||t],3),n=r[0],o=r[1],i=r[2];return m.isChapterName(n)?{chapterName:n,chapterData:o,chapterPath:i}:null},ot=["webpackJsonp","_babelPolyfill","webpackJsonpdaznPlayer"],it=function(e){var t=e.window,r=e.configuration,n=e.errorModule,i=e.userModule,a=e.verifyChapterAuthorization,u=e.getChapterCountry,c=e.setChapterVersion,l=e.getChapterLanguage,f=e.downloadChapterAndAddInPage,d=e.getChapterUrl,p=e.getResourceStrings,g=e.triggerChapterDidLoadEvent,h=e.getStartupNativeCountryOrMoon,v=[],y=function(e){var t=0===v.length&&location?location.pathname:"";0===v.length&&"string"!=typeof e&&"string"==typeof(null==e?void 0:e.chapterPath)&&(t=e.chapterPath);var n=nt(e,t);if(!Boolean(n)&&"string"==typeof e)throw qe('Unknown chapter: "'.concat(e,'"'));var o=e&&"object"==s(e)&&e.chapterData||null,u=null!=n?n:{chapterName:$e({configuration:r,isAuthorized:i.isAuthorized(),isActive:i.isActive,pathname:t,startupNativeCountryOrMoon:h()}).chapterName,chapterData:o,chapterPath:t},c=u.chapterName,l=a(c);return l===c?u:nt({chapterName:l,chapterPath:r.chapters.homePage(l),chapterData:{deepLink:u}},t)},E=function(e,r){var n,o=e.chapterName,i=e.chapterData,a=e.chapterPath,u=r.chapterCountry,s=r.chapterVersion;v.push({chapterName:o,chapterData:i,chapterPath:a}),null===(n=t.newrelic)||void 0===n||n.setCustomAttribute("chapter",o),c(o,s),g({chapter:o,country:u})},I=function(e,t){var n,a,s,c,g=(n=0===v.length,{initialUpdate:function(e){var t=d(e,u(),l()),r=rt(location,t);n?history.replaceState(e.chapterData,"",r):history.pushState(e.chapterData,"",r)},replace:function(e,t){n||history.replaceState(e.chapterData,"",rt(location,t))}});return v.push(e),Promise.resolve(null).then((function(){return e.chapterName===o.ERROR?void 0:i.fetchProfile()})).then((function(){t||g.initialUpdate(e),s=u(),c=l(),a=d(e,s,c)})).then((function(){return p()})).then((function(){t||g.replace(e,a)})).then((function(){return f(e.chapterName,s,(function(){return r.environment,function(e,t,r,n){void 0===n&&(n=window);var o,i,a=m.keysOf(n);o=n,i=function(e,t){return t.filter((function(t){return e.includes(t)}))}(a,e),i.filter((function(e){var t=Object.getOwnPropertyDescriptor(o,e);if(!t)return!1;var r=t.writable,n=t.configurable;return r&&n})).forEach((function(e){return delete o[e]}))}(ot,0,0,void 0)}))})).then((function(e){return{chapterCountry:s,chapterVersion:e}}))};return{getCurrentChapter:function(){var e;return null!==(e=v[v.length-1])&&void 0!==e?e:{chapterName:"unknown",chapterPath:location.pathname,chapterData:null}},setCurrentChapter:function(e,t){void 0===t&&(t=!1);var r=y(e);return r?I(r,t).then((function(e){E(r,e)})).catch((function(e){n.handleError(m.eraroCodesMap.category.ChapterLoading,void 0,void 0,r.chapterName,e)})):Promise.resolve()},fetchNewChapter:I,getNormalisedAndVerifiedChapter:y,onChapterInstalled:E}},at=/^[a-z]{2}-(?:[a-z]{2}|global)$/i,ut=function(e){return at.test(e)},st=function(e){return e.split("/").filter(Boolean)},ct=function(e,t){return r=[e,/\?/.test(e)?"":et(t),/#/.test(e)?"":tt(t)].join(""),m.startsWith(r,"/")?r:"/".concat(r);var r},lt=function(e,t){return void 0===t&&(t="en"),[t.toLowerCase(),e.toUpperCase()].join("-")},ft=function(e,t,r){void 0===r&&(r=!0);var n=st(e),o=n.some(ut),i=e;return o&&r&&(i=n.map((function(e){return ut(e)?t:e})).join("/")),o||(i=[t].concat(n).join("/")),i},dt=function(e){var t=e.location,r=e.chaptersMap,n=e.country,o=e.language,i=e.chapterHomepage,a=e.withLanguageInUrl,u=e.chapterFromUrl,s=e.chapterName,c=e.chapterPath,l=e.rewriteUrlLocale,f=e.rewriteUrlLocaleOverrideMap,d=u===s,p=function(e,t,r){var n,o;if(!r)return t;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(r)),a=i.next();!a.done;a=i.next()){var u=a.value;if(new RegExp(u,"i").test(e))return r[u]}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return t}(t.pathname,l,f);if(!d&&!c){var g=ft(i,lt(n,o),p);return ct(a?g:i,t)}if(d||"/"!==t.pathname||Boolean(c)){var h=c||function(e){return e.pathname||""}(t),v="/"===h||"/"!==t.pathname&&!function(e,t){var r=st(t).filter((function(e){return!ut(e)}))[0];return m.keysOf(e).filter((function(t){return e[t].some((function(e){return r===e.split("/").filter(Boolean)[0]}))}))}(r,h).includes(u),y=v?i:h,E=ft(y,lt(n,o),p);return ct(a?E:y,t)}var I=ft(c,lt(n,o),p);return ct(a?I:c,t)},pt=/\/$/,gt=[".protected",".vwoFrame","#onetrust-consent-sdk","#onetrust-style"],ht=function(e){return e.parentNode&&e.parentNode.removeChild(e)},vt=function(e){return Array.prototype.forEach.call(e,ht)},yt=function e(t){return function(e,t){return e(t).then((function(e){return e.ok?e:Promise.reject(function(e,t){return new Je(He("".concat(e.status," ").concat(e.statusText," at ").concat(t)),m.eraroCodesMap.category.ChapterLoading,m.eraroCodesMap.code.UnableToLoadChapter,String(e.status))}(e,t))}),(function(e){return Promise.reject(Ye("Failed to fetch ".concat(t),m.eraroCodesMap.internal.NetworkError,e))})).then((function(e){return e.text().then((function(r){return{url:e.url||t,html:r,chapter:e.headers.get("x-amz-meta-dazn-chapter"),version:e.headers.get("x-amz-meta-dazn-version")}}))}))}(fetch,t.url).catch((function(r){return function(e,t){return 0!==t&&(!function(e){return"ResponseError"===e.type}(e)||Number(e.internal)>499)}(r,t.remainingAttempts)?(n=t.wait,new Promise((function(e){setTimeout(e,n)}))).then((function(){return e({fetch:fetch,url:t.url,remainingAttempts:t.remainingAttempts-1,wait:t.wait*t.multiplier,multiplier:t.multiplier})})):Promise.reject(r);var n}))},Et=/index.html$/,mt=function(e,t,r){r.map((function(e){return e.classList.add("dazn"),e})).forEach((function(r){return function(e,t,r){var n=function(e,t){var r=e.createElement(t.nodeName);return Array.prototype.slice.call(t.attributes).forEach((function(e){return r.setAttribute(e.name,e.value)})),r.innerHTML=t.innerHTML,r}(e,r);t.appendChild(n)}(e,t,r)}))},It=function(e){return function(t){var r=t.querySelectorAll(e);return[].slice.call(r)}},Ot=function(e){return It(e.join(","))},At=It('link[rel="stylesheet"]'),_t=Ot(['link[rel="preload"]','link[rel="prefetch"]','link[rel="preconnect"]','link[rel="dns-prefetch"]']),bt=It("style"),Tt=Ot(["meta[property]",'meta[name="description"]']),Rt=It("body>*:not(script)"),St=It("script[src]"),Nt=It("script:not([src])"),Ct=["resourceHints","seoTags","stylesheets","styleTags","scripts","inlineScripts"],wt=["bodyContent"],Lt=function(e){return e.reduce((function(e,t){return e.concat(Array.isArray(t)?t:[t])}),[])},Ut=function(e){return{url:e.url,head:Lt(Ct.map((function(t){return e.extracted[t]}))),body:Lt(wt.map((function(t){return e.extracted[t]})))}},Pt=function(e){var t,r=e.window,n=e.url,o=e.baseUrl,i=e.chapterName,a=e.chapterCountry,u=e.triggers,s=e.garbageCollector,c=e.selectorsExcludedFromCleaning,l=void 0===c?[]:c,f=r.document,d=u.willLoadEvents,p=u.willUnloadEvents,g=u.didUnloadEvents,h=null,v=function(e){return function(t){return e({chapter:i,country:a}).then((function(){return t}))}};return v(d)(null).then((function(){return function(e,t,r){var n={},o=n.retry,i=void 0===o?0:o,a=n.wait,u=void 0===a?500:a,s=n.multiplier,c=void 0===s?2:s;return m.endsWith(t,".html")?yt({fetch:e,url:t,remainingAttempts:i,wait:u,multiplier:c}):Promise.reject(Ye("Invalid url ".concat(t,". Can load html only"),m.eraroCodesMap.internal.BadRequest))}(r.fetch,n)})).then((function(e){if(e.chapter&&i!==e.chapter)throw Ye("Expected ".concat(i," but got ").concat(e.chapter," instead"),m.eraroCodesMap.internal.NotFound);return h=e.version,e}),(function(e){if(m.isEraroError(e))throw e;throw Ye("Unexpected error",m.eraroCodesMap.internal.GenericError,e)})).then((function(e){var t=f.querySelector("base");if(null!==t)t.setAttribute("href",o);else{var r=f.createElement("base");r.setAttribute("href",o),f.head.appendChild(r)}return e}),(function(e){if(m.isEraroError(e))throw e;throw Ye("Chapter not found",m.eraroCodesMap.internal.NotFound,e)})).then((t=r.DOMParser,function(e){var r=(new t).parseFromString(e.html,"text/html");return{url:e.url,extracted:{stylesheets:At(r),styleTags:bt(r),scripts:St(r),inlineScripts:Nt(r),bodyContent:Rt(r),seoTags:Tt(r),resourceHints:_t(r)}}})).then(Ut,(function(e){if(m.isEraroError(e))throw e;throw Ye("Failed to parse document",m.eraroCodesMap.internal.ParserError,e)})).then(v(p)).then((function(e){return s(),function(e,t){void 0===t&&(t=[]);var r=gt.concat(t).map((function(e){return":not(".concat(e,")")})).join("");vt(e.querySelectorAll("head > *".concat(r))),vt(e.querySelectorAll("body > *".concat(r)))}(f,l),v(g)(e)})).then((function(e){return function(e,t){(function(e,t){var r=function(e){return e.url.replace(Et,"")}(t),n=e.querySelector("base");n?function(e,t){e.href=t}(n,r):function(e,t){var r=e.createElement("base");r.href=t,e.head.appendChild(r)}(e,r)})(e,t),mt(e,e.body,t.body),mt(e,e.head,t.head)}(f,e),h}))},Dt=function(){function e(e){var t=(void 0===e?{}:e).errorHandler,r=void 0===t?console.error:t,n=this;this.fireHooks=function(e,t){var r=n.privateCallbacksOf(e).filter((function(e){return e.options.condition(t)}));return Promise.all(r.map((function(e){return new Promise((function(t){return t(e.callback())}))}))).then((function(){return n.cleanHooks(e)})).catch((function(e){n.errorHandler(e)}))},this.callbacks={},this.errorHandler=r}return e.prototype.privateCallbacksOf=function(e){var t=this.callbacks;return t[e]||(t[e]=[],t[e])},e.prototype.addHook=function(e,t,r){this.privateCallbacksOf(e).push({options:c({persist:!1,condition:function(){return!0}},r),callback:t})},e.prototype.cleanHooks=function(e){var t=this.privateCallbacksOf(e);this.callbacks[e]=t.filter((function(e){return e.options.persist}))},e}(),kt=/^\/[a-z]{2}-([a-z]{2})\//i;function Mt(e,t,r,n,o,i){if(i&&n)return n.toLowerCase();if(o&&t)return t.toLowerCase();if(r){var a=function(e){var t=kt.exec(e);return t?l(t,2)[1].toLowerCase():null}(r);if(a)return a.toLowerCase()}return e.toLowerCase()}var Ft=function(e,t){return!!t&&e.includes(t)},Vt=/^\/([a-z]{2})-[a-z]{2}\//i,xt=function(e){var t=e.startupSupportedLanguages,r=e.startupLanguage,n=e.cachedLanguage,o=e.userSupportedLanguages,i=e.userProfileLanguage,a=e.pathname,u=e.skipUrlLanguageValidation,s=e.isUserLanguagePriority,c=Ft(null!=o?o:[],i);if(s&&c)return i;var f=function(e){var t=Vt.exec(e);return null!==t?l(t,2)[1].toLowerCase():null}(a);if(f){if(u)return f;var d=o&&o.length>0?o:t;if(Ft(d,f))return f}if(n){if(Ft(null!=o?o:[],n))return n;if(c)return i;if(Ft(t,n))return n}return c?i:r},jt=function(e){var t,r,n,o=e.configuration,i=e.fetch,a=e.getChapterCountry,u=e.getChapterLanguage,s=e.getPlatform,c=e.getResourceStringsEndpoint;return function(){var e=["region=".concat(a()),"LanguageCode=".concat(u()),"Platform=".concat(s())].join("&"),l="".concat(c(),"?").concat(e),f=function(e,t,r){var n,o=(null===(n=e.resourceStringLinkOverrides[t])||void 0===n?void 0:n[r])||{};return e.chapters.chapterList().forEach((function(t){var r=e.chapters.linkKey(t);if(r){var n=e.chapters.homePage(t);o[r]="/".concat(n)}})),o}(o,a(),u());if(function(e,t){return r===e&&n===JSON.stringify(t)}(l,f))return t;var d=function(e,t,r){return m.createEraroError("Failed to get resource strings data: ".concat(e),m.eraroCodesMap.category.ResourceStringService,m.eraroCodesMap.code.GenericError,t,r)};return m.again((function(){return i(l).catch((function(e){throw d("Failed to fetch ".concat(l),m.eraroCodesMap.internal.NetworkError,e)})).then((function(e){if(!e.ok){var t=e.status,r=e.statusText;throw d("".concat(t," ").concat(r," from ").concat(l),String(t))}return e.json().catch((function(e){throw d("Failed to parse json",m.eraroCodesMap.internal.ParserError,e)}))})).then((function(e){return function(e,t){return e.Links=e.Links.map((function(e){var r=e.Key;return m.keysOf(t).includes(r)&&(e.Value=t[r]),e})),e}(e,f)})).then((function(e){return t=e,r=l,n=JSON.stringify(f),e}))}))}},Bt=["startupData.Region","userProfile.Preferences"],zt=function e(t,r,n){if(t&&"object"==s(t)&&0!==r.length){var o=r[0];if(1!==r.length){var i=r.slice(1);t[o]=t[o]||{},e(t[o],i,n)}else t[o]=n}},Kt=function(e,t){for(var r=e,n=0;n<t.length;n++)r=null==r?void 0:r[t[n]];return r},Gt=function(e){return Boolean(e)&&"object"==s(e)},Ht=function(e,t){return e?[e,t].join("."):t},Jt=function(e){var t=e.window,r=e.trackUsage,n=e.logger,o=e.deps;return function(e){var i=function(o,i,a){return function(e){var t,r=e.window,n=e.trackUsage,o=e.logger,i=e.getter,a=e.propPath,u=e.replacedWith,s=e.setter,c=e.shouldNotManipulate,f=void 0!==c&&c,d="window.dazn.".concat(a),p=a.split("."),g=p[p.length-1];if(0===p.length)throw new Error("Propery should have at least one level");Kt(r.dazn,p)||zt(r.dazn,p,{});var h=function(e){u&&o(["DEPRECATION NOTICE:","".concat(e," is deprecated and will be removed."),"Please use ".concat(u)].join(" "))},v={},y=null!==(t=Kt(r.dazn,p.slice(0,-1)))&&void 0!==t?t:r.dazn;Object.defineProperty(y,g,{enumerable:!0,get:function(){h(d);var e=i();if(n){if(Gt(e)&&void 0!==v[g]&&void 0!==Proxy)return v[g]=function(e,t){var r=function(r){var o,i,u="".concat(t,".").concat(r);Gt(e[r])&&void 0===v[u]&&(o=t,i=r,Bt.some((function(e){var t=l(e.split("."),2),r=t[0],n=t[1];return r===o&&n===i}))&&(e[r]=new Proxy(e[r],{get:function(e,t){return null==n||n({functionName:[a,r,t].join(".")}),e[t]}})),v[u]=e[r])};for(var o in e)r(o);return new Proxy(e,{get:function(e,r){var o;return o="".concat(t,".").concat(r),Bt.includes(o)||null==n||n({functionName:[a,r].join(".")}),e[r]}})}(e,g),v[g];n({functionName:a})}return e},set:function(e){return h(d),null==n||n({functionName:a}),(void 0===s||f)&&o("You can not manipulate ".concat(d," directly")),null==s?void 0:s(e)}})}({window:t,trackUsage:r,logger:n,getter:i,propPath:Ht(e,o),replacedWith:null==a?void 0:a.replacedWith,setter:null==a?void 0:a.setter,shouldNotManipulate:null==a?void 0:a.shouldNotManipulate})},a=function(n,o,i){return function(e){var t=e.window,r=e.trackUsage,n=e.propName,o=e.fn,i=e.decorator,a=n.split("."),u=i?i(o,n):o;zt(t.dazn,a,r?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r({functionName:n}),u.apply(void 0,f([],l(e),!1))}:u)}({window:t,trackUsage:r,propName:Ht(e,n),fn:o,decorator:i})};return function(e){e({prop:i,func:a,logger:n,deps:o})}}},Yt=function(e){void 0===e&&(e=".bootstrap-splash");var t=null;return"string"==typeof e?t=document.querySelector(e):e&&(t=e),t||null},qt=function(e){var t,r=Yt(e);(null==r?void 0:r.parentNode)&&((t=r).style.transition=["opacity","".concat(.5.toString(),"s"),"ease"].join(" "),t.style.opacity="0",setTimeout((function(){t.parentNode&&t.parentNode.removeChild(t)}),500))},Wt=function(e){var t=Yt(e);(null==t?void 0:t.parentNode)&&(t.style.display="none")},Xt={production:n.StartupEnvironment.PROD,staging:n.StartupEnvironment.STAGE,edge:n.StartupEnvironment.STAGE,testing:n.StartupEnvironment.TEST,development:n.StartupEnvironment.DEV},Zt=["PortabilityAvailable","NativeAndPortabilityAvailable"],Qt=function(e){var t,r,o,i,a=e.deviceDetails,u=a.getPlatform,s=a.getManufacturer,c=a.getGuid,l=e.navigation.getCurrentPath,f=e.config,d=f.sessionId,p=f.languages,g=f.environment,h=e.asyncStorage,v=function(e,t){if(!e)throw m.createEraroError("[Bootstrap] Startup data is not available: ".concat(t,"()"),m.eraroCodesMap.category.StartupService,m.eraroCodesMap.code.GenericError,m.eraroCodesMap.internal.GenericError)};return{getCampaignId:function(){return t},setCampaignId:function(e){t=e},getPromoId:function(){return r},setPromoId:function(e){r=e},hasStartupData:function(){return Boolean(o)},getStartupData:function(){return v(o,"getStartupData"),o},getAbTests:function(){return null==o?void 0:o.AB_Test_Multi},setStartupData:function(e){o=e},getStartupDataCountry:function(){return v(o,"getStartupDataCountry"),o.Region.Country},getServerTimeOffset:function(){return(null==o?void 0:o.CurrentTime)?new Date(null==o?void 0:o.CurrentTime).getTime()-i:null},getRegionLanguage:function(){return null==o?void 0:o.Region.Language},getApiUrl:function(e,t){var r,n,i;return void 0===e&&(e=""),void 0===t&&(t="v1"),v(o,"getApiUrl"),null===(i=null===(n=null===(r=o.ServiceDictionary)||void 0===r?void 0:r[e])||void 0===n?void 0:n.Versions[t])||void 0===i?void 0:i.ServicePath},getAllowedLanguages:function(){return null==o?void 0:o.SupportedLanguages},isPortable:function(){var e=((null==o?void 0:o.Region)||{}).CountryPortabilityStatus;return Zt.some((function(t){return t===e}))},checkRegionAvailability:function(){var e;if(v(o,"checkRegionAvailability"),!(null===(e=o.Region)||void 0===e?void 0:e.isAllowed))throw m.createEraroError("Region is not allowed",m.eraroCodesMap.category.StartupService,m.eraroCodesMap.code.RestrictedCountry,m.eraroCodesMap.internal.StartupRestrictedCountry)},run:function(e){var a=e.shouldUseMarcoPolo,f=function(e){var t={campaignId:"generic",promoId:""},r=e().split("/").filter((function(e){return e})),n="p"===r[0];if(!r.length||!/^[a-z]{2}-([a-z]{2}|global)$/i.exec(r[0])&&!n)return t;n||r.shift();var o=r.shift();return"p"===o&&(t.promoId=r.join("/")),"c"===o&&(t.campaignId=r.join("/")),t}(l);return t=f.campaignId,r=f.promoId,Promise.resolve().then((function(){return e={shouldUseMarcoPolo:a,target:u(),manufacturer:s(),guid:c(),sessionId:d,languages:p,environment:g,campaignId:t,promoId:r,asyncStorage:h},o=new n.StartupClient({environment:Xt[e.environment],cache:e.asyncStorage}),i={Version:"2",LandingPageKey:e.campaignId,Languages:e.languages,Platform:e.target,Manufacturer:e.manufacturer,PromoCode:e.promoId,SessionId:e.sessionId,PlatformAttributes:{}},l=e.shouldUseMarcoPolo?function(){return o.getWithMarcoPolo(i,e.guid)}:function(){return o.get(i)},new Promise((function(e){return e(l())})).catch((function(e){throw m.createEraroError("Failed to get startup data. ".concat(String(e)),m.eraroCodesMap.category.StartupService,m.eraroCodesMap.code.AppLoadError,m.eraroCodesMap.internal.ServerError,e)}));var e,o,i,l})).then((function(e){var t;i=Date.now(),null===(t=window.newrelic)||void 0===t||t.setCustomAttribute("geoCountry",e.Region.Country),o=e}))}}},$t=function(e,t,r,n){var o={Authorization:"Bearer ".concat(e),"Content-Type":"application/json"};return n&&(o["X-Session-Id"]=n),!0===r()&&(o["X-Dazn-Marco"]="",o["X-Dazn-Device"]=t()),o},er=function(e){var t=l(e.split("."),2)[1];try{var r=window.atob(t),n=JSON.parse(r);return function(e){return e&&Object.keys(e).length>0}(n)?n:null}catch(e){return null}},tr={401:{message:"Token responded profile not authenticated",codeName:"UnathorizedRefreshTokenError"},403:{message:"Country not available",codeName:"RestrictedCountry"},429:{message:"Token responded not okay",codeName:"ServiceTooManyAttemps"},500:{message:"Token responded not okay",codeName:"GenericError"}},rr=1e3,nr=function(e){return new Date(e*rr).toISOString()};var or=function(){return Promise.resolve(null)};e.chapterNames=o,e.createMainModules=function(e,r){var n=r.__HACK__languageStorage,a=r.configurationJSON,u=r.manufacturer,f=r.asyncStorage,d=r.targetVersion,p=r.gtmContainerId,h=r.getLanguages,y=r.onReady,E=r.fetchDeviceId,O=r.devModeIndicatorVariant,A=r.getUserConsent,_=r.authChapterName,b=r.maxSplashScreenVisibilityTime,T=r.selectorsExcludedFromCleaning,R=r.splashScreenBehaviour,S=r.getOneTrustConsentGroups,N=r.applicationType,C=r.handleFeEvent,w=r.getAdvertisingDeviceId,L=r.fetchPartnerAccessCode,U=r.getPlayerTarget,P=r.launchURL,D=r.exitApp,k=r.restartApp,M=r.textToSpeechAPI,F=r.closedCaptionsAPI,V=r.optimizelyDatafileURL,x=r.featurevisorDatafileURL,j=void 0!==e.performance&&["now","mark","measure"].every((function(t){return t in e.performance}));j&&e.performance.mark("bootstrap:start");var B=a.environment===i.PRODUCTION,z=m.generateSessionId(),G=m.createNewRelicTracer({useConsole:!B,tracerName:"boot.launch",sessionId:z,now:j?function(){return e.performance.now()}:function(){return Date.now()}}),H=function(e){var t=!1,r=!1;return{isEnabled:function(){if(!t)throw new Error("[Bootstrap] Bad init: devMode is not known yet!");return r},readFromStorage:function(){return e.getItem(W).then((function(e){t=!0,r="true"===e}))},update:function(t){return r=t,e.setItem(W,String(t))}}}(f),Y=G.trace("all"),q=function(){var t,r;if(Y(),j){e.performance.mark("bootstrap:end"),e.performance.measure("bootstrap","bootstrap:start","bootstrap:end");var n=null===(t=e.performance.getEntriesByName("bootstrap"))||void 0===t?void 0:t.pop(),o=null===(r=e.performance.getEntriesByName("bootstrap:end"))||void 0===r?void 0:r.pop();n&&o&&(console.info("✅ Bootstrap init: ".concat(n.duration,"ms")),console.info("✅ App launch: ".concat(o.startTime,"ms")))}},X=G.trace("init"),Z=a.target;G.addRelease("bootstrap",I),G.addRelease("target","".concat(Z,"_").concat(d)),G.extendCustomAttributes({target:Z,"version.bootstrap":I,"version.target":d});var Q,$,ee=G.wrapAsyncFn("onReady",y)(),re=(Q=a.safeMode,$=null,{readSafeModeFlag:function(e){var t,r;return $=null!==(t=e("f_safe_mode_gcp"))&&void 0!==t&&t?null!==(r=e("f_safe_mode_firedrill"))&&void 0!==r&&r?Q.GCPFireDrill:Q.GCP:Q.AWS},getSafeModeConfig:function(){if(null===$)throw new Error("[Bootstrap] Bad init: feature flag is not read yet ");return $}}),ne=re.getSafeModeConfig,oe=re.readSafeModeFlag,ie=G.wrapAsyncFn("createOptimizelyInstance",(function(){return function(e){var r,n=e.datafileURL,o=e.environment;return m.again((function(){return fetch(n).then((function(e){return e.json()}))}),{retries:0,timeout:3e3}).then((function(e){var n=t.createInstance({datafile:e});if(null===n)throw new Error("Optimizely Instance was not created");return r=n,n.onReady()})).then((function(e){var t=e.success,n=e.reason;if(!t)throw new Error(null!=n?n:"unknown");return r})).catch((function(e){return o!==i.PRODUCTION&&console.error(["[Bootstrap] Optimizely failed to initialize.","Reason: ".concat(String(e))].join(" ")),null}))}({datafileURL:V,environment:a.environment})}))(),ae=G.wrapAsyncFn("createFeaturevisorInstance",(function(){return function(e){return new De({datafileUrl:e.datafileURL,handleDatafileFetch:function(e){return m.again((function(){return fetch(e).then((function(e){return e.json()}))}),{retries:0,timeout:3e3})},onActivation:function(e,t){ke({event:"optimizelyActivation",optimizely:{experimentName:e,experimentId:e,variantName:t,variantId:t}})}})}({datafileURL:x})}))(),ue=function(){return m.getChapterName(me.getCurrentChapter())},se=J(a),le=Ge({asyncStorage:{load:f.getItem,save:f.setItem},deviceDetails:{platform:a.target,manufacturer:u},config:{bootstrapVersion:I,targetVersion:d,environment:a.environment,environmentGroup:a.environmentGroup,sessionId:z},getCurrentUrl:function(){return e.location.href},fetchDeviceId:null!=E?E:void 0}),fe=function(e){var r,n=e.currentEnvironment,o=e.environmentGroup,a=e.getViewerId,u=e.getDeviceId,s=e.getAccountStatus,l=e.getBrowser,f=e.getBrowserVersion,d=e.getUserCountryCode,p=e.getBillingCountry,g=e.getGeolocatedCountry,h=e.getDeviceType,v=e.getUserLanguage,y=e.getOs,E=e.getChapterName,m=e.getFullURL,I=e.getPlatform,O=e.getUserConsent,A=e.getIsDevModeEnabled,_=e.getUserNflStatus,b=e.asyncStorage,T=null,R=null,S={},N="N/A",C=n===i.PRODUCTION,w=function(){return O().then((function(e){r={PerformanceConsent:e.performance,FunctionalConsent:e.functional,TargetingConsent:e.targeting,GoogleAdsStorageConsent:e.googleAdsStorage,PersonalisedAdsConsent:e.personalisedAds}}))},L=function(){var e,t,i,a,u,O,b=m(),T=(u=b,(O=xe.exec(u.toLowerCase()))?{language:O[1],country:O[2]}:{}),R=T.language,C=void 0===R?"":R,L=T.country,U=void 0===L?"":L;w();var P={AccountStatus:s(),Browser:l(),BrowserVersion:f(),UserCountryCode:null===(e=d())||void 0===e?void 0:e.toLowerCase(),Type:h(),UserLanguageLocaleKey:v(),Os:y(),Chapter:E(),OptimizelyEnvironment:n,FullURL:b,URLCountry:U.toLowerCase(),URLLanguage:C,Platform:I(),BillingCountry:null===(t=p())||void 0===t?void 0:t.toLowerCase(),GeolocatedCountry:null===(i=g())||void 0===i?void 0:i.toLowerCase(),DevMode:A(),ReferralURL:null!==(a=null===document||void 0===document?void 0:document.referrer)&&void 0!==a?a:"",EnvironmentGroup:o,ProductStatusNFL:_()};return c(c(c({},P),function(e,t){return e?JSON.parse(JSON.stringify({FirmwareVersion:e.firmwareVersion,Manufacturer:t,DeviceModel:e.model,DeviceBrand:e.brand,DeviceType:e.type,OsName:e.osName,OsVersion:e.osVersion})):{}}(S,N)),r)},U=function(e,t){var r,n,o,i=L();return t&&(r=t,n=i,(o=Object.keys(r).filter((function(e){return e in n}))).length>0&&console.warn("[Bootstrap] You are trying to override default attributes: ".concat(o.join(", ")))),c(c(c({},t),i),e)},P=function(){var e=u();return{optimizelyId:e,optimizelyAttrs:{},featurevisorAttrs:{deviceID:e}}},D=function(){var e=a();return function(e){e||console.warn("[Bootstrap] getViewerId was called, but user is not authorized.")}(e),{optimizelyId:e,optimizelyAttrs:{ViewerID:e},featurevisorAttrs:{userID:e}}},k=function(e){var t,r;if(R&&R.getFeature(e.featName))return null!==(t=e.callFeaturevisor({client:R,attrs:U(e.getUserData().featurevisorAttrs,e.customAttrs)}))&&void 0!==t?t:null;if(!T)return null;var n=e.getUserData(),o=n.optimizelyAttrs,i=n.optimizelyId;return null!==(r=e.callOptimizely({client:T,id:i,attrs:U(o,e.customAttrs)}))&&void 0!==r?r:null},M=function(e){return function(t,r){return k({featName:t,customAttrs:r,getUserData:e,callOptimizely:function(e){return e.client.getVariation(t,e.id,e.attrs)},callFeaturevisor:function(e){return e.client.getVariation(t,e.attrs)}})}},F=function(e){return function(t,r){return k({featName:t,customAttrs:r,getUserData:e,callOptimizely:function(e){return e.client.isFeatureEnabled(t,e.id,e.attrs)},callFeaturevisor:function(e){return e.client.isEnabled(t,e.attrs)}})}},V=function(e){return function(t,r,n){if(!T)return null;var o=e(),i=o.optimizelyId,a=o.optimizelyAttrs;return T.track(t,i,U(a,r),n||void 0)}},x=function(e){return function(t,r){return k({featName:t,customAttrs:r,getUserData:e,callOptimizely:function(e){return e.client.activate(t,e.id,e.attrs)},callFeaturevisor:function(e){return e.client.activate(t,e.attrs)}})}},j=function(e){return function(t,r,n){return k({featName:t,customAttrs:n,getUserData:e,callOptimizely:function(e){return e.client.getFeatureVariableBoolean(t,r,e.id,e.attrs)},callFeaturevisor:function(e){return e.client.getVariableBoolean(t,r,e.attrs)}})}},B=function(e){return function(t,r,n){return k({featName:t,customAttrs:n,getUserData:e,callOptimizely:function(e){return e.client.getFeatureVariableInteger(t,r,e.id,e.attrs)},callFeaturevisor:function(e){return e.client.getVariableInteger(t,r,e.attrs)}})}},z=function(e){return function(t,r,n){return k({featName:t,customAttrs:n,getUserData:e,callOptimizely:function(e){return e.client.getFeatureVariableString(t,r,e.id,e.attrs)},callFeaturevisor:function(e){return e.client.getVariableString(t,r,e.attrs)}})}};return{getVariationAnonymous:M(P),getVariationAuthenticated:M(D),activateAnonymous:x(P),activateAuthenticated:x(D),trackAnonymous:V(P),trackAuthenticated:V(D),isEnabledAnonymous:F(P),isEnabledAuthenticated:F(D),getVariableBooleanAnonymous:j(P),getVariableBooleanAuthenticated:j(D),getVariableIntegerAnonymous:B(P),getVariableIntegerAuthenticated:B(D),getVariableStringAnonymous:z(P),getVariableStringAuthenticated:z(D),setForcedVariationAnonymous:function(e,t){return!!T&&T.setForcedVariation(e,u(),t)},getForcedVariationAnonymous:function(e){return T?T.getForcedVariation(e,u()):null},setForcedVariationAuthenticated:function(e,t){return!!T&&T.setForcedVariation(e,a(),t)},getForcedVariationAuthenticated:function(e){return T?T.getForcedVariation(e,a()):null},addNotificationListener:function(e,t){return T?T.notificationCenter.addNotificationListener(e,t):NaN},removeNotificationListener:function(e){return!!T&&T.notificationCenter.removeNotificationListener(e)},run:function(e,r,n,o){return T=e,R=r,w().then((function(){return Ve({asyncStorage:b,level:null,isDevMode:A(),isProd:C})})).then((function(){S=n,N=o,T&&T.notificationCenter.addNotificationListener(t.enums.NOTIFICATION_TYPES.ACTIVATE,(function(e){ke({event:"optimizelyActivation",optimizely:{experimentName:e.experiment.key,experimentId:e.experiment.id,variantName:e.variation.key,variantId:e.variation.id}})}))}))},setOptimizelyLogLevel:function(e){return void 0===e&&(e=null),Ve({asyncStorage:b,level:e,isDevMode:A(),isProd:C})}}}({currentEnvironment:a.environment,environmentGroup:le.getEnvironmentGroup(),getViewerId:function(){var e;return null!==(e=ve.getProfile().ViewerId)&&void 0!==e?e:"N/A"},getDeviceId:le.getDeviceId,getDeviceType:function(){var e,t;return null!==(t=null===(e=ge.getStartupData())||void 0===e?void 0:e.UserDevice.Type)&&void 0!==t?t:"unknown"},getPlatform:le.getPlatform,getAccountStatus:function(){var e;return null!==(e=ve.getUserStatus())&&void 0!==e?e:"unknown"},getBrowser:function(){var e,t;return null!==(t=null===(e=ge.getStartupData())||void 0===e?void 0:e.UserDevice.Browser)&&void 0!==t?t:"unknown"},getBrowserVersion:function(){var e,t;return null!==(t=null===(e=ge.getStartupData())||void 0===e?void 0:e.UserDevice.BrowserVersion)&&void 0!==t?t:""},getUserCountryCode:function(){var e;return ve.isAuthorized()?ve.getContentCountry():null!==(e=ge.getStartupDataCountry())&&void 0!==e?e:""},getUserLanguage:function(){return me.getLanguage()},getBillingCountry:function(){return ve.getSignUpCountry().toLowerCase()},getGeolocatedCountry:function(){var e,t,r;return null!==(r=null===(t=null===(e=ge.getStartupData())||void 0===e?void 0:e.Region)||void 0===t?void 0:t.GeolocatedCountry)&&void 0!==r?r:""},getOs:function(){var e,t;return null!==(t=null===(e=ge.getStartupData())||void 0===e?void 0:e.UserDevice.Os)&&void 0!==t?t:"unknown"},getChapterName:ue,getFullURL:function(){return e.location.href},getUserConsent:A,getIsDevModeEnabled:H.isEnabled,getUserNflStatus:function(){var e,t,r;return null!==(r=null===(t=null===(e=ve.getDecodedJWT())||void 0===e?void 0:e.productStatus)||void 0===t?void 0:t.NFL)&&void 0!==r?r:""},asyncStorage:f}),de=K({getViewerId:function(){return ve.getProfile().ViewerId},handleFeEvent:C,getCurrentChapterName:ue,getCurrentChapterVersion:function(){var e=ue();return le.getVersions()[e]},getCountry:function(){var e,t,r;return{billingCountry:(null!==(e=ve.getSignUpCountry())&&void 0!==e?e:"").toLowerCase(),geoCountry:null!==(t=ge.getStartupDataCountry())&&void 0!==t?t:"",contentCountry:ve.isAuthorized()?ve.getContentCountry():null!==(r=ge.getStartupDataCountry())&&void 0!==r?r:""}},getUserType:function(){return ve.getUserType()},getUserStatus:function(){return ve.getUserStatus()},getAdvertisingDeviceId:null!=w?w:or}),pe=te({config:{restrictedCountryChapterName:o.LANDING_PAGE,errorChapterName:o.ERROR,authChapterName:_},metaData:{setCurrentChapter:function(e){return me.setCurrentChapter(e)},sendErrorEvent:de.sendErrorEvent},getSafeModeConfig:ne,fetch:e.fetch}),ge=Qt({deviceDetails:{getPlatform:le.getPlatform,getManufacturer:le.getManufacturer,getGuid:le.getGuid},config:{sessionId:z,languages:h(),environment:a.environment},navigation:{getCurrentPath:function(){return e.location.pathname}},asyncStorage:f}),he=ce(f.getItem,f.setItem,ge.getAbTests,(function(){return ve.getProfile().ViewerId})),ve=function(e){var t,r=e.authTokenRefreshUrl,n=e.userProfileUrl,o=e.logOutUrl,i=e.load,a=e.save,u=e.remove,s=e.onTokenReset,c=e.sessionId,l=e.deviceId,f=e.fetch,d=e.getGuid,p=e.getDevMode,g=e.getApiUrl,h=e.getServerTimeOffset,v=e.isForceReload,y=e.removeForceReloadFlag,E=e.defaultActiveUserTypes,I={},O="",A=null,_=!1,b=function(e){var t,r,n,o,i,a,u,s;O=e,(A=e?er(e):null)&&(null===(t=window.newrelic)||void 0===t||t.setCustomAttribute("contentCountry",A.contentCountry),null===(r=window.newrelic)||void 0===r||r.setCustomAttribute("daznId",A.user),null===(n=window.newrelic)||void 0===n||n.setCustomAttribute("userStatus",A.userstatus),null===(o=window.newrelic)||void 0===o||o.setCustomAttribute("viewerId",A.viewerId),null===(i=window.newrelic)||void 0===i||i.setCustomAttribute("jwt.expires",A.exp),null===(a=window.newrelic)||void 0===a||a.setCustomAttribute("jwt.issued",A.issued),null===(u=window.newrelic)||void 0===u||u.setCustomAttribute("jwt.expiredISO",nr(A.exp)),null===(s=window.newrelic)||void 0===s||s.setCustomAttribute("jwt.issuedISO",nr(A.issued)))},T=function(e){return a(e).then((function(){return b(e)})).then((function(){return e}))},R=function(e){var t,r;return void 0===e&&(e={}),r=I=e,_=Object.keys(r||{}).length>0,e.hasOwnProperty("UserCountryCode")&&(null===(t=window.newrelic)||void 0===t||t.setCustomAttribute("billingCountry",e.UserCountryCode.toLowerCase())),I},S=function(e){return function(e,t,r,n,o){return m.again((function(){return r(e,{headers:$t(t,n,o),cache:"no-cache"}).catch((function(e){return Promise.reject(function(e){return m.createEraroError("User profile request failure",m.eraroCodesMap.category.UserProfileService,m.eraroCodesMap.code.GenericError,m.eraroCodesMap.internal.NetworkError,e)}(e))})).then((function(e){return 403===e.status?Promise.reject(function(e){return m.createEraroError("Country not available",m.eraroCodesMap.category.UserProfileService,m.eraroCodesMap.code.RestrictedCountry,String(e))}(e.status)):e.ok?e.json().catch((function(e){return Promise.reject(function(e){return m.createEraroError("Could not convert user profile response to JSON",m.eraroCodesMap.category.UserProfileService,m.eraroCodesMap.code.GenericError,m.eraroCodesMap.internal.ParserError,e)}(e))})):Promise.reject(function(e){return m.createEraroError("User profile responded not okay",m.eraroCodesMap.category.UserProfileService,m.eraroCodesMap.code.GenericError,String(e))}(e.status))}))}),{backoff:200,retries:2})}(n(),e,f,d,p)},N=function(){return Boolean(A)},C=function(e){return e.exp*rr-3e5-(Date.now()+(h()||0))},w=function(e){return Date.now()+(h()||0)<e.issued*rr},L=function e(n){var o=(void 0===n?{}:n).force,a=void 0!==o&&o;return i().then((function(n){if(n){var o=er(n),i=C(o);r&&console.warn("\n        'authTokenRefreshUrl' param of 'createUserModule' will be deprecated,\n        Use 'getApiUrl: startupModule.getApiUrl' instead.\n        Refer to: BOOT-701\n                    ");var u=g?g("RefreshAccessToken","v5"):null==r?void 0:r();if(!u)throw new Error("\n        RefreshAccessToken url is missing,\n        Check getApiUrl, you can get it from startup module.\n                                ");return Promise.resolve().then(v).then((function(e){var t=p()||w(o)||a||e||i<0;return e&&y(),t?function(e,t,r,n,o,i,a){return void 0===a&&(a=function(){return!1}),n?o(t,{method:"POST",headers:$t("".concat(e),i,a,r),body:JSON.stringify({DeviceId:n}),cache:"no-store"}).catch((function(e){return Promise.reject(function(e){return m.createEraroError("Token profile request failure",m.eraroCodesMap.category.RefreshTokenService,m.eraroCodesMap.code.GenericError,m.eraroCodesMap.internal.NetworkError,e)}(e))})).then((function(e){return e.status>399?Promise.reject(function(e){var t=String(e),r=t in tr?tr[t]:tr[500],n=r.codeName,o=r.message;return m.createEraroError(o,m.eraroCodesMap.category.RefreshTokenService,m.eraroCodesMap.code[n],t)}(e.status)):e.ok?e.json().catch((function(e){return Promise.reject(function(e){return m.createEraroError("Could not convert token response to JSON",m.eraroCodesMap.category.RefreshTokenService,m.eraroCodesMap.code.GenericError,m.eraroCodesMap.internal.ParserError,e)}(e))})).then((function(t){return function(e){var t;return null===(t=null==e?void 0:e.AuthToken)||void 0===t?void 0:t.Token}(t)||Promise.reject(function(e){return m.createEraroError(tr[401].message,m.eraroCodesMap.category.RefreshTokenService,m.eraroCodesMap.code[tr[401].codeName],String(e))}(e.status))})):Promise.reject(m.createEraroError("Token responded not okay",m.eraroCodesMap.category.RefreshTokenService,m.eraroCodesMap.code.GenericError,m.eraroCodesMap.internal.NetworkError))})):Promise.reject(m.createEraroError("deviceId not defined",m.eraroCodesMap.category.RefreshTokenService,m.eraroCodesMap.code.GenericError,m.eraroCodesMap.internal.NetworkError,new TypeError("deviceId not defined")))}(n,u,c(),l(),f,d,p):n})).then(T).then((function(r){var n=er(r),o=C(n);return t&&window.clearTimeout(t),(w(n)||o>=2147483647||o<=0||o!=o)&&(o=36e5),t=window.setTimeout(e,o),r})).then(S).then(R).then((function(){}))}}))};return{run:function(){return L()},refreshExistingTokenAndUpdateProfile:L,getProfile:function(){return I},setProfile:R,getUserLanguage:function(){return I.UserLanguageLocaleKey},getSupportedLanguages:function(){return I.SupportedLanguages},isProfileCached:function(){return _},getToken:function(){return O},getDecodedJWT:function(){return A},setToken:function(e){if(e===O)return Promise.resolve();if(e)return T(e).then(S).then(R).then((function(){}));I={},_=!1;var t=O;return b(""),u().then((function(){if(t)return function(e,t,r,n,o,i){return n(e,{method:"POST",headers:$t(t,o,i),body:JSON.stringify({DeviceId:r})}).then((function(e){if(!e.ok)throw m.createEraroError("Logout responded not okay",m.eraroCodesMap.category.UserProfileService,m.eraroCodesMap.code.GenericError,String(e.status))}),(function(e){throw m.createEraroError("Logout attempt request failure",m.eraroCodesMap.category.UserProfileService,m.eraroCodesMap.code.GenericError,m.eraroCodesMap.internal.NetworkError,e)}))}(o(),t,l(),f,d,p).then(s)})).catch(s)},isAuthorized:N,isActive:function(e){return void 0===e&&(e=E),N()&&e.includes((null==A?void 0:A.userstatus)||"")},getSignUpCountry:function(){return I.UserCountryCode||""},getCountry:function(){return(null==A?void 0:A.country)||""},getContentCountry:function(){return(null==A?void 0:A.contentCountry)||""},getUserStatus:function(){return(null==A?void 0:A.userstatus)||""},getUserType:function(){return(null==A?void 0:A.userType)||NaN},fetchProfile:function(){return N()&&!_?i().then((function(e){if(e)return S(e).then(R).then((function(){return _}))})):Promise.resolve(void 0)}}}({logOutUrl:function(){return ge.getApiUrl("SignOut","v1")},userProfileUrl:function(){return ge.getApiUrl("UserProfile","v1")},load:function(){return f.getItem(a.tokenStorageKey)},remove:function(){return f.removeItem(a.tokenStorageKey)},save:function(e){return f.setItem(a.tokenStorageKey,e)},isForceReload:function(){return f.getItem("daznForceRefreshToken")},removeForceReloadFlag:function(){return f.removeItem("daznForceRefreshToken")},deviceId:le.getDeviceId,sessionId:le.getSessionId,onTokenReset:function(){me.setCurrentChapter(se.chapters.onLogoutChapter)},fetch:e.fetch,getGuid:le.getGuid,getDevMode:H.isEnabled,getApiUrl:ge.getApiUrl,getServerTimeOffset:ge.getServerTimeOffset,defaultActiveUserTypes:a.defaultActiveUserTypes}),ye=function(e){return se.countries.native.includes(e)},Ee=function(e){return ye(e)?e:"moon"},me=function(e){var t=e.window,r=e.configuration,n=e.startupModule,i=e.userModule,a=e.errorModule,u=e.storageModule,s=e.util,c=e.initializationModule,l=!1,f=function(e){var t=e.captureException,r=new Dt({errorHandler:t}),n=function(e){return function(t,n){return r.addHook(e,t,n)}},o=n("willLoad"),i=n("willUnload"),a=n("didLoad"),u=n("didUnload"),s=n("willStart"),c=o,l=a,f=function(e){return function(t){return r.fireHooks(e,t)}};return{triggers:{willLoadEvents:f("willLoad"),willUnloadEvents:f("willUnload"),didLoadEvents:f("didLoad"),didUnloadEvents:f("didUnload"),willStartEvents:function(){return r.fireHooks("willStart",void 0)}},events:{onChapterLoad:l,onChapterUnload:c,onChapterWillLoad:o,onChapterWillUnload:i,onChapterDidLoad:a,onChapterDidUnload:u,onWillStart:s}}}(a),d=function(){return s.getNativeCountryOrMoon(n.getStartupDataCountry())},p=function(e){return $e({configuration:r,isAuthorized:i.isAuthorized(),isActive:i.isActive,pathname:e,startupNativeCountryOrMoon:d()}).verifiedChapterName},g=function(){return function(e,t,r,n,o,i,a){var u=o(e);return Mt(t||"",i,u&&n.getsCountryFromUrl(u)?e:null,a,!!u&&n.useSignUpCountry(u),u&&n.usePortability(u)&&r()||!1)}(t.location.pathname,n.getStartupDataCountry(),n.isPortable,r.chapters,p,i.getSignUpCountry(),i.getContentCountry())},h=null,v=function(){var e,o=xt({startupSupportedLanguages:null!==(e=n.getAllowedLanguages())&&void 0!==e?e:[],startupLanguage:n.getRegionLanguage()||"",cachedLanguage:h,userSupportedLanguages:i.getSupportedLanguages(),userProfileLanguage:i.getUserLanguage(),pathname:t.location.pathname,skipUrlLanguageValidation:r.chapters.getsCountryFromUrl(p(t.location.pathname)),isUserLanguagePriority:!i.isProfileCached()});return l?(o!==h&&(u.saveLanguage(o),h=o),o):o},y=jt({configuration:r,fetch:t.fetch,getChapterCountry:g,getChapterLanguage:v,getPlatform:c.getPlatform,getResourceStringsEndpoint:s.getResourceStringsEndpoint}),E=it({window:t,configuration:r,errorModule:a,userModule:i,verifyChapterAuthorization:function(e){return Qe({configuration:r.chapters,isActive:i.isActive,isAuthorized:i.isAuthorized(),chapters:[e]})},getChapterCountry:g,setChapterVersion:c.setChapterVersion,getChapterLanguage:v,downloadChapterAndAddInPage:function(e,n,o){var i=function(e){var t=e.window,r=e.chapterName,n=e.region,o=[e.resourceURL.replace(pt,""),n,r].join("/"),i=new t.URL(o,t.location.href).href;return{baseURL:i,chapterURL:"".concat(i,"/index.html")}}({window:t,chapterName:e,resourceURL:r.resourcesBaseUrl,region:s.getNativeCountryOrMoon(g())}),a=i.chapterURL,u=i.baseURL;return Pt({window:t,url:a,baseUrl:u,chapterName:e,chapterCountry:n,triggers:f.triggers,garbageCollector:o,selectorsExcludedFromCleaning:s.selectorsExcludedFromCleaning})},getChapterUrl:function(e,n,i){var a=e.chapterName;if(a===o.ERROR)return"".concat(t.location.pathname).concat(et(t.location));var u=e.chapterPath&&e.chapterPath.replace(r.appUrlPrefix,""),s=dt({location:t.location,chaptersMap:r.chapters.combinedChapterMap,country:n,language:i,chapterHomepage:r.chapters.homePage(a),withLanguageInUrl:r.chapters.hasLanguageInUrl(a),chapterFromUrl:p(t.location.pathname),chapterName:e.chapterName,chapterPath:u,rewriteUrlLocale:r.chapters.rewriteUrlLocale(a),rewriteUrlLocaleOverrideMap:r.chapters.rewriteUrlLocaleOverrideMap(a)});return r.appUrlPrefix+s},getResourceStrings:y,triggerChapterDidLoadEvent:f.triggers.didLoadEvents,getStartupNativeCountryOrMoon:d}),m=E.getCurrentChapter,I=E.setCurrentChapter,O=E.onChapterInstalled;return{run:function(){return u.loadLanguage().then((function(e){return l=!0,e&&(h=e),y()}))},getResourceStrings:y,getLanguage:v,getChapterCountry:g,getCurrentChapter:function(){var e=m();return e.chapterData?e:e.chapterName},setCurrentChapter:I,handlePopstate:function(){var e=t.location.pathname;!function(e,t,r,n){void 0===n&&(n=""),r!==t&&e({chapterName:r,chapterPath:n},!0)}(I,m().chapterName,p(e),e)},getChapterFromPath:p,lifecycleEvents:f.events,loadInitialChapter:function(e){void 0===e&&(e=null);var r=t.location.pathname;if(!t.daznSSR){if(!p(r))throw qe("Unable to compute chapter name from path ".concat(r));return n.checkRegionAvailability(),e?I(e):(f.triggers.willStartEvents(),I({chapterPath:r}))}var o=t.daznSSR,i=o.chapterName,a=o.chapterCountry,u=o.chapterVersion,s=e?nt(e,r):null;return O({chapterName:i,chapterData:s?s.chapterData:null,chapterPath:r},{chapterCountry:a,chapterVersion:u}),Promise.resolve()}}}({window:e,configuration:se,startupModule:ge,userModule:ve,errorModule:pe,initializationModule:le,util:{getNativeCountryOrMoon:Ee,getResourceStringsEndpoint:function(){return ge.getApiUrl("ResourceStrings","v1")},selectorsExcludedFromCleaning:null!=T?T:[]},storageModule:n?{saveLanguage:function(){return Promise.resolve()},loadLanguage:function(){return Promise.resolve(null)}}:{saveLanguage:function(e){return f.setItem(a.UILanguageKey,e)},loadLanguage:function(){return f.getItem(a.UILanguageKey)}}});me.lifecycleEvents.onChapterDidLoad((function(){var e=le.getVersions(),t=ue(),r=Ee(ge.getStartupDataCountry()),n=e[t]||"unknown";G.addRelease("chapter.".concat(t),"".concat(n," (").concat(Z,", ").concat(r,")")),de.sendChapterLoadEvent()}),{persist:!0});var Ie=function(e){var t=e.lifecycle,r=e.currentChapter,n=e.scrollToTop,o=e.maxSplashScreenVisibilityTime;return{removeSplashScreen:qt,hideSplashScreen:Wt,run:function(){var e=function(){return Array.from(document.querySelectorAll("body > .bootstrap-splash"))},i=!0,a=function(t){var r=l(e(),2)[1];if(r){if(r.style.display=t?"block":"none",t)return document.body.style.overflow="hidden",void n();document.body.style.overflow="visible"}};a(!1),t.onChapterWillLoad((function(){var t=r();"object"==s(t)&&(t=t.chapterName),"error"!==t?i||a(!0):e().map(qt)}),{persist:!0}),t.onChapterDidLoad((function(){var t=l(e(),1)[0];a(!1),o?setTimeout((function(){qt(t)}),o):(qt(t),i=!1)}),{persist:!0})}}}({lifecycle:me.lifecycleEvents,scrollToTop:function(){e.scrollTo(0,0)},currentChapter:ue,maxSplashScreenVisibilityTime:b}),Oe="remove"===R?Ie.removeSplashScreen:Ie.hideSplashScreen,Ae=function(t){var r=t.deviceMetadata,n=t.isDevModeEnabled,o=t.safeModeConfig;return g.prepareAPIRootForBrowser(e).useAPIComponents([v.createAsyncStorageComponent(f),v.createDevModeComponent({indicatorVariant:O,isEnabled:n,onChange:function(e){H.update(e),k()}}),v.createLoggerComponent("Bootstrap",a.environment),v.deviceMetadataComponent,v.startupDeviceComponent,v.createSafeModeComponent(o),v.createUILanguageComponent(me.getLanguage),v.createL10nComponent(me.getResourceStrings),v.authTokenComponent,v.feEventsComponent,v.closedCaptionsComponent]).catch((function(e){return console.error("[Bootstrap] setupPublicAPI (v2)"),console.error(e),G.noticeError(e,"from setupPublicAPI"),null})).then((function(){!function(e){var t,r=e.deps,n=e.window,o=e.shouldTrack,i=e.shouldLog,a=e.logger,u=void 0===a?console.warn.bind(console):a;if(i||(u=function(){return null}),!(null===(t=n.dazn)||void 0===t?void 0:t.publicApiInitialised)){var l=n.dazn||{};Object.defineProperty(n,"dazn",{enumerable:!0,get:function(){return l},set:function(e){e!==l&&u("You can not manipulate window.dazn directly")}});var f=o?m.tracking.createTracking(m.tracking.createNRTracking(n),{defaultSampling:{type:m.tracking.Sampling.Once}}):null;(function(e){!function(e){e("application")((function(e){var t=e.func,r=e.prop,n=e.deps;r("exitApp",(function(){return n.exitApp}),null),t("restartApp",n.restartApp),t("playerTarget",n.getPlayerTarget),r("environmentGroup",n.getEnvironmentGroup,null),r("environment",n.getEnvironment,null),r("type",n.getApplicationType,null)}))}(e),function(e){e(null)((function(e){var t=e.func,r=e.prop,n=e.deps,o=void 0;r("taf",(function(){return o}),{setter:function(e){return o=e}}),r("localStorage",n.getAsyncStorage,null),t("isMoonCountry",n.isMoonCountry),t("captureException",n.captureException);var i={};r("event",(function(){return i}),null),r("versions",n.getChaptersVersions,null),r("resourceStringsData",n.getResourceStringsData,null),r("campaignId",n.getCampaignId,null),r("promoId",n.getPromoId,null),r("language",n.getChapterLanguage,null),r("sessionId",n.getSessionId,null),r("country",n.getCountry,null),t("unstable_fetchSafeModeStatus",n.fetchSafeMode),r("contentCountry",n.getContentCountry,null),t("unstable_handleFeEvent",n.handleFeEvent),r("userProfile",n.getUserProfile,{setter:n.setUserProfile,shouldNotManipulate:!0}),r("userStatus",n.getUserStatus,{shouldNotManipulate:!0}),r("userType",n.getUserType,null),t("getUserExperiment",n.getUserExperiment),t("getAnonymousExperiment",n.getAnonymousExperiment),r("deviceId",n.getDeviceId,{shouldNotManipulate:!0,replacedWith:"window.dazn.device.id"}),r("environment",n.getEnvironment,{replacedWith:"window.dazn.application.environment"}),r("manufacturer",n.getManufacturer,{shouldNotManipulate:!0,replacedWith:"window.dazn.device.manufacturer"}),r("platform",n.getPlatform,{shouldNotManipulate:!0,replacedWith:"window.dazn.device.platform"}),r("experiments",(function(){return c(c({},n.getExperiments()),{getUserExperimentNumber:n.getUserExperimentNumber})}),{replacedWith:"window.dazn.experiment (Optimizely)"}),r("textToSpeech",(function(){return n.textToSpeechAPI}),null),r("unstable_closedCaptions",(function(){return n.closedCaptionsAPI}),null)}))}(e),function(e){e("auth")((function(e){var t=e.func,r=e.prop,n=e.deps;r("token",n.getAuthToken,{setter:n.setAuthToken}),t("refreshToken",n.refreshExistingTokenAndUpdateProfile),t("setToken",n.setAuthToken),t("unstable_getDecodedJWT",n.getDecodedJWT),r("unstable_fetchPartnerAccessCode",(function(){return n.fetchPartnerAccessCode}),null)}))}(e),function(e){e("chapterHistory")((function(e){var t=e.func,r=e.prop,n=e.deps;t("getChapterFromPath",n.getChapterFromPath),r("currentChapter",n.getCurrentChapter,{setter:n.setCurrentChapter})}))}(e),function(e){e("consent")((function(e){var t=e.func,r=e.prop,n=e.deps;t("getUserConsent",n.getUserConsent),t("identifierForAdvertising",n.getAdvertisingDeviceId),r("oneTrustConsentGroups",n.getOneTrustConsentGroups,{replacedWith:"window.dazn.consent.getUserConsent"})}))}(e),function(e){e("device")((function(e){var t=e.prop,r=e.deps;t("id",r.getDeviceId,{shouldNotManipulate:!0}),t("guid",r.getGuid,null),t("manufacturer",r.getManufacturer,{shouldNotManipulate:!0}),t("platform",r.getPlatform,{shouldNotManipulate:!0});var n=r.deviceMetadata;t("type",(function(){return n.type}),null),t("brand",(function(){return n.brand}),null),t("model",(function(){return n.model}),null),t("firmwareVersion",(function(){return n.firmwareVersion}),null),t("osName",(function(){return n.osName}),null),t("osVersion",(function(){return n.osVersion}),null)}))}(e),function(e){e("devMode")((function(e){var t=e.func,r=e.prop,n=e.deps;t("enable",n.enableDevMode),t("disable",n.disableDevMode),t("setOptimizelyLogLevel",n.optimizely.setOptimizelyLogLevel),r("isDevModeEnabled",n.getDevMode,null)}))}(e),function(e){e("lifecycle")((function(e){var t=e.func,r=e.deps;t("onChapterLoad",r.lifecycle.onChapterLoad),t("onChapterUnload",r.lifecycle.onChapterUnload),t("onChapterWillLoad",r.lifecycle.onChapterWillLoad),t("onChapterWillUnload",r.lifecycle.onChapterWillUnload),t("onChapterDidLoad",r.lifecycle.onChapterDidLoad),t("onChapterDidUnload",r.lifecycle.onChapterDidUnload)}))}(e),function(e){e("navigation")((function(e){var t=e.prop,r=e.deps;t("initialUrl",r.getInitialUrl,null),t("initialUrlParameters",r.getInitialUrlParameters,null)}))}(e),function(e){e("experiment")((function(e){var t=e.func,r=e.deps;t("getVariationAnonymous",r.optimizely.getVariationAnonymousOptimizely),t("addNotificationListener",r.optimizely.addNotificationListener),t("removeNotificationListener",r.optimizely.removeNotificationListener),t("getVariationAuthenticated",r.optimizely.getVariationAuthenticatedOptimizely),t("getForcedVariationAnonymous",r.optimizely.getForcedVariationAnonymousOptimizely),t("getForcedVariationAuthenticated",r.optimizely.getForcedVariationAuthenticatedOptimizely),t("setForcedVariationAnonymous",r.optimizely.setForcedVariationAnonymousOptimizely),t("setForcedVariationAuthenticated",r.optimizely.setForcedVariationAuthenticatedOptimizely),t("trackAnonymous",r.optimizely.trackAnonymousOptimizely),t("trackAuthenticated",r.optimizely.trackAuthenticatedOptimizely),t("activateAnonymous",r.optimizely.activateAnonymousOptimizely),t("activateAuthenticated",r.optimizely.activateAuthenticatedOptimizely)})),e("features")((function(e){var t=e.func,r=e.deps;t("isEnabledAnonymous",r.optimizely.isEnabledAnonymousOptimizely),t("isEnabledAuthenticated",r.optimizely.isEnabledAuthenticatedOptimizely),t("getVariableBooleanAnonymous",r.optimizely.getVariableBooleanAnonymousOptimizely),t("getVariableBooleanAuthenticated",r.optimizely.getVariableBooleanAuthenticatedOptimizely),t("getVariableIntegerAnonymous",r.optimizely.getVariableIntegerAnonymousOptimizely),t("getVariableIntegerAuthenticated",r.optimizely.getVariableIntegerAuthenticatedOptimizely),t("getVariableStringAnonymous",r.optimizely.getVariableStringAnonymousOptimizely),t("getVariableStringAuthenticated",r.optimizely.getVariableStringAuthenticatedOptimizely)}))}(e),function(e){e("splashScreen")((function(e){(0,e.func)("remove",e.deps.removeSplashScreen)}))}(e),function(e){e(null)((function(e){var t,r,n=e.prop,o=e.deps,i=e.logger;n("startupData",(t={accessor:o.getStartupData,deprecatedKeys:["AB_Test","AB_Test_Multi"],deprecationMessage:"DEPRECATION NOTICE: Access of key is considered deprecated and may be removed in future releases. Please use Optimizely instead.",logger:i},null==(r=t.accessor())||"object"!=s(r)?t.accessor:(t.deprecatedKeys.forEach((function(e){var n=r[e];Object.defineProperty(r,e,{get:function(){return t.logger(t.deprecationMessage),n}})})),function(){return r})),{setter:o.setStartupData,shouldNotManipulate:!0})}))}(e),e(null)((function(e){var t=e.prop;t("publicApiInitialised",(function(){return!0}),null);var r=[];t("targetGarbageContainerSnapshot",(function(){return r}))}))})(Jt({window:n,trackUsage:f,logger:u,deps:r})),Object.seal(n.dazn)}}({window:e,shouldTrack:!0,shouldLog:!0,deps:{getContentCountry:ve.getContentCountry,getCountry:ve.getCountry,getUserType:ve.getUserType,getUserStatus:ve.getUserStatus,getAuthToken:ve.getToken,setAuthToken:ve.setToken,getUserProfile:ve.getProfile,setUserProfile:ve.setProfile,getEnvironment:le.getEnvironment,getEnvironmentGroup:le.getEnvironmentGroup,getPlatform:le.getPlatform,getManufacturer:le.getManufacturer,deviceMetadata:r,manufacturer:u,getInitialUrl:le.getInitialUrl,getInitialUrlParameters:le.getInitialUrlParameters,getCampaignId:ge.getCampaignId,getPromoId:ge.getPromoId,getSessionId:le.getSessionId,getDeviceId:le.getDeviceId,getGuid:le.getGuid,getStartupData:ge.getStartupData,setStartupData:ge.setStartupData,getResourceStringsData:me.getResourceStrings,getCurrentChapter:me.getCurrentChapter,setCurrentChapter:me.setCurrentChapter,getChaptersVersions:le.getVersions,getChapterLanguage:me.getLanguage,getApplicationType:function(){return N},getExperiments:he.getExperiments,getOneTrustConsentGroups:S,captureException:pe.captureException,getAsyncStorage:function(){return f},lifecycle:me.lifecycleEvents,getChapterFromPath:me.getChapterFromPath,getUserExperiment:he.getUserExperiment,getUserExperimentNumber:he.getUserExperimentNumber,getAnonymousExperiment:he.getAnonymousExperiment,removeSplashScreen:Oe,isMoonCountry:function(e){return void 0===e&&(e=ge.getStartupDataCountry()),!ye(e)},exitApp:D,fetchPartnerAccessCode:L,refreshExistingTokenAndUpdateProfile:ve.refreshExistingTokenAndUpdateProfile,getDecodedJWT:ve.getDecodedJWT,getUserConsent:A,getAdvertisingDeviceId:null!=w?w:or,fetchSafeMode:pe.fetchSafeMode,restartApp:k,getPlayerTarget:U,handleFeEvent:C,closedCaptionsAPI:F,textToSpeechAPI:M,getDevMode:H.isEnabled,enableDevMode:function(){return H.update(!0)},disableDevMode:function(){return H.update(!1)},optimizely:{isEnabledAnonymousOptimizely:fe.isEnabledAnonymous,getVariableBooleanAnonymousOptimizely:fe.getVariableBooleanAnonymous,getVariableStringAnonymousOptimizely:fe.getVariableStringAnonymous,getVariableIntegerAnonymousOptimizely:fe.getVariableIntegerAnonymous,getVariationAnonymousOptimizely:fe.getVariationAnonymous,trackAnonymousOptimizely:fe.trackAnonymous,activateAnonymousOptimizely:fe.activateAnonymous,trackAuthenticatedOptimizely:fe.trackAuthenticated,activateAuthenticatedOptimizely:fe.activateAuthenticated,isEnabledAuthenticatedOptimizely:fe.isEnabledAuthenticated,getVariationAuthenticatedOptimizely:fe.getVariationAuthenticated,getVariableStringAuthenticatedOptimizely:fe.getVariableStringAuthenticated,getVariableBooleanAuthenticatedOptimizely:fe.getVariableBooleanAuthenticated,getVariableIntegerAuthenticatedOptimizely:fe.getVariableIntegerAuthenticated,getForcedVariationAuthenticatedOptimizely:fe.getForcedVariationAuthenticated,getForcedVariationAnonymousOptimizely:fe.getForcedVariationAnonymous,setForcedVariationAuthenticatedOptimizely:fe.setForcedVariationAuthenticated,setForcedVariationAnonymousOptimizely:fe.setForcedVariationAnonymous,addNotificationListener:fe.addNotificationListener,removeNotificationListener:fe.removeNotificationListener,setOptimizelyLogLevel:fe.setOptimizelyLogLevel}}})}))},_e=G.wrapAsyncFn("analytics",(function(){return ee.then((function(t){var r,n,o;e.document.body.appendChild((n=p,(o=e.document.createElement("script")).setAttribute("async",""),o.setAttribute("defer",""),o.classList.add("protected"),o.text="(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n    })(window,document,'script','dataLayer','".concat(n,"');"),o)),de.sendLaunchEvent({initialURL:P,applicationType:N,version:d,environment:a.environment,deviceId:le.getDeviceId(),model:null!==(r=t.model)&&void 0!==r?r:"N/A",platform:a.target,launchParams:{}})}))})),be=G.wrapAsyncFn("optimizely",(function(){return ee.then((function(e){return Promise.allSettled([ie,ae]).then((function(t){var r=l(t,2),n=r[0],o=r[1];return fe.run("fulfilled"===n.status?n.value:null,"fulfilled"===o.status?o.value:null,e,u)}))})).then((function(){return oe(fe.isEnabledAnonymous)})).catch((function(){return oe((function(){return!1}))}))})),Te=G.wrapAsyncFn("devModeReader",H.readFromStorage),Re=function(){return ee.then((function(e){return Ae({deviceMetadata:e,isDevModeEnabled:H.isEnabled(),safeModeConfig:ne()})}))};X();var Se=G.trace("promiseChain");return{initMainModules:function(){return Promise.resolve(null).then((function(){return Promise.all([Te,G.wrapAsyncFn("splash",Ie.run),G.wrapAsyncFn("initialization",le.run),G.wrapAsyncFn("experiments",he.run)].map((function(e){return e()})))})).then(G.wrapAsyncFn("startup",(function(){return ge.run({shouldUseMarcoPolo:H.isEnabled()})}))).then(G.wrapAsyncFn("user",ve.run)).then(be).then(G.wrapAsyncFn("navigation",me.run)).then(G.wrapAsyncFn("setupPublicAPI",Re)).then(G.wrapAsyncFn("popstate",(function(){e.addEventListener("popstate",me.handlePopstate)}))).then((function(){}))},loadInitialChapter:function(e){return Promise.resolve().then(G.wrapAsyncFn("deepLink",(function(){if(!e)return null;var t=nt(e,"");return t&&G.addPageAction("deepLink",{chapterName:t.chapterName,chapterPath:t.chapterPath}),e}))).then(G.wrapAsyncFn("loadInitialChapter",me.loadInitialChapter)).then((function(){return G.addPageAction("success")})).then(_e).then(Se).then(q)},handleInitError:function(e){return Promise.resolve(null).then((function(){console.error("[Bootstrap] handleInitError"),console.error(e)})).then(Te).then(be).then(G.wrapAsyncFn("setupPublicAPI",(function(){return Re().catch((function(e){console.error("[Bootstrap] setupPublicAPI has failed"),console.error(e),G.noticeError(e,"from setupPublicAPI")}))}))).then(G.wrapAsyncFn("handleError",(function(){var t=e instanceof Error?e:new Error(String(e));G.noticeError(t,"from initMainModules"),G.addPageAction("error",{message:t.message}),pe.handleError(void 0,m.eraroCodesMap.code.AppLoadError,void 0,ue(),t),Oe()}))).then(_e).then(Se).then(q)},nrTrace:G,waitForFFlag:function(){return Promise.all([ie,fe]).then((function(){}))},module:{analytics:de,configuration:se,errorHandling:pe,initialization:le,navigation:me,fflag:fe,user:ve,splash:Ie,startup:ge,experiments:he}}},e.createStorageModule=function(e,t){void 0===t&&(t=102400);var r,n,o=function(e){var t,r;return void 0===e&&(e=window),(null===(t=null==e?void 0:e.navigator)||void 0===t?void 0:t.cookieEnabled)?e.localStorage:(r={},{setItem:function(e,t){r[e]=t},getItem:function(e){var t;return null!==(t=r[e])&&void 0!==t?t:null},clear:function(){r={}},removeItem:function(e){delete r[e]}})}(e);return r=o,n=t,{getItem:function(e){return Promise.resolve(r.getItem(e))},setItem:function(e,t){var o=String(t);return 2*o.length>n?Promise.reject(new RangeError("Too many bytes in the item to store (max: ".concat(n,")"))):(Promise.resolve(r.setItem(e,o)).catch((function(e){return console.error(e)})),Promise.resolve(o))},removeItem:function(e){return Promise.resolve(r.removeItem(e))},clear:function(){return Promise.resolve(r.clear())}}},e.environments=i,e.getBrowserLanguages=function(e){void 0===e&&(e=window);var t=e.navigator.languages;return t&&t.length>0&&Array.isArray(t)?t.join(","):e.navigator.language||""},e.handleCommonFeEvent=function(e,t){t.gtm&&ke(c(c({},e),{event:t.name}))},e.pushToGTM=ke},"object"==s(t)?a(t,r(1068),r(3331)):(o=[t,r(1068),r(3331)],void 0===(i="function"==typeof(n=a)?n.apply(t,o):n)||(e.exports=i))},4946:function(e,t){var r,n,o,i;function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}i=function(e){"use strict";var t=function(e){return 0===e?Promise.resolve():new Promise((function(t){return setTimeout(t,e)}))},r=function(e,t){return 1===e?0:t*Math.pow(2,e-2)},n={auth:!0,signin:!0,account:!0,catalog:!0,preferences:!0,landingpage:!0,help:!0,error:!0,redeem:!0,picks:!0,news:!0,partners:!0},o={General:"00",Internal:"10",StartupService:"55",ResourceStringService:"56",RefreshTokenService:"66",SignOutService:"67",UserProfileService:"70",ChapterLoading:"84",UnsupportedBrowser:"111"},i={GenericError:"000",RestrictedCountry:"006",AppLoadError:"007",UnexpectedRefreshTokenError:"062",UnathorizedRefreshTokenError:"063",ServiceTimeout:"070",ServiceTooManyAttemps:"098",ChapterInvalid:"116",UnableToLoadChapter:"117"},a={Ignore:"-01",GenericError:"000",StartupRestrictedCountry:"002",RequestTimeout:"017",ParserError:"018",NetworkError:"034",ServerError:"500",BadRequest:"400",NotFound:"404",AccessDenied:"403",Unauthenticated:"401",TooManyRequests:"429"},u=Object.freeze({__proto__:null,category:o,code:i,internal:a}),s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},s(e,t)},c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var l,f=function(e){function t(t,r,n,u,s){void 0===r&&(r=o.General),void 0===n&&(n=i.GenericError),void 0===u&&(u=a.GenericError);var c=e.call(this,t)||this;return c.category=r,c.code=n,c.internal=u,s instanceof Error?c.originalException=s:"string"==typeof s&&(c.originalException=new Error(s)),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Error),d=function(e,t){var r;null===(r=window.newrelic)||void 0===r||r.addPageAction(e,t)},p=function(e,t){var r;null===(r=window.newrelic)||void 0===r||r.setCustomAttribute(e,t)},g=function(e){var t;null===(t=window.newrelic)||void 0===t||t.addToTrace(e)},h=function(e,t){return"SELECT * FROM PageAction WHERE sessionId='".concat(e,"' AND actionName='").concat(t,"'")},v=function(e,t){var r=Math.ceil(e),n=Math.floor(t);return Math.floor(Math.random()*(n-r))+r},y=Object.freeze({__proto__:null}),E=Object.freeze({__proto__:null}),m=Object.freeze({__proto__:null}),I=Object.freeze({__proto__:null}),O=Object.freeze({__proto__:null}),A=Object.freeze({__proto__:null}),_=Object.freeze({__proto__:null}),b=Object.freeze({__proto__:null}),T=Object.freeze({__proto__:null}),R=Object.freeze({__proto__:null}),S=Object.freeze({__proto__:null}),N=Object.freeze({__proto__:null}),C=Object.freeze({__proto__:null}),w=Object.freeze({__proto__:null,accessibilityTools:C,config:E,device:m,event:I,feEvents:y,featurevisor:_,fflag:A,lifecycle:O,optimizely:b,resourceStrings:T,storage:R,user:N,util:S});!function(e){e.Once="once",e.Off="off",e.Percentage="percentage"}(l||(l={}));var L={type:l.Off},U={},P=function(e){return!U[e.functionName]&&(U[e.functionName]=!0,!0)},D=function(e){return 100*Math.random()<e.value},k=Object.freeze({__proto__:null,NO_TRACKING:L,get Sampling(){return l},createNRTracking:function(e){return function(t,r){var n;null===(n=e.newrelic)||void 0===n||n.addPageAction("bootstrapApiUsage",c(c({},r),{bootstrapApiName:t.functionName,bootstrapApiType:"runtime"}))}},createTracking:function(e,t){return void 0===t&&(t={}),function(r){var n,o,i=null===(n=t.sampling)||void 0===n?void 0:n[r.functionName],a=null!==(o=null!=i?i:t.defaultSampling)&&void 0!==o?o:L;(function(e){return e.type!==l.Off&&(e.type===l.Once?P(e):e.type===l.Percentage?D(e):void function(e){var t=new Error("Unknown sampling type: ".concat(String(e)));throw console.error(t),t}(e))})(c(c({},a),r))&&e(r,t.trackingParams)}},shouldInvokeOnce:P,shouldInvokeSampled:D});e.EraroError=f,e.again=function(e,n){var o=void 0===n?{}:n,i=o.timeout,a=void 0===i?5e3:i,u=o.retries,s=void 0===u?2:u,c=o.backoff,l=void 0===c?100:c;return function n(o){return function(n){return t(r(n,l)).then((function(){return Promise.race([e(),t(a).then((function(){throw new Error("Attempt ".concat(n," took longer than ").concat(a,"ms"))}))])}))}(o).catch((function(e){if(o-1>=s)throw e;return n(o+1)}))}(1)},e.boot=w,e.calcBackoff=r,e.createEraroError=function(e,t,r,n,o){return new f(e,t,r,n,o)},e.createNewRelicTracer=function(e){var t=e.tracerName,r=e.sessionId,n=e.useConsole,o=void 0!==n&&n,i=e.now,a=void 0===i?function(){return Date.now()}:i,u=o?function(e){return function(t,r){console.info("👀 NR ".concat(e," ").concat(t," ").concat(JSON.stringify(r)))}}(t):function(){},s=function(e){return[t,e].join(".")},l=function(e,t){return[e,s(t)].join(" ")},f=function(e){var t=a(),n=s("trace");return function(){var o=a();d(n,{spanName:e,endTime:o,startTime:t,durationMs:o-t,sessionId:r}),g({name:l("🟦",e),start:t,end:o,origin:h(r,n)}),u(e,o-t)}},v=function(e,t){void 0===t&&(t={});var n=s(e),o=c(c({},t),{sessionId:r});d(n,o),g({name:l("🟢","addPageAction(".concat(e,")")),start:a(),end:a(),origin:h(r,n)}),u('addPageAction "'.concat(n,'"'),o)},y=function(e,t){var n=function(e,t){void 0===t&&(t="");var r=e instanceof Error?e:new Error(String(e));return t&&(r.message="".concat(r.message," | ").concat(t)),r}(e,t);!function(e,t){var r;null===(r=window.newrelic)||void 0===r||r.noticeError(e,void 0)}(n),g({name:l("⛔️","noticeError()"),start:a(),origin:"".concat(n.message," | SELECT * FROM JavaScriptError WHERE sessionId='").concat(r,"'")}),u("⛔️ noticeError",n)};return p("sessionId",r),u("NRQL hint:",h(r,"ACTION_NAME")),v("createNewRelicTracer"),{tracerName:t,sessionId:r,noticeError:y,addPageAction:v,addRelease:function(e,t){!function(e,t){var r;null===(r=window.newrelic)||void 0===r||r.addRelease(e,t)}(e,t),u('addRelease "'.concat(e,"\"'"),t)},trace:function(e){return f("trace.".concat(e))},extendCustomAttributes:function(e){void 0===e&&(e={}),u("extendCustomAttributes",e),Object.keys(e).forEach((function(t){return p(s(t),String(e[t]))}))},wrapAsyncFn:function(e,r){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=f("asyncFn.".concat(e));return Promise.resolve(null).then((function(){return r.apply(void 0,n)})).then((function(e){return i(),e})).catch((function(r){throw i(),y(r,"createNewRelicTracer(".concat(t,").wrapAsyncFn(").concat(e,")")),r}))}}}},e.createQueryStringReader=function(e){var t;void 0===e&&(e=window.location.search);var r=(null!==(t=e.split("#")[0].split("?")[1])&&void 0!==t?t:"").split("&").reduce((function(e,t){var r=t.split("="),n=r[0],o=r[1];return e[n]=o,e}),{});return{getParamValueByKey:function(e){return e in r?decodeURIComponent(r[e]):null}}},e.endsWith=function(e,t){return e.lastIndexOf(t)===e.length-t.length},e.eraroCodesMap=u,e.generateSessionId=function(){for(var e=8,t=(new Date).getTime().toString(16).slice(-8);e++<36;)t+=(0==(51*e&52)?"-":15===e?4:20===e?v(8,11):v(0,15)).toString(16);return t},e.getChapterName=function(e){return"string"==typeof e?e:e.chapterName},e.isChapterName=function(e){return"string"==typeof e&&e in n},e.isEraroError=function(e){return e instanceof Error&&e.hasOwnProperty("category")&&e.hasOwnProperty("code")&&e.hasOwnProperty("internal")},e.keysOf=function(e){return Object.keys(e)},e.startsWith=function(e,t){return 0===e.indexOf(t)},e.tracking=k},"object"==a(t)?i(t):(n=[t],void 0===(o="function"==typeof(r=i)?r.apply(t,n):r)||(e.exports=o))},163:(e,t,r)=>{r(9228);var n=r(8791);e.exports=n("Array","find")},6916:(e,t,r)=>{r(8673),r(7233);var n=r(9276);e.exports=n.Array.from},6757:(e,t,r)=>{r(9529);var n=r(8791);e.exports=n("Array","includes")},2316:(e,t,r)=>{r(4586);var n=r(9276);e.exports=n.Number.isNaN},47:(e,t,r)=>{r(3105);var n=r(9276);e.exports=n.Object.assign},7944:(e,t,r)=>{r(4115);var n=r(9276);e.exports=n.Object.getOwnPropertySymbols},6925:(e,t,r)=>{r(1235);var n=r(8791);e.exports=n("String","includes")},6796:(e,t,r)=>{r(4112);var n=r(8791);e.exports=n("String","startsWith")},3819:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},8505:(e,t,r)=>{var n=r(5052);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},9736:(e,t,r)=>{var n=r(95),o=r(2391),i=r(1787),a=n("unscopables"),u=Array.prototype;null==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),e.exports=function(e){u[a][e]=!0}},7728:e=>{e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},1176:(e,t,r)=>{var n=r(5052);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},507:(e,t,r)=>{"use strict";var n=r(7636),o=r(2991),i=r(4960),a=r(1943),u=r(4237),s=r(2324),c=r(8830);e.exports=function(e){var t,r,l,f,d,p,g=o(e),h="function"==typeof this?this:Array,v=arguments.length,y=v>1?arguments[1]:void 0,E=void 0!==y,m=c(g),I=0;if(E&&(y=n(y,v>2?arguments[2]:void 0,2)),null==m||h==Array&&a(m))for(r=new h(t=u(g.length));t>I;I++)p=E?y(g[I],I):g[I],s(r,I,p);else for(d=(f=m.call(g)).next,r=new h;!(l=d.call(f)).done;I++)p=E?i(f,y,[l.value,I],!0):l.value,s(r,I,p);return r.length=I,r}},9540:(e,t,r)=>{var n=r(905),o=r(4237),i=r(3231),a=function(e){return function(t,r,a){var u,s=n(t),c=o(s.length),l=i(a,c);if(e&&r!=r){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},9996:(e,t,r)=>{var n=r(7636),o=r(9337),i=r(2991),a=r(4237),u=r(7501),s=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,l=4==e,f=6==e,d=7==e,p=5==e||f;return function(g,h,v,y){for(var E,m,I=i(g),O=o(I),A=n(h,v,3),_=a(O.length),b=0,T=y||u,R=t?T(g,_):r||d?T(g,0):void 0;_>b;b++)if((p||b in O)&&(m=A(E=O[b],b,I),e))if(t)R[b]=m;else if(m)switch(e){case 3:return!0;case 5:return E;case 6:return b;case 2:s.call(R,E)}else switch(e){case 4:return!1;case 7:s.call(R,E)}return f?-1:c||l?l:R}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},3037:(e,t,r)=>{var n=r(7400),o=r(4229),i=r(816),a=Object.defineProperty,u={},s=function(e){throw e};e.exports=function(e,t){if(i(u,e))return u[e];t||(t={});var r=[][e],c=!!i(t,"ACCESSORS")&&t.ACCESSORS,l=i(t,0)?t[0]:s,f=i(t,1)?t[1]:void 0;return u[e]=!!r&&!o((function(){if(c&&!n)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:s}):e[1]=1,r.call(e,l,f)}))}},7501:(e,t,r)=>{var n=r(5052),o=r(3718),i=r(95)("species");e.exports=function(e,t){var r;return o(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!o(r.prototype)?n(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},4960:(e,t,r)=>{var n=r(1176),o=r(7281);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){throw o(e),t}}},4575:(e,t,r)=>{var n=r(95)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},7079:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},1589:(e,t,r)=>{var n=r(1601),o=r(7079),i=r(95)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},7081:(e,t,r)=>{var n=r(816),o=r(4826),i=r(7933),a=r(1787);e.exports=function(e,t){for(var r=o(t),u=a.f,s=i.f,c=0;c<r.length;c++){var l=r[c];n(e,l)||u(e,l,s(t,l))}}},8127:(e,t,r)=>{var n=r(95)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},7528:(e,t,r)=>{var n=r(4229);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},3723:(e,t,r)=>{"use strict";var n=r(693).IteratorPrototype,o=r(2391),i=r(5358),a=r(4555),u=r(5495),s=function(){return this};e.exports=function(e,t,r){var c=t+" Iterator";return e.prototype=o(n,{next:i(1,r)}),a(e,c,!1,!0),u[c]=s,e}},5762:(e,t,r)=>{var n=r(7400),o=r(1787),i=r(5358);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},5358:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2324:(e,t,r)=>{"use strict";var n=r(2066),o=r(1787),i=r(5358);e.exports=function(e,t,r){var a=n(t);a in e?o.f(e,a,i(0,r)):e[a]=r}},7675:(e,t,r)=>{"use strict";var n=r(3103),o=r(3723),i=r(7567),a=r(6540),u=r(4555),s=r(5762),c=r(7487),l=r(95),f=r(4231),d=r(5495),p=r(693),g=p.IteratorPrototype,h=p.BUGGY_SAFARI_ITERATORS,v=l("iterator"),y="keys",E="values",m="entries",I=function(){return this};e.exports=function(e,t,r,l,p,O,A){o(r,t,l);var _,b,T,R=function(e){if(e===p&&L)return L;if(!h&&e in C)return C[e];switch(e){case y:case E:case m:return function(){return new r(this,e)}}return function(){return new r(this)}},S=t+" Iterator",N=!1,C=e.prototype,w=C[v]||C["@@iterator"]||p&&C[p],L=!h&&w||R(p),U="Array"==t&&C.entries||w;if(U&&(_=i(U.call(new e)),g!==Object.prototype&&_.next&&(f||i(_)===g||(a?a(_,g):"function"!=typeof _[v]&&s(_,v,I)),u(_,S,!0,!0),f&&(d[S]=I))),p==E&&w&&w.name!==E&&(N=!0,L=function(){return w.call(this)}),f&&!A||C[v]===L||s(C,v,L),d[t]=L,p)if(b={values:R(E),keys:O?L:R(y),entries:R(m)},A)for(T in b)(h||N||!(T in C))&&c(C,T,b[T]);else n({target:t,proto:!0,forced:h||N},b);return b}},8423:(e,t,r)=>{var n=r(9276),o=r(816),i=r(5391),a=r(1787).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},7400:(e,t,r)=>{var n=r(4229);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2635:(e,t,r)=>{var n=r(9859),o=r(5052),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},8791:(e,t,r)=>{var n=r(9859),o=r(7636),i=Function.call;e.exports=function(e,t,r){return o(i,n[e].prototype[t],r)}},3837:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3103:(e,t,r)=>{var n=r(9859),o=r(7933).f,i=r(5762),a=r(7487),u=r(2079),s=r(7081),c=r(6541);e.exports=function(e,t){var r,l,f,d,p,g=e.target,h=e.global,v=e.stat;if(r=h?n:v?n[g]||u(g,{}):(n[g]||{}).prototype)for(l in t){if(d=t[l],f=e.noTargetGet?(p=o(r,l))&&p.value:r[l],!c(h?l:g+(v?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;s(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(r,l,d,e)}}},4229:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7636:(e,t,r)=>{var n=r(3819);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},1333:(e,t,r)=>{var n=r(9276),o=r(9859),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},8830:(e,t,r)=>{var n=r(1589),o=r(5495),i=r(95)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},8403:(e,t,r)=>{var n=r(1176),o=r(8830);e.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},9859:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},816:e=>{var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},5977:e=>{e.exports={}},3777:(e,t,r)=>{var n=r(1333);e.exports=n("document","documentElement")},4394:(e,t,r)=>{var n=r(7400),o=r(4229),i=r(2635);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},9337:(e,t,r)=>{var n=r(4229),o=r(7079),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},8511:(e,t,r)=>{var n=r(5353),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},6407:(e,t,r)=>{var n,o,i,a=r(8694),u=r(9859),s=r(5052),c=r(5762),l=r(816),f=r(5353),d=r(4399),p=r(5977),g=u.WeakMap;if(a){var h=f.state||(f.state=new g),v=h.get,y=h.has,E=h.set;n=function(e,t){return t.facade=e,E.call(h,e,t),t},o=function(e){return v.call(h,e)||{}},i=function(e){return y.call(h,e)}}else{var m=d("state");p[m]=!0,n=function(e,t){return t.facade=e,c(e,m,t),t},o=function(e){return l(e,m)?e[m]:{}},i=function(e){return l(e,m)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!s(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},1943:(e,t,r)=>{var n=r(95),o=r(5495),i=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},3718:(e,t,r)=>{var n=r(7079);e.exports=Array.isArray||function(e){return"Array"==n(e)}},6541:(e,t,r)=>{var n=r(4229),o=/#|\.prototype\./,i=function(e,t){var r=u[a(e)];return r==c||r!=s&&("function"==typeof t?n(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=i.data={},s=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},5052:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},4231:e=>{e.exports=!1},8311:(e,t,r)=>{var n=r(5052),o=r(7079),i=r(95)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},7281:(e,t,r)=>{var n=r(1176);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},693:(e,t,r)=>{"use strict";var n,o,i,a=r(7567),u=r(5762),s=r(816),c=r(95),l=r(4231),f=c("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(n=o):d=!0),null==n&&(n={}),l||s(n,f)||u(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},5495:e=>{e.exports={}},3839:(e,t,r)=>{var n=r(4229);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},7274:(e,t,r)=>{var n=r(4229),o=r(95),i=r(4231),a=o("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},8694:(e,t,r)=>{var n=r(9859),o=r(8511),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},7272:(e,t,r)=>{var n=r(8311);e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},7888:(e,t,r)=>{"use strict";var n=r(7400),o=r(4229),i=r(5632),a=r(894),u=r(9195),s=r(2991),c=r(9337),l=Object.assign,f=Object.defineProperty;e.exports=!l||o((function(){if(n&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach((function(e){t[e]=e})),7!=l({},e)[r]||i(l({},t)).join("")!=o}))?function(e,t){for(var r=s(e),o=arguments.length,l=1,f=a.f,d=u.f;o>l;)for(var p,g=c(arguments[l++]),h=f?i(g).concat(f(g)):i(g),v=h.length,y=0;v>y;)p=h[y++],n&&!d.call(g,p)||(r[p]=g[p]);return r}:l},2391:(e,t,r)=>{var n,o=r(1176),i=r(219),a=r(3837),u=r(5977),s=r(3777),c=r(2635),l=r(4399),f="prototype",d="script",p=l("IE_PROTO"),g=function(){},h=function(e){return"<"+d+">"+e+"</"+d+">"},v=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t,r;v=n?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):(t=c("iframe"),r="java"+d+":",t.style.display="none",s.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var o=a.length;o--;)delete v[f][a[o]];return v()};u[p]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(g[f]=o(e),r=new g,g[f]=null,r[p]=e):r=v(),void 0===t?r:i(r,t)}},219:(e,t,r)=>{var n=r(7400),o=r(1787),i=r(1176),a=r(5632);e.exports=n?Object.defineProperties:function(e,t){i(e);for(var r,n=a(t),u=n.length,s=0;u>s;)o.f(e,r=n[s++],t[r]);return e}},1787:(e,t,r)=>{var n=r(7400),o=r(4394),i=r(1176),a=r(2066),u=Object.defineProperty;t.f=n?u:function(e,t,r){if(i(e),t=a(t,!0),i(r),o)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7933:(e,t,r)=>{var n=r(7400),o=r(9195),i=r(5358),a=r(905),u=r(2066),s=r(816),c=r(4394),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=a(e),t=u(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return i(!o.f.call(e,t),e[t])}},166:(e,t,r)=>{var n=r(905),o=r(8151).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(n(e))}},8151:(e,t,r)=>{var n=r(140),o=r(3837).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},894:(e,t)=>{t.f=Object.getOwnPropertySymbols},7567:(e,t,r)=>{var n=r(816),o=r(2991),i=r(4399),a=r(7528),u=i("IE_PROTO"),s=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),n(e,u)?e[u]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},140:(e,t,r)=>{var n=r(816),o=r(905),i=r(9540).indexOf,a=r(5977);e.exports=function(e,t){var r,u=o(e),s=0,c=[];for(r in u)!n(a,r)&&n(u,r)&&c.push(r);for(;t.length>s;)n(u,r=t[s++])&&(~i(c,r)||c.push(r));return c}},5632:(e,t,r)=>{var n=r(140),o=r(3837);e.exports=Object.keys||function(e){return n(e,o)}},9195:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},6540:(e,t,r)=>{var n=r(1176),o=r(8505);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,i){return n(r),o(i),t?e.call(r,i):r.__proto__=i,r}}():void 0)},4826:(e,t,r)=>{var n=r(1333),o=r(8151),i=r(894),a=r(1176);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},9276:(e,t,r)=>{var n=r(9859);e.exports=n},8787:(e,t,r)=>{var n=r(7487);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},7487:(e,t,r)=>{var n=r(9859),o=r(5762),i=r(816),a=r(2079),u=r(8511),s=r(6407),c=s.get,l=s.enforce,f=String(String).split("String");(e.exports=function(e,t,r,u){var s,c=!!u&&!!u.unsafe,d=!!u&&!!u.enumerable,p=!!u&&!!u.noTargetGet;"function"==typeof r&&("string"!=typeof t||i(r,"name")||o(r,"name",t),(s=l(r)).source||(s.source=f.join("string"==typeof t?t:""))),e!==n?(c?!p&&e[t]&&(d=!0):delete e[t],d?e[t]=r:o(e,t,r)):d?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||u(this)}))},8885:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},2079:(e,t,r)=>{var n=r(9859),o=r(5762);e.exports=function(e,t){try{o(n,e,t)}catch(r){n[e]=t}return t}},4555:(e,t,r)=>{var n=r(1787).f,o=r(816),i=r(95)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},4399:(e,t,r)=>{var n=r(3036),o=r(1441),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},5353:(e,t,r)=>{var n=r(9859),o=r(2079),i="__core-js_shared__",a=n[i]||o(i,{});e.exports=a},3036:(e,t,r)=>{var n=r(4231),o=r(5353);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.1",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},966:(e,t,r)=>{var n=r(6051),o=r(8885),i=function(e){return function(t,r){var i,a,u=String(o(t)),s=n(r),c=u.length;return s<0||s>=c?e?"":void 0:(i=u.charCodeAt(s))<55296||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):a-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},7321:e=>{"use strict";var t=2147483647,r=/[^\0-\u007E]/,n=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",i=Math.floor,a=String.fromCharCode,u=function(e){return e+22+75*(e<26)},s=function(e,t,r){var n=0;for(e=r?i(e/700):e>>1,e+=i(e/t);e>455;n+=36)e=i(e/35);return i(n+36*e/(e+38))},c=function(e){var r=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--)}else t.push(o)}return t}(e);var n,c,l=e.length,f=128,d=0,p=72;for(n=0;n<e.length;n++)(c=e[n])<128&&r.push(a(c));var g=r.length,h=g;for(g&&r.push("-");h<l;){var v=t;for(n=0;n<e.length;n++)(c=e[n])>=f&&c<v&&(v=c);var y=h+1;if(v-f>i((t-d)/y))throw RangeError(o);for(d+=(v-f)*y,f=v,n=0;n<e.length;n++){if((c=e[n])<f&&++d>t)throw RangeError(o);if(c==f){for(var E=d,m=36;;m+=36){var I=m<=p?1:m>=p+26?26:m-p;if(E<I)break;var O=E-I,A=36-I;r.push(a(u(I+O%A))),E=i(O/A)}r.push(a(u(E))),p=s(d,y,h==g),d=0,++h}}++d,++f}return r.join("")};e.exports=function(e){var t,o,i=[],a=e.toLowerCase().replace(n,".").split(".");for(t=0;t<a.length;t++)o=a[t],i.push(r.test(o)?"xn--"+c(o):o);return i.join(".")}},3231:(e,t,r)=>{var n=r(6051),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},905:(e,t,r)=>{var n=r(9337),o=r(8885);e.exports=function(e){return n(o(e))}},6051:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},4237:(e,t,r)=>{var n=r(6051),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},2991:(e,t,r)=>{var n=r(8885);e.exports=function(e){return Object(n(e))}},2066:(e,t,r)=>{var n=r(5052);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},1601:(e,t,r)=>{var n={};n[r(95)("toStringTag")]="z",e.exports="[object z]"===String(n)},1441:e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},6969:(e,t,r)=>{var n=r(3839);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5391:(e,t,r)=>{var n=r(95);t.f=n},95:(e,t,r)=>{var n=r(9859),o=r(3036),i=r(816),a=r(1441),u=r(3839),s=r(6969),c=o("wks"),l=n.Symbol,f=s?l:l&&l.withoutSetter||a;e.exports=function(e){return i(c,e)||(u&&i(l,e)?c[e]=l[e]:c[e]=f("Symbol."+e)),c[e]}},9228:(e,t,r)=>{"use strict";var n=r(3103),o=r(9996).find,i=r(9736),a=r(3037),u="find",s=!0,c=a(u);u in[]&&Array(1)[u]((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!c},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(u)},7233:(e,t,r)=>{var n=r(3103),o=r(507);n({target:"Array",stat:!0,forced:!r(4575)((function(e){Array.from(e)}))},{from:o})},9529:(e,t,r)=>{"use strict";var n=r(3103),o=r(9540).includes,i=r(9736);n({target:"Array",proto:!0,forced:!r(3037)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},5735:(e,t,r)=>{"use strict";var n=r(905),o=r(9736),i=r(5495),a=r(6407),u=r(7675),s="Array Iterator",c=a.set,l=a.getterFor(s);e.exports=u(Array,"Array",(function(e,t){c(this,{type:s,target:n(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},4586:(e,t,r)=>{r(3103)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},3105:(e,t,r)=>{var n=r(3103),o=r(7888);n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},1235:(e,t,r)=>{"use strict";var n=r(3103),o=r(7272),i=r(8885);n({target:"String",proto:!0,forced:!r(8127)("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},8673:(e,t,r)=>{"use strict";var n=r(966).charAt,o=r(6407),i=r(7675),a="String Iterator",u=o.set,s=o.getterFor(a);i(String,"String",(function(e){u(this,{type:a,string:String(e),index:0})}),(function(){var e,t=s(this),r=t.string,o=t.index;return o>=r.length?{value:void 0,done:!0}:(e=n(r,o),t.index+=e.length,{value:e,done:!1})}))},4112:(e,t,r)=>{"use strict";var n,o=r(3103),i=r(7933).f,a=r(4237),u=r(7272),s=r(8885),c=r(8127),l=r(4231),f="".startsWith,d=Math.min,p=c("startsWith");o({target:"String",proto:!0,forced:!(!l&&!p&&(n=i(String.prototype,"startsWith"),n&&!n.writable)||p)},{startsWith:function(e){var t=String(s(this));u(e);var r=a(d(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return f?f.call(t,n,r):t.slice(r,r+n.length)===n}})},4115:(e,t,r)=>{"use strict";var n=r(3103),o=r(9859),i=r(1333),a=r(4231),u=r(7400),s=r(3839),c=r(6969),l=r(4229),f=r(816),d=r(3718),p=r(5052),g=r(1176),h=r(2991),v=r(905),y=r(2066),E=r(5358),m=r(2391),I=r(5632),O=r(8151),A=r(166),_=r(894),b=r(7933),T=r(1787),R=r(9195),S=r(5762),N=r(7487),C=r(3036),w=r(4399),L=r(5977),U=r(1441),P=r(95),D=r(5391),k=r(8423),M=r(4555),F=r(6407),V=r(9996).forEach,x=w("hidden"),j="Symbol",B="prototype",z=P("toPrimitive"),K=F.set,G=F.getterFor(j),H=Object[B],J=o.Symbol,Y=i("JSON","stringify"),q=b.f,W=T.f,X=A.f,Z=R.f,Q=C("symbols"),$=C("op-symbols"),ee=C("string-to-symbol-registry"),te=C("symbol-to-string-registry"),re=C("wks"),ne=o.QObject,oe=!ne||!ne[B]||!ne[B].findChild,ie=u&&l((function(){return 7!=m(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=q(H,t);n&&delete H[t],W(e,t,r),n&&e!==H&&W(H,t,n)}:W,ae=function(e,t){var r=Q[e]=m(J[B]);return K(r,{type:j,tag:e,description:t}),u||(r.description=t),r},ue=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof J},se=function(e,t,r){e===H&&se($,t,r),g(e);var n=y(t,!0);return g(r),f(Q,n)?(r.enumerable?(f(e,x)&&e[x][n]&&(e[x][n]=!1),r=m(r,{enumerable:E(0,!1)})):(f(e,x)||W(e,x,E(1,{})),e[x][n]=!0),ie(e,n,r)):W(e,n,r)},ce=function(e,t){g(e);var r=v(t),n=I(r).concat(pe(r));return V(n,(function(t){u&&!le.call(r,t)||se(e,t,r[t])})),e},le=function(e){var t=y(e,!0),r=Z.call(this,t);return!(this===H&&f(Q,t)&&!f($,t))&&(!(r||!f(this,t)||!f(Q,t)||f(this,x)&&this[x][t])||r)},fe=function(e,t){var r=v(e),n=y(t,!0);if(r!==H||!f(Q,n)||f($,n)){var o=q(r,n);return!o||!f(Q,n)||f(r,x)&&r[x][n]||(o.enumerable=!0),o}},de=function(e){var t=X(v(e)),r=[];return V(t,(function(e){f(Q,e)||f(L,e)||r.push(e)})),r},pe=function(e){var t=e===H,r=X(t?$:v(e)),n=[];return V(r,(function(e){!f(Q,e)||t&&!f(H,e)||n.push(Q[e])})),n};s||(N((J=function(){if(this instanceof J)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=U(e),r=function(e){this===H&&r.call($,e),f(this,x)&&f(this[x],t)&&(this[x][t]=!1),ie(this,t,E(1,e))};return u&&oe&&ie(H,t,{configurable:!0,set:r}),ae(t,e)})[B],"toString",(function(){return G(this).tag})),N(J,"withoutSetter",(function(e){return ae(U(e),e)})),R.f=le,T.f=se,b.f=fe,O.f=A.f=de,_.f=pe,D.f=function(e){return ae(P(e),e)},u&&(W(J[B],"description",{configurable:!0,get:function(){return G(this).description}}),a||N(H,"propertyIsEnumerable",le,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:J}),V(I(re),(function(e){k(e)})),n({target:j,stat:!0,forced:!s},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var r=J(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!ue(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),n({target:"Object",stat:!0,forced:!s,sham:!u},{create:function(e,t){return void 0===t?m(e):ce(m(e),t)},defineProperty:se,defineProperties:ce,getOwnPropertyDescriptor:fe}),n({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:de,getOwnPropertySymbols:pe}),n({target:"Object",stat:!0,forced:l((function(){_.f(1)}))},{getOwnPropertySymbols:function(e){return _.f(h(e))}}),Y&&n({target:"JSON",stat:!0,forced:!s||l((function(){var e=J();return"[null]"!=Y([e])||"{}"!=Y({a:e})||"{}"!=Y(Object(e))}))},{stringify:function(e,t,r){for(var n,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=t,(p(t)||void 0!==e)&&!ue(e))return d(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ue(t))return t}),o[1]=t,Y.apply(null,o)}}),J[B][z]||S(J[B],z,J[B].valueOf),M(J,j),L[x]=!0},523:(e,t,r)=>{"use strict";r(5735);var n=r(3103),o=r(1333),i=r(7274),a=r(7487),u=r(8787),s=r(4555),c=r(3723),l=r(6407),f=r(7728),d=r(816),p=r(7636),g=r(1589),h=r(1176),v=r(5052),y=r(2391),E=r(5358),m=r(8403),I=r(8830),O=r(95),A=o("fetch"),_=o("Headers"),b=O("iterator"),T="URLSearchParams",R=T+"Iterator",S=l.set,N=l.getterFor(T),C=l.getterFor(R),w=/\+/g,L=Array(4),U=function(e){return L[e-1]||(L[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},P=function(e){try{return decodeURIComponent(e)}catch(t){return e}},D=function(e){var t=e.replace(w," "),r=4;try{return decodeURIComponent(t)}catch(e){for(;r;)t=t.replace(U(r--),P);return t}},k=/[!'()~]|%20/g,M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},F=function(e){return M[e]},V=function(e){return encodeURIComponent(e).replace(k,F)},x=function(e,t){if(t)for(var r,n,o=t.split("&"),i=0;i<o.length;)(r=o[i++]).length&&(n=r.split("="),e.push({key:D(n.shift()),value:D(n.join("="))}))},j=function(e){this.entries.length=0,x(this.entries,e)},B=function(e,t){if(e<t)throw TypeError("Not enough arguments")},z=c((function(e,t){S(this,{type:R,iterator:m(N(e).entries),kind:t})}),"Iterator",(function(){var e=C(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),K=function(){f(this,K,T);var e,t,r,n,o,i,a,u,s,c=arguments.length>0?arguments[0]:void 0,l=[];if(S(this,{type:T,entries:l,updateURL:function(){},updateSearchParams:j}),void 0!==c)if(v(c))if("function"==typeof(e=I(c)))for(r=(t=e.call(c)).next;!(n=r.call(t)).done;){if((a=(i=(o=m(h(n.value))).next).call(o)).done||(u=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");l.push({key:a.value+"",value:u.value+""})}else for(s in c)d(c,s)&&l.push({key:s,value:c[s]+""});else x(l,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},G=K.prototype;u(G,{append:function(e,t){B(arguments.length,2);var r=N(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){B(arguments.length,1);for(var t=N(this),r=t.entries,n=e+"",o=0;o<r.length;)r[o].key===n?r.splice(o,1):o++;t.updateURL()},get:function(e){B(arguments.length,1);for(var t=N(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){B(arguments.length,1);for(var t=N(this).entries,r=e+"",n=[],o=0;o<t.length;o++)t[o].key===r&&n.push(t[o].value);return n},has:function(e){B(arguments.length,1);for(var t=N(this).entries,r=e+"",n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){B(arguments.length,1);for(var r,n=N(this),o=n.entries,i=!1,a=e+"",u=t+"",s=0;s<o.length;s++)(r=o[s]).key===a&&(i?o.splice(s--,1):(i=!0,r.value=u));i||o.push({key:a,value:u}),n.updateURL()},sort:function(){var e,t,r,n=N(this),o=n.entries,i=o.slice();for(o.length=0,r=0;r<i.length;r++){for(e=i[r],t=0;t<r;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===r&&o.push(e)}n.updateURL()},forEach:function(e){for(var t,r=N(this).entries,n=p(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<r.length;)n((t=r[o++]).value,t.key,this)},keys:function(){return new z(this,"keys")},values:function(){return new z(this,"values")},entries:function(){return new z(this,"entries")}},{enumerable:!0}),a(G,b,G.entries),a(G,"toString",(function(){for(var e,t=N(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(V(e.key)+"="+V(e.value));return r.join("&")}),{enumerable:!0}),s(K,T),n({global:!0,forced:!i},{URLSearchParams:K}),i||"function"!=typeof A||"function"!=typeof _||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,o=[e];return arguments.length>1&&(v(t=arguments[1])&&(r=t.body,g(r)===T&&((n=t.headers?new _(t.headers):new _).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=y(t,{body:E(0,String(r)),headers:E(0,n)}))),o.push(t)),A.apply(this,o)}}),e.exports={URLSearchParams:K,getState:N}},4121:(e,t,r)=>{"use strict";r(8673);var n,o=r(3103),i=r(7400),a=r(7274),u=r(9859),s=r(219),c=r(7487),l=r(7728),f=r(816),d=r(7888),p=r(507),g=r(966).codeAt,h=r(7321),v=r(4555),y=r(523),E=r(6407),m=u.URL,I=y.URLSearchParams,O=y.getState,A=E.set,_=E.getterFor("URL"),b=Math.floor,T=Math.pow,R="Invalid scheme",S="Invalid host",N="Invalid port",C=/[A-Za-z]/,w=/[\d+-.A-Za-z]/,L=/\d/,U=/^(0x|0X)/,P=/^[0-7]+$/,D=/^\d+$/,k=/^[\dA-Fa-f]+$/,M=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,F=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,V=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,x=/[\u0009\u000A\u000D]/g,j=function(e,t){var r,n,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return S;if(!(r=z(t.slice(1,-1))))return S;e.host=r}else if(X(e)){if(t=h(t),M.test(t))return S;if(null===(r=B(t)))return S;e.host=r}else{if(F.test(t))return S;for(r="",n=p(t),o=0;o<n.length;o++)r+=q(n[o],G);e.host=r}},B=function(e){var t,r,n,o,i,a,u,s=e.split(".");if(s.length&&""==s[s.length-1]&&s.pop(),(t=s.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(o=s[n]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=U.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?D:8==i?P:k).test(o))return e;a=parseInt(o,i)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=T(256,5-t))return null}else if(a>255)return null;for(u=r.pop(),n=0;n<r.length;n++)u+=r[n]*T(256,3-n);return u},z=function(e){var t,r,n,o,i,a,u,s=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=r=0;r<4&&k.test(d());)t=16*t+parseInt(d(),16),f++,r++;if("."==d()){if(0==r)return;if(f-=r,c>6)return;for(n=0;d();){if(o=null,n>0){if(!("."==d()&&n<4))return;f++}if(!L.test(d()))return;for(;L.test(d());){if(i=parseInt(d(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}s[c]=256*s[c]+o,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;s[c++]=t}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)u=s[c],s[c--]=s[l+a-1],s[l+--a]=u;else if(8!=c)return;return s},K=function(e){var t,r,n,o;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=b(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,o=0,i=0;i<8;i++)0!==e[i]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(t=n,r=o),t}(e),r=0;r<8;r++)o&&0===e[r]||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},G={},H=d({},G,{" ":1,'"':1,"<":1,">":1,"`":1}),J=d({},H,{"#":1,"?":1,"{":1,"}":1}),Y=d({},J,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(e,t){var r=g(e,0);return r>32&&r<127&&!f(t,e)?e:encodeURIComponent(e)},W={ftp:21,file:null,http:80,https:443,ws:80,wss:443},X=function(e){return f(W,e.scheme)},Z=function(e){return""!=e.username||""!=e.password},Q=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},$=function(e,t){var r;return 2==e.length&&C.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},ee=function(e){var t;return e.length>1&&$(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},te=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&$(t[0],!0)||t.pop()},re=function(e){return"."===e||"%2e"===e.toLowerCase()},ne={},oe={},ie={},ae={},ue={},se={},ce={},le={},fe={},de={},pe={},ge={},he={},ve={},ye={},Ee={},me={},Ie={},Oe={},Ae={},_e={},be=function(e,t,r,o){var i,a,u,s,c,l=r||ne,d=0,g="",h=!1,v=!1,y=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(V,"")),t=t.replace(x,""),i=p(t);d<=i.length;){switch(a=i[d],l){case ne:if(!a||!C.test(a)){if(r)return R;l=ie;continue}g+=a.toLowerCase(),l=oe;break;case oe:if(a&&(w.test(a)||"+"==a||"-"==a||"."==a))g+=a.toLowerCase();else{if(":"!=a){if(r)return R;g="",l=ie,d=0;continue}if(r&&(X(e)!=f(W,g)||"file"==g&&(Z(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=g,r)return void(X(e)&&W[e.scheme]==e.port&&(e.port=null));g="","file"==e.scheme?l=ve:X(e)&&o&&o.scheme==e.scheme?l=ae:X(e)?l=le:"/"==i[d+1]?(l=ue,d++):(e.cannotBeABaseURL=!0,e.path.push(""),l=Oe)}break;case ie:if(!o||o.cannotBeABaseURL&&"#"!=a)return R;if(o.cannotBeABaseURL&&"#"==a){e.scheme=o.scheme,e.path=o.path.slice(),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,l=_e;break}l="file"==o.scheme?ve:se;continue;case ae:if("/"!=a||"/"!=i[d+1]){l=se;continue}l=fe,d++;break;case ue:if("/"==a){l=de;break}l=Ie;continue;case se:if(e.scheme=o.scheme,a==n)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query;else if("/"==a||"\\"==a&&X(e))l=ce;else if("?"==a)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query="",l=Ae;else{if("#"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.path.pop(),l=Ie;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=_e}break;case ce:if(!X(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,l=Ie;continue}l=de}else l=fe;break;case le:if(l=fe,"/"!=a||"/"!=g.charAt(d+1))continue;d++;break;case fe:if("/"!=a&&"\\"!=a){l=de;continue}break;case de:if("@"==a){h&&(g="%40"+g),h=!0,u=p(g);for(var E=0;E<u.length;E++){var m=u[E];if(":"!=m||y){var I=q(m,Y);y?e.password+=I:e.username+=I}else y=!0}g=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&X(e)){if(h&&""==g)return"Invalid authority";d-=p(g).length+1,g="",l=pe}else g+=a;break;case pe:case ge:if(r&&"file"==e.scheme){l=Ee;continue}if(":"!=a||v){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&X(e)){if(X(e)&&""==g)return S;if(r&&""==g&&(Z(e)||null!==e.port))return;if(s=j(e,g))return s;if(g="",l=me,r)return;continue}"["==a?v=!0:"]"==a&&(v=!1),g+=a}else{if(""==g)return S;if(s=j(e,g))return s;if(g="",l=he,r==ge)return}break;case he:if(!L.test(a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&X(e)||r){if(""!=g){var O=parseInt(g,10);if(O>65535)return N;e.port=X(e)&&O===W[e.scheme]?null:O,g=""}if(r)return;l=me;continue}return N}g+=a;break;case ve:if(e.scheme="file","/"==a||"\\"==a)l=ye;else{if(!o||"file"!=o.scheme){l=Ie;continue}if(a==n)e.host=o.host,e.path=o.path.slice(),e.query=o.query;else if("?"==a)e.host=o.host,e.path=o.path.slice(),e.query="",l=Ae;else{if("#"!=a){ee(i.slice(d).join(""))||(e.host=o.host,e.path=o.path.slice(),te(e)),l=Ie;continue}e.host=o.host,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=_e}}break;case ye:if("/"==a||"\\"==a){l=Ee;break}o&&"file"==o.scheme&&!ee(i.slice(d).join(""))&&($(o.path[0],!0)?e.path.push(o.path[0]):e.host=o.host),l=Ie;continue;case Ee:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&$(g))l=Ie;else if(""==g){if(e.host="",r)return;l=me}else{if(s=j(e,g))return s;if("localhost"==e.host&&(e.host=""),r)return;g="",l=me}continue}g+=a;break;case me:if(X(e)){if(l=Ie,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=n&&(l=Ie,"/"!=a))continue}else e.fragment="",l=_e;else e.query="",l=Ae;break;case Ie:if(a==n||"/"==a||"\\"==a&&X(e)||!r&&("?"==a||"#"==a)){if(".."===(c=(c=g).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(te(e),"/"==a||"\\"==a&&X(e)||e.path.push("")):re(g)?"/"==a||"\\"==a&&X(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&$(g)&&(e.host&&(e.host=""),g=g.charAt(0)+":"),e.path.push(g)),g="","file"==e.scheme&&(a==n||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",l=Ae):"#"==a&&(e.fragment="",l=_e)}else g+=q(a,J);break;case Oe:"?"==a?(e.query="",l=Ae):"#"==a?(e.fragment="",l=_e):a!=n&&(e.path[0]+=q(a,G));break;case Ae:r||"#"!=a?a!=n&&("'"==a&&X(e)?e.query+="%27":e.query+="#"==a?"%23":q(a,G)):(e.fragment="",l=_e);break;case _e:a!=n&&(e.fragment+=q(a,H))}d++}},Te=function(e){var t,r,n=l(this,Te,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(e),u=A(n,{type:"URL"});if(void 0!==o)if(o instanceof Te)t=_(o);else if(r=be(t={},String(o)))throw TypeError(r);if(r=be(u,a,null,t))throw TypeError(r);var s=u.searchParams=new I,c=O(s);c.updateSearchParams(u.query),c.updateURL=function(){u.query=String(s)||null},i||(n.href=Se.call(n),n.origin=Ne.call(n),n.protocol=Ce.call(n),n.username=we.call(n),n.password=Le.call(n),n.host=Ue.call(n),n.hostname=Pe.call(n),n.port=De.call(n),n.pathname=ke.call(n),n.search=Me.call(n),n.searchParams=Fe.call(n),n.hash=Ve.call(n))},Re=Te.prototype,Se=function(){var e=_(this),t=e.scheme,r=e.username,n=e.password,o=e.host,i=e.port,a=e.path,u=e.query,s=e.fragment,c=t+":";return null!==o?(c+="//",Z(e)&&(c+=r+(n?":"+n:"")+"@"),c+=K(o),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==u&&(c+="?"+u),null!==s&&(c+="#"+s),c},Ne=function(){var e=_(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&X(e)?t+"://"+K(e.host)+(null!==r?":"+r:""):"null"},Ce=function(){return _(this).scheme+":"},we=function(){return _(this).username},Le=function(){return _(this).password},Ue=function(){var e=_(this),t=e.host,r=e.port;return null===t?"":null===r?K(t):K(t)+":"+r},Pe=function(){var e=_(this).host;return null===e?"":K(e)},De=function(){var e=_(this).port;return null===e?"":String(e)},ke=function(){var e=_(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Me=function(){var e=_(this).query;return e?"?"+e:""},Fe=function(){return _(this).searchParams},Ve=function(){var e=_(this).fragment;return e?"#"+e:""},xe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&s(Re,{href:xe(Se,(function(e){var t=_(this),r=String(e),n=be(t,r);if(n)throw TypeError(n);O(t.searchParams).updateSearchParams(t.query)})),origin:xe(Ne),protocol:xe(Ce,(function(e){var t=_(this);be(t,String(e)+":",ne)})),username:xe(we,(function(e){var t=_(this),r=p(String(e));if(!Q(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=q(r[n],Y)}})),password:xe(Le,(function(e){var t=_(this),r=p(String(e));if(!Q(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=q(r[n],Y)}})),host:xe(Ue,(function(e){var t=_(this);t.cannotBeABaseURL||be(t,String(e),pe)})),hostname:xe(Pe,(function(e){var t=_(this);t.cannotBeABaseURL||be(t,String(e),ge)})),port:xe(De,(function(e){var t=_(this);Q(t)||(""==(e=String(e))?t.port=null:be(t,e,he))})),pathname:xe(ke,(function(e){var t=_(this);t.cannotBeABaseURL||(t.path=[],be(t,e+"",me))})),search:xe(Me,(function(e){var t=_(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",be(t,e,Ae)),O(t.searchParams).updateSearchParams(t.query)})),searchParams:xe(Fe),hash:xe(Ve,(function(e){var t=_(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",be(t,e,_e)):t.fragment=null}))}),c(Re,"toJSON",(function(){return Se.call(this)}),{enumerable:!0}),c(Re,"toString",(function(){return Se.call(this)}),{enumerable:!0}),m){var je=m.createObjectURL,Be=m.revokeObjectURL;je&&c(Te,"createObjectURL",(function(e){return je.apply(m,arguments)})),Be&&c(Te,"revokeObjectURL",(function(e){return Be.apply(m,arguments)}))}v(Te,"URL"),o({global:!0,forced:!a,sham:!i},{URL:Te})},5371:(e,t,r)=>{"use strict";r(3103)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},9824:(e,t,r)=>{var n=r(163);e.exports=n},2660:(e,t,r)=>{var n=r(6916);e.exports=n},3960:(e,t,r)=>{var n=r(6757);e.exports=n},3033:(e,t,r)=>{var n=r(2316);e.exports=n},1009:(e,t,r)=>{var n=r(47);e.exports=n},1362:(e,t,r)=>{var n=r(7944);e.exports=n},3674:(e,t,r)=>{var n=r(6925);e.exports=n},7659:(e,t,r)=>{var n=r(6796);e.exports=n},9290:(e,t,r)=>{var n=r(7080);e.exports=n},7080:(e,t,r)=>{r(4121),r(5371),r(523);var n=r(9276);e.exports=n.URL},6077:e=>{!function(){function t(e,t){var r,n,o,i,a,u,s,c;for(r=3&e.length,n=e.length-r,o=t,a=3432918353,u=461845907,c=0;c<n;)s=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,o=27492+(65535&(i=5*(65535&(o=(o^=s=(65535&(s=(s=(65535&s)*a+(((s>>>16)*a&65535)<<16)&4294967295)<<15|s>>>17))*u+(((s>>>16)*u&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(s=0,r){case 3:s^=(255&e.charCodeAt(c+2))<<16;case 2:s^=(255&e.charCodeAt(c+1))<<8;case 1:o^=s=(65535&(s=(s=(65535&(s^=255&e.charCodeAt(c)))*a+(((s>>>16)*a&65535)<<16)&4294967295)<<15|s>>>17))*u+(((s>>>16)*u&65535)<<16)&4294967295}return o^=e.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0}var r=t;r.v2=function(e,t){for(var r,n=e.length,o=t^n,i=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(r>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:o^=(255&e.charCodeAt(i+2))<<16;case 2:o^=(255&e.charCodeAt(i+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(i)))+((1540483477*(o>>>16)&65535)<<16)}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0},r.v3=t,e.exports=r}()},7514:(e,t,r)=>{"use strict";function n(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))}function o(e){return new this((function(t,r){if(!e||void 0===e.length)return r(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var o=n.length;function i(e,r){if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,(function(t){i(e,t)}),(function(r){n[e]={status:"rejected",reason:r},0==--o&&t(n)}))}n[e]={status:"fulfilled",value:r},0==--o&&t(n)}for(var a=0;a<n.length;a++)i(a,n[a])}))}var i=setTimeout;function a(e){return Boolean(e&&void 0!==e.length)}function u(){}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void f(t.promise,e)}l(t.promise,n)}else(1===e._state?l:f)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof s)return e._state=3,e._value=t,void d(e);if("function"==typeof r)return void g((n=r,o=t,function(){n.apply(o,arguments)}),e)}e._state=1,e._value=t,d(e)}catch(t){f(e,t)}var n,o}function f(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&s._immediateFn((function(){e._handled||s._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)c(e,e._deferreds[t]);e._deferreds=null}function p(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function g(e,t){var r=!1;try{e((function(e){r||(r=!0,l(t,e))}),(function(e){r||(r=!0,f(t,e))}))}catch(e){if(r)return;r=!0,f(t,e)}}s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var r=new this.constructor(u);return c(this,new p(e,t,r)),r},s.prototype.finally=n,s.all=function(e){return new s((function(t,r){if(!a(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var o=n.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(t){i(e,t)}),r)}n[e]=a,0==--o&&t(n)}catch(e){r(e)}}for(var u=0;u<n.length;u++)i(u,n[u])}))},s.allSettled=o,s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s((function(t){t(e)}))},s.reject=function(e){return new s((function(t,r){r(e)}))},s.race=function(e){return new s((function(t,r){if(!a(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,o=e.length;n<o;n++)s.resolve(e[n]).then(t,r)}))},s._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){i(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();"function"!=typeof h.Promise?h.Promise=s:(h.Promise.prototype.finally||(h.Promise.prototype.finally=n),h.Promise.allSettled||(h.Promise.allSettled=o))},5855:(e,t,r)=>{"use strict";r.r(t),r.d(t,{HttpMethod:()=>a,HyperError:()=>v,HyperErrorCode:()=>s,HyperEventType:()=>l,ResponseType:()=>d,create:()=>U,del:()=>w,get:()=>S,make:()=>b,post:()=>N,put:()=>C});var n,o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},o(e,t)},i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.create,Object.create,function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(n||(n={}));const a=n;var u;!function(e){e[e.FAILED_REQUEST=0]="FAILED_REQUEST",e[e.FIRST_BYTE_NOT_RECEIVED=1]="FIRST_BYTE_NOT_RECEIVED",e[e.INVALID_CONFIG=2]="INVALID_CONFIG",e[e.MALFORMED_JSON=3]="MALFORMED_JSON",e[e.NETWORK_ERROR=4]="NETWORK_ERROR",e[e.REQUEST_TIMED_OUT=5]="REQUEST_TIMED_OUT",e[e.NO_CONTENT=6]="NO_CONTENT"}(u||(u={}));const s=u;var c;!function(e){e.OPENED="opened",e.FIRST_BYTE="firstbyte",e.PROGRESS="progress",e.ABORTED="aborted",e.COMPLETED="completed",e.ERRORED="errored"}(c||(c={}));const l=c;var f;!function(e){e.JSON="JSON",e.ARRAY_BUFFER="ARRAY_BUFFER",e.TEXT="TEXT",e.NONE="NONE"}(f||(f={}));const d=f,p=function(){function e(){this.country="",this.environment="",this.serviceName="",this.serviceVersion="",this.target="",this.httpClientName="hyper",this.httpClientVersion="0.9.1",Object.seal(this)}return Object.defineProperty(e.prototype,"isSet",{get:function(){var e=this;return 0===Object.keys(this).filter((function(t){return!(e[t]||"string"!=typeof e[t])})).length},enumerable:!1,configurable:!0}),e}(),g=function(){this.maxRetryCount=0,this.retryableErrorCodes=[s.FAILED_REQUEST,s.FIRST_BYTE_NOT_RECEIVED,s.REQUEST_TIMED_OUT,s.NETWORK_ERROR,s.NO_CONTENT],this.retryableStatuses=[408,425,429,500,502,503,504],this.backoffFactor=1.5,this.baseDelayMs=1e3,this.fuzzFactor=1.25,this.timeoutCompletionMs=3e4,this.timeoutFirstByteMs=5e3,Object.seal(this)},h=function(){this.baseUrl="",this.body=null,this.json=null,this.headers={},this.method=a.GET,this.queryParams={},this.responseType=d.JSON,this.token="",this.retry=new g,this.dazn=new p,Object.seal(this)},v=function(e){function t(t,r,n,o){var i=this,a=r instanceof Error?r.message:"string"==typeof r?r:t.toString();return(i=e.call(this,a)||this).code=t,i.status=null!=n?n:-1,i.response=null!=o?o:"",i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Error);var y="consumerabort",E=function(e,t,r,n,o,i){return void 0===o&&(o=[]),void 0===i&&(i=0),void 0,void 0,u=function(){var a,u,c,f,d,p,g,h,m,I,O,A,_,b,T;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(R){switch(R.label){case 0:a=-1,u=-1,c=n(e,t,r,o),f=t.retry.timeoutFirstByteMs>0,d=function(){r.removeEventListener(y,d),c.abort(),window.clearTimeout(a),window.clearTimeout(u)},r.addEventListener(y,d),p=new Promise(f?function(e,r){a=window.setTimeout(r,t.retry.timeoutFirstByteMs,new v(s.FIRST_BYTE_NOT_RECEIVED,"First byte not received within "+t.retry.timeoutFirstByteMs+"ms"))}:function(){}),g=new Promise((function(e){return r.addEventListener(l.FIRST_BYTE,(function(){return e()}))})),R.label=1;case 1:return R.trys.push([1,3,,7]),[4,Promise.all([c.done,Promise.race([g,p])])];case 2:return h=R.sent()[0],r.removeEventListener(y,d),[2,h];case 3:return m=R.sent(),O=(I=m).code,A=I.status,_=t.retry.retryableErrorCodes.indexOf(O)>-1,b=O!==s.FAILED_REQUEST||t.retry.retryableStatuses.indexOf(A)>-1,_&&b&&i<t.retry.maxRetryCount?(c.abort(),(T=function(e,t){if(e.baseDelayMs<=0)return 0;var r,n,o=e.fuzzFactor>1&&e.backoffFactor>1?(r=e.fuzzFactor,n=Math.abs(r-1),Math.min(1,r)+Math.random()*n):1,i=e.backoffFactor>1?Math.pow(e.backoffFactor,t):1,a=e.baseDelayMs*i*o;return Math.abs(a)}(t.retry,i))>0?[4,new Promise((function(e){u=window.setTimeout(e,T)}))]:[3,5]):[3,6];case 4:R.sent(),R.label=5;case 5:return r.removeEventListener(y,d),[2,E(e,t,r,n,o,++i)];case 6:throw r.removeEventListener(y,d),c.abort(),m;case 7:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function n(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(r,n)}o((u=u.apply(undefined,[])).next())}));var a,u};const m=function(e,t,r,n){return{done:E(e,t,r,n),abort:function(){return r.dispatchEvent(new CustomEvent(y))}}};var I;!function(e){e.ARRAY_BUFFER="arraybuffer",e.TEXT="text"}(I||(I={}));const O=I,A=function(e,t){return[t,e.serviceName+"/"+e.serviceVersion,e.httpClientName+"/"+e.httpClientVersion,"("+e.target+"; "+e.environment+"; "+e.country+")"].join(" ")},_=function(e,t,r,n,o){void 0===n&&(n=[]),void 0===o&&(o={xhr:new XMLHttpRequest,renderDaznUserAgentHeader:A});var u=o.xhr,c=Date.now(),f={id:Math.floor(16777215*Math.random()).toString(16).toUpperCase(),waitingDurationMs:1/0,totalDurationMs:1/0,downloadDurationMs:1/0,totalBytes:0,transferredBytes:0,lastChunkBytes:0,statuses:n},p=function(e){var t=new CustomEvent(e,{detail:i({},f)});r.dispatchEvent(t)},g=new Promise((function(r,n){var i,g=t.baseUrl+e+function(e,t){if(0===Object.keys(e).length)return"";var r=Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&");return(t.match(/\?/)?"&":"?")+r}(t.queryParams,e);if(g){if(u.open(t.method.toUpperCase(),g,!0),u.timeout=t.retry.timeoutCompletionMs,u.responseType=(i={},i[d.ARRAY_BUFFER]=O.ARRAY_BUFFER,i[d.JSON]=O.TEXT,i[d.TEXT]=O.TEXT,i[d.NONE]=O.TEXT,i)[t.responseType],u.onerror=function(e){f.statuses.push(-1),p(l.ERRORED),n(new v(s.NETWORK_ERROR,e))},u.ontimeout=function(e){f.statuses.push(-1),p(l.ERRORED),n(new v(s.REQUEST_TIMED_OUT,e))},t.token&&(t.headers.Authorization="Bearer "+t.token),t.dazn.isSet){var h=o.renderDaznUserAgentHeader(t.dazn,window.navigator.userAgent);t.headers["X-DAZN-UA"]=h,t.headers["User-Agent"]=h}for(var y in t.json&&(t.body=JSON.stringify(t.json),t.headers["Content-Type"]="application/json"),t.headers)u.setRequestHeader(y,t.headers[y]);u.onreadystatechange=function(){u.readyState===XMLHttpRequest.HEADERS_RECEIVED&&(f.waitingDurationMs=Date.now()-c,p(l.FIRST_BYTE))},u.onprogress=function(e){f.totalBytes=e.total;var t=e.loaded-f.transferredBytes;f.transferredBytes=e.loaded,f.lastChunkBytes=t,p(l.PROGRESS)},u.onload=function(){if(f.statuses.push(u.status),u.status>=400){var e=t.responseType===d.ARRAY_BUFFER?"":u.responseText;return p(l.ERRORED),void n(new v(s.FAILED_REQUEST,u.status,u.status,e))}var o=0;switch(t.responseType){case d.NONE:r(void 0);break;case d.JSON:try{var i=JSON.parse(u.responseText);r(i)}catch(e){n(new v(s.MALFORMED_JSON,e,u.status,u.responseText))}break;case d.TEXT:var h=u.responseText;h||t.method!==a.GET?r(h):n(new v(s.NO_CONTENT,'No content received for GET request to URL "'+g+'"'));break;case d.ARRAY_BUFFER:o=(i=new Uint8Array(u.response)).length,r(i)}f.totalBytes=f.totalBytes||f.transferredBytes||o,f.totalDurationMs=Date.now()-c,f.downloadDurationMs=f.totalDurationMs-f.waitingDurationMs,p(l.COMPLETED)},Promise.resolve().then((function(){u.send(t.body),p(l.OPENED)}))}else n(new v(s.INVALID_CONFIG,"Invalid path"))}));return{addEventListener:r.addEventListener.bind(r),removeEventListener:r.removeEventListener.bind(r),done:g,abort:function(){u.readyState!==XMLHttpRequest.DONE&&(u.abort(),p(l.ABORTED))}}},b=function(e,t,r){var n,o;void 0===t&&(t={}),void 0===r&&(r={requestWithRetries:m,eventTarget:document.createDocumentFragment()});var a=new h,u=[];try{var c=i(new g,null!==(n=t.retry)&&void 0!==n?n:{}),l=i(new p,null!==(o=t.dazn)&&void 0!==o?o:{});i(a,t),a.retry=c,a.dazn=l}catch(e){throw new v(s.INVALID_CONFIG,e)}var f=r.requestWithRetries(e,a,r.eventTarget,_);return f.done.catch((function(){})).finally((function(){for(;u.length>0;){var e=u.pop(),t=e[0],n=e[1];r.eventTarget.removeEventListener(t,n)}})),{addEventListener:function(e,t){u.push([e,t]),r.eventTarget.addEventListener(e,t)},removeEventListener:r.eventTarget.removeEventListener.bind(r.eventTarget),done:f.done,abort:f.abort}};var T,R=function(e){return function(t,r){return void 0===r&&(r={}),b(t,i(i({},r),{method:e})).done}},S=R(a.GET),N=R(a.POST),C=R(a.PUT),w=R(a.DELETE),L=((T={})[a.GET]=S,T[a.DELETE]=w,T[a.POST]=N,T[a.PUT]=C,T),U=function(e,t){return function(r){return void 0===r&&(r={}),L[t.method](e,i(i({},t),r))}}},3331:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},u=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function u(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,u)}s((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},c=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.StartupClient=void 0;var l=r(5855),f=r(9893),d=i(r(9893)),p=r(6190);a(r(6190),t),a(r(5451),t),a(r(9893),t);var g=function(){function e(t){var r,n;this.startupURL=e.getStartupURL(t.environment),this.timeout=null!==(r=t.timeout)&&void 0!==r?r:e.DEFAULT_TIMEOUT_MS,this.retries=null!==(n=t.retries)&&void 0!==n?n:e.DEFAULT_RETRIES,this.cache=this.checkValidCacheOption(t.cache)}return e.getStartupURL=function(e){switch(e){case p.StartupEnvironment.DEV:case p.StartupEnvironment.TEST:case p.StartupEnvironment.STAGE:return"https://startup.core.dazn-".concat(e,".com/misl/v5/Startup");case p.StartupEnvironment.PROD:return"https://startup.core.indazn.com/misl/v5/Startup";default:throw new f.OptionsError}},e.prototype.checkValidCacheOption=function(e){if(void 0===e)throw new d.NoCacheError;if(!("setItem"in e)||"function"!=typeof e.setItem)throw new d.CacheInterfaceNotImplemented("setItem");if(!("getItem"in e)||"function"!=typeof e.getItem)throw new d.CacheInterfaceNotImplemented("getItem");return e},e.prototype.get=function(t){return u(this,void 0,void 0,(function(){var r,n,o,i,a,u,l;return s(this,(function(s){switch(s.label){case 0:r=t.SessionId,n=c(t,["SessionId"]),o=this.generateRequestBody(n),i={"Content-Type":"application/json","x-session-id":r},s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this.sendRequest(o,i)];case 2:return a=s.sent(),[4,this.cache.setItem(e.CACHE_KEY,JSON.stringify(a))];case 3:return s.sent(),[3,6];case 4:return u=s.sent(),[4,this.cache.getItem(e.CACHE_KEY)];case 5:if(null!==(l=s.sent()))return[2,JSON.parse(l)];throw u;case 6:return[2,a]}}))}))},e.prototype.getWithMarcoPolo=function(e,t){return u(this,void 0,void 0,(function(){var r,n,o,i;return s(this,(function(a){if(r=e.SessionId,n=c(e,["SessionId"]),o=this.generateRequestBody(n),!Boolean(t))throw new f.DeviceIdError("device id required");return i={"Content-Type":"application/json","x-session-id":r,"x-dazn-marco":"","x-dazn-device":t},[2,this.sendRequest(o,i)]}))}))},e.prototype.sendRequest=function(t,r){return u(this,void 0,void 0,(function(){var n,o;return s(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,l.make)(this.startupURL,{headers:r,body:t,method:l.HttpMethod.POST,responseType:l.ResponseType.JSON,retry:{maxRetryCount:this.retries,baseDelayMs:e.DEFAULT_BACKOFF_MS,backoffFactor:e.DEFAULT_BACKOFF_FACTOR,timeoutCompletionMs:this.timeout}}).done];case 1:return[2,i.sent()];case 2:switch(n=i.sent(),(o=n).code){case l.HyperErrorCode.FAILED_REQUEST:throw new f.StartupFailedRequestError(o.status,o.response,o);case l.HyperErrorCode.MALFORMED_JSON:throw new f.JSONParseError(o);case l.HyperErrorCode.NETWORK_ERROR:throw new f.NetworkError(o);case l.HyperErrorCode.REQUEST_TIMED_OUT:throw new f.RequestTimedOutError(o)}throw o;case 3:return[2]}}))}))},e.prototype.validateRequestBody=function(e){var t=e.LandingPageKey,r=e.Platform,n=[];if(Boolean(t)||n.push("LandingPageKey is incorrect, you passed: ".concat(t)),Boolean(r)||n.push("Platform is incorrect, you passed: ".concat(r)),n.length>0)throw new f.ParamsValidationError([String(n)])},e.prototype.generateRequestBody=function(e){return this.validateRequestBody(e),JSON.stringify(e)},e.CACHE_KEY="startup_client",e.DEFAULT_TIMEOUT_MS=5e3,e.DEFAULT_RETRIES=2,e.DEFAULT_BACKOFF_MS=100,e.DEFAULT_BACKOFF_FACTOR=2,e}();t.StartupClient=g},8679:function(e,t){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.CustomError=void 0;var o=function(e){function t(t,r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return n(t,e),t}(Error);t.CustomError=o},9893:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.CacheInterfaceNotImplemented=t.NoCacheError=t.RequestTimedOutError=t.OptionsError=t.NetworkError=t.StartupFailedRequestError=t.JSONParseError=t.ParamsValidationError=t.DeviceIdError=void 0;var i=r(8679),a=function(e){function t(r){return e.call(this,t,r)||this}return o(t,e),t}(i.CustomError);t.DeviceIdError=a;var u=function(e){function t(r){return e.call(this,t,JSON.stringify(r))||this}return o(t,e),t}(i.CustomError);t.ParamsValidationError=u;var s=function(e){function t(r){var n=e.call(this,t,"Failed to parse JSON response")||this;return n.OriginalError=r,n}return o(t,e),t}(i.CustomError);t.JSONParseError=s;var c=function(e){function t(r,n,o){var i=e.call(this,t,"Encountered error contacting Startup service, Code: ".concat(r,", Message: ").concat(n))||this;return i.OriginalError=o,i}return o(t,e),t}(i.CustomError);t.StartupFailedRequestError=c;var l=function(e){function t(r){var n=e.call(this,t,"A network error prevented the request")||this;return n.OriginalError=r,n}return o(t,e),t}(i.CustomError);t.NetworkError=l;var f=function(e){function t(){return e.call(this,t,"Startup ENV can only be dev, test, stage or prod")||this}return o(t,e),t}(i.CustomError);t.OptionsError=f;var d=function(e){function t(r){var n=e.call(this,t,"Request timed out")||this;return n.OriginalError=r,n}return o(t,e),t}(i.CustomError);t.RequestTimedOutError=d;var p=function(e){function t(){return e.call(this,t,"Cache has not been passed in, this is required!")||this}return o(t,e),t}(i.CustomError);t.NoCacheError=p;var g=function(e){function t(r){var n=e.call(this,t,"Cache has not implemented required function: ".concat(r))||this;return n.OriginalError=r,n}return o(t,e),t}(i.CustomError);t.CacheInterfaceNotImplemented=g},5451:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6190:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StartupEnvironment=void 0,(r=t.StartupEnvironment||(t.StartupEnvironment={})).DEV="dev",r.TEST="test",r.STAGE="stage",r.PROD="prod"},6155:(e,t,r)=>{"use strict";e.exports=function(e,t){if("undefined"==typeof document)return function(){};if((t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},void 0===t.attributes.nonce){var n=r.nc;n&&(t.attributes.nonce=n)}var o=document.createElement("link");return o.rel="stylesheet",o.href=e,Object.keys(t.attributes).forEach((function(e){o.setAttribute(e,t.attributes[e])})),t.insert(o),function(e){"string"==typeof e?o.href=e:o.parentNode.removeChild(o)}}},6793:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",r.nc=void 0,(()=>{"use strict";var e=r(6155),t=r.n(e),n=r(6793),o=r.n(n);const i=r.p+"static/main-28.6.0-c18e3bb9f469272ddbdaea4d5eac200d.css";var a={attributes:{class:"protected"}};a.insert=o().bind(null,"head"),t()(i,a),r(3674),r(7659),r(3960),r(9824),r(2660),r(1009),r(1362),r(9290),r(3033);var u="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==u&&u,s="URLSearchParams"in u,c="Symbol"in u&&"iterator"in Symbol,l="FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch(e){return!1}}(),f="FormData"in u,d="ArrayBuffer"in u;if(d)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(e){return e&&p.indexOf(Object.prototype.toString.call(e))>-1};function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function v(e){return"string"!=typeof e&&(e=String(e)),e}function y(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return c&&(t[Symbol.iterator]=function(){return t}),t}function E(e){this.map={},e instanceof E?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function I(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function O(e){var t=new FileReader,r=I(t);return t.readAsArrayBuffer(e),r}function A(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:l&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:f&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:s&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():d&&l&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=A(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d&&(ArrayBuffer.prototype.isPrototypeOf(e)||g(e))?this._bodyArrayBuffer=A(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(O)}),this.text=function(){var e,t,r,n=m(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=I(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f&&(this.formData=function(){return this.text().then(R)}),this.json=function(){return this.text().then(JSON.parse)},this}E.prototype.append=function(e,t){e=h(e),t=v(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},E.prototype.delete=function(e){delete this.map[h(e)]},E.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},E.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},E.prototype.set=function(e,t){this.map[h(e)]=v(t)},E.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},E.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),y(e)},E.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),y(e)},E.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),y(e)},c&&(E.prototype[Symbol.iterator]=E.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(e,t){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,o=(t=t||{}).body;if(e instanceof T){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new E(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new E(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),b.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;i.test(this.url)?this.url=this.url.replace(i,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function R(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new E(t.headers),this.url=t.url||"",this._initBody(e)}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},_.call(T.prototype),_.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var N=[301,302,303,307,308];S.redirect=function(e,t){if(-1===N.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})};var C=u.DOMException;try{new C}catch(e){(C=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),C.prototype.constructor=C}function w(e,t){return new Promise((function(r,n){var o=new T(e,t);if(o.signal&&o.signal.aborted)return n(new C("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var e,t,n={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new E,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};n.url="responseURL"in i?i.responseURL:n.headers.get("X-Request-URL");var o="response"in i?i.response:i.responseText;setTimeout((function(){r(new S(o,n))}),0)},i.onerror=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},i.ontimeout=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},i.onabort=function(){setTimeout((function(){n(new C("Aborted","AbortError"))}),0)},i.open(o.method,function(e){try{return""===e&&u.location.href?u.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&(l?i.responseType="blob":d&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(i.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof E?o.headers.forEach((function(e,t){i.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){i.setRequestHeader(e,v(t.headers[e]))})),o.signal&&(o.signal.addEventListener("abort",a),i.onreadystatechange=function(){4===i.readyState&&o.signal.removeEventListener("abort",a)}),i.send(void 0===o._bodyInit?null:o._bodyInit)}))}w.polyfill=!0,u.fetch||(u.fetch=w,u.Headers=E,u.Request=T,u.Response=S),r(7514),function(){if("function"!=typeof window.CustomEvent){var e={bubbles:!1,cancelable:!1,detail:void 0};t.prototype=window.Event.prototype,window.CustomEvent=t}function t(t,r){var n=Object.assign({},e,r),o=n.bubbles,i=n.cancelable,a=n.detail,u=document.createEvent("CustomEvent");return u.initCustomEvent&&u.initCustomEvent(t,o,i,a),u}}();const L=JSON.parse('{"resourcesBaseUrl":"/chapters","UILanguageKey":"UI.language","tokenStorageKey":"MISL.authToken","globalNamespaceKey":"dazn","resourceStringLinkOverrides":{},"defaultActiveUserTypes":["ActiveGrace","ActivePaid","FreeTrial"],"countries":{"native":["de","at","ch","lu","li","it","es","jp","us","ca","br"],"mapped":{"va":"it","sm":"it","pr":"us","gg":"gb","gi":"gb","im":"gb","je":"gb","as":"us"},"disabled":["mm","cu","cn","ir","kp","sy","sd","eg","xk","ae","sa"]},"defaultAnonymousChapters":{"ch":"landingpage","at":"landingpage","de":"landingpage","lu":"landingpage","li":"landingpage","it":"landingpage","us":"landingpage","br":"landingpage","es":"catalog","ca":"catalog","jp":"landingpage","moon":"landingpage"},"environment":"production","features":{"storage":true},"rootAuthorizedChapter":"catalog","unauthorizedChapter":"landingpage","loginChapter":"signin","onLogoutChapter":"signin","safeMode":{"AWS":{"homePageURL":"https://lite.dazn.com","statusURL":"https://lite.dazn.com/api/status","source":"AWS","homePageQRBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAAClCAAAAAAYQGIGAAABaElEQVR42u3bwbKCMBAEQP7/p5/3VxJmiUYWOieqFNIclqxD3P46jI2SkpKSkpKSkpKSkvKzyu14/Pvyu3Onr0xJ2VW5X3BDVumW0nkpKRsq3023ezSu7NKVKSmfowzKm5KS8sRMF6hxSsrlyvQeAtbPumBKyuXKIIE4ebQ4gaGkXKmM4+7jjPAC6T8l5UplUJNjedqRBtejpOylnC7RevEf3DolZStl0C2efDVV+qFHSdlLuTtnGmGclFNS3kQ5s/ztNplpwk5J2VqZLnBBsZYCRUrK/spg5QuqOI01pp5ElJRXVI7DvvEk49M+3l9SUl5bGdRu8EBIdxFRUjZUluLzevEHSyIlZVdlfdfPzM+xb+96oqRcrkzfVI2B9dSdkvImytK/kMbnBrEGJeUTlUH0XgoKKSkfoSztnAiWSUrKmyhLnwZ7I8ZFTUl5E2W9M5xuNykp+ysvNygpKSkpKSkpKSkpKc+PFzpGp1s6UkioAAAAAElFTkSuQmCC"},"GCP":{"homePageURL":"https://safe.dazn.com","statusURL":"https://safe.dazn.com/status/","source":"GCP","homePageQRBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAAClCAAAAAAYQGIGAAABaElEQVR42u3aQXKDMBAEQP7/6eSekvAsogQbt07Y2HJzWLMadPx0GAclJSUlJSUlJSUlJeW9yuPz+PPh6dHKzJSUXZXzgjsljDDrM1NS9lOOfm56NuUHM1NSfpnyvLwpKSmHZz8srl5S45SUO5XpNYzWX6OpnuiCKSm3K4ME4uLR5gSGknKnMo67w6Dw2fSfknKnMqjJ9A+hPh8l5T9RBu9Ns43pd9PpKSkbKoN7YOAIcsM0JqGk7KosRYbpy/Vsg5Lyjco0+0s7zVLdU1L2V6Y9Yr2hLO3fo6RsqExXYvUb5k39JSVlA+U5Ol2inX93/ckzJeXLlGklBieC1H09/aekfFpZeqZ793VRUrZWlnb9BITSHiNKyv7KtLLrz6zqqTslZUPl8g7WtL+kpKRMbrZBUEhJ+T3Kq4lfmHJQUjZUpql7fYt42odSUjZU1jvD8/KuoykpGypfNygpKSkpKSkpKSkpKa+PXzaKrkYRfz2kAAAAAElFTkSuQmCC"},"GCPFireDrill":{"homePageURL":"https://safe.dazn.com?group=TEST","statusURL":"https://safe.dazn.com/status/","source":"GCP_FIREDRILL","homePageQRBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALkAAAC5CAAAAABRxsGAAAAByUlEQVR42u3c0W7CMAwF0P7/T7PHSRNN73XZWOnpE1JHczIJx7ED2+Oq10ZOTk5OTk5OTk5OTk7+KfLt+Pr+ux+vnj1gfSMdjZyc/PHMsXu3msjuk9PRyMnJ923B6LuxYD25fjRycvLkWbtRJog85OTkfxJbqnkF/wlycvIX5efrsBJsmd+2syAnv7x8WOMavvoH1Tly8qvI41ZNsEYfE97R4SInv7J8vVAP0+ugApa+g5ycfEtS5ON6dLrI910kcvLbytfr9rAene6+g7BCTk5+KqxUndx+IHJy8u4wRN/JDWLadO9PTn5reTrIOjWvsnxycvLkM56kzcdd2+GpC3Jy8mmfaJiLpxtvcnLypNDVR4q0CVQdVSQnJz91rKl6W7/wk5PfWz48t5/WvdJQM6hxkZPfQd73YIO7w1BDTk6epObrAFN9Uyd4FDk5+YtqXGlRuu8O/XYVmpz8ovL0c18t8lV3aFrjIie/jbwvflVzTQ88nvq2Ajn5h8uD9s3w9GHfYyInJ+/k6VmpIEmv8nhycvLBrxSmc0jL2OTk5Od/A22dWVe76hRNTk4e74f7eNP3ecnJya92kZOTk5OTk5OTk5OTk1/x+gLj4DHAodOsSAAAAABJRU5ErkJggg=="}},"target":"web","environmentGroup":"beta","chapters":{"auth":{"name":"auth","homePage":"account/signup","usePortability":false,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":false,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["account","tvcode","tv"]},"signin":{"name":"signin","homePage":"signin","usePortability":false,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":false,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["signin"]},"catalog":{"name":"catalog","homePage":"home","usePortability":true,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":false,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["home","settings","schedule","search","clips","data","watchparty","show","fixture","fixture-lite","news","articles","app-report","bet","fun","sport","competition","competitor","tournament","tournamentcalendar","allsports","ppv","player","catalogtv"],"rewriteUrlLocaleOverrideMap":{"\\\\/articles$":false,"\\\\/articles\\\\/":false,"\\\\/news$":false,"\\\\/news\\\\/":false}},"preferences":{"name":"preferences","homePage":"preferences","usePortability":false,"useSignUpCountry":true,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":false,"canLoadIfSignedIn":true,"canLoadIfSignedOut":false,"urlIdentifiers":["preferences"]},"help":{"name":"help","homePage":"help","linkKey":"Help","usePortability":true,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":true,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["help","contactus"]},"landingpage":{"name":"landingpage","homePage":"welcome","usePortability":false,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":false,"getsCountryFromUrl":false,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["welcome","l","p","c","nfl-game-pass","redeem","welcome-back"]},"account":{"name":"account","homePage":"myaccount","linkKey":"MyAccount","usePortability":false,"useSignUpCountry":true,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":false,"canLoadIfSignedIn":true,"canLoadIfSignedOut":false,"allowedUserStatuses":["ActiveGrace","ActivePaid","FreeTrial","Paused","Partial","Frozen","Expired"],"urlIdentifiers":["myaccount"]},"picks":{"name":"picks","homePage":"picks","linkKey":"picks","usePortability":true,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":true,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["picks"]},"news":{"name":"news","homePage":"news","linkKey":"news","usePortability":true,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":true,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["news"]},"partners":{"name":"partners","homePage":"partners","linkKey":"partners","usePortability":true,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":true,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["partners"]}}}'),U=JSON.parse('{"resourcesBaseUrl":"/chapters","UILanguageKey":"UI.language","tokenStorageKey":"MISL.authToken","globalNamespaceKey":"dazn","resourceStringLinkOverrides":{},"defaultActiveUserTypes":["ActiveGrace","ActivePaid","FreeTrial"],"countries":{"native":["de","at","ch","lu","li","it","es","jp","us","ca","br"],"mapped":{"va":"it","sm":"it","pr":"us","gg":"gb","gi":"gb","im":"gb","je":"gb","as":"us"},"disabled":["mm","cu","cn","ir","kp","sy","sd","eg","xk","ae","sa"]},"defaultAnonymousChapters":{"ch":"landingpage","at":"landingpage","de":"landingpage","lu":"landingpage","li":"landingpage","it":"landingpage","us":"landingpage","br":"landingpage","es":"catalog","ca":"catalog","jp":"landingpage","moon":"landingpage"},"environment":"production","features":{"storage":true},"rootAuthorizedChapter":"catalog","unauthorizedChapter":"landingpage","loginChapter":"signin","onLogoutChapter":"signin","safeMode":{"AWS":{"homePageURL":"https://lite.dazn.com","statusURL":"https://lite.dazn.com/api/status","source":"AWS","homePageQRBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAAClCAAAAAAYQGIGAAABaElEQVR42u3bwbKCMBAEQP7/p5/3VxJmiUYWOieqFNIclqxD3P46jI2SkpKSkpKSkpKSkvKzyu14/Pvyu3Onr0xJ2VW5X3BDVumW0nkpKRsq3023ezSu7NKVKSmfowzKm5KS8sRMF6hxSsrlyvQeAtbPumBKyuXKIIE4ebQ4gaGkXKmM4+7jjPAC6T8l5UplUJNjedqRBtejpOylnC7RevEf3DolZStl0C2efDVV+qFHSdlLuTtnGmGclFNS3kQ5s/ztNplpwk5J2VqZLnBBsZYCRUrK/spg5QuqOI01pp5ElJRXVI7DvvEk49M+3l9SUl5bGdRu8EBIdxFRUjZUluLzevEHSyIlZVdlfdfPzM+xb+96oqRcrkzfVI2B9dSdkvImytK/kMbnBrEGJeUTlUH0XgoKKSkfoSztnAiWSUrKmyhLnwZ7I8ZFTUl5E2W9M5xuNykp+ysvNygpKSkpKSkpKSkpKc+PFzpGp1s6UkioAAAAAElFTkSuQmCC"},"GCP":{"homePageURL":"https://safe.dazn.com","statusURL":"https://safe.dazn.com/status/","source":"GCP","homePageQRBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAAClCAAAAAAYQGIGAAABaElEQVR42u3aQXKDMBAEQP7/6eSekvAsogQbt07Y2HJzWLMadPx0GAclJSUlJSUlJSUlJeW9yuPz+PPh6dHKzJSUXZXzgjsljDDrM1NS9lOOfm56NuUHM1NSfpnyvLwpKSmHZz8srl5S45SUO5XpNYzWX6OpnuiCKSm3K4ME4uLR5gSGknKnMo67w6Dw2fSfknKnMqjJ9A+hPh8l5T9RBu9Ns43pd9PpKSkbKoN7YOAIcsM0JqGk7KosRYbpy/Vsg5Lyjco0+0s7zVLdU1L2V6Y9Yr2hLO3fo6RsqExXYvUb5k39JSVlA+U5Ol2inX93/ckzJeXLlGklBieC1H09/aekfFpZeqZ793VRUrZWlnb9BITSHiNKyv7KtLLrz6zqqTslZUPl8g7WtL+kpKRMbrZBUEhJ+T3Kq4lfmHJQUjZUpql7fYt42odSUjZU1jvD8/KuoykpGypfNygpKSkpKSkpKSkpKa+PXzaKrkYRfz2kAAAAAElFTkSuQmCC"},"GCPFireDrill":{"homePageURL":"https://safe.dazn.com?group=TEST","statusURL":"https://safe.dazn.com/status/","source":"GCP_FIREDRILL","homePageQRBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALkAAAC5CAAAAABRxsGAAAAByUlEQVR42u3c0W7CMAwF0P7/T7PHSRNN73XZWOnpE1JHczIJx7ED2+Oq10ZOTk5OTk5OTk5OTk7+KfLt+Pr+ux+vnj1gfSMdjZyc/PHMsXu3msjuk9PRyMnJ923B6LuxYD25fjRycvLkWbtRJog85OTkfxJbqnkF/wlycvIX5efrsBJsmd+2syAnv7x8WOMavvoH1Tly8qvI41ZNsEYfE97R4SInv7J8vVAP0+ugApa+g5ycfEtS5ON6dLrI910kcvLbytfr9rAene6+g7BCTk5+KqxUndx+IHJy8u4wRN/JDWLadO9PTn5reTrIOjWvsnxycvLkM56kzcdd2+GpC3Jy8mmfaJiLpxtvcnLypNDVR4q0CVQdVSQnJz91rKl6W7/wk5PfWz48t5/WvdJQM6hxkZPfQd73YIO7w1BDTk6epObrAFN9Uyd4FDk5+YtqXGlRuu8O/XYVmpz8ovL0c18t8lV3aFrjIie/jbwvflVzTQ88nvq2Ajn5h8uD9s3w9GHfYyInJ+/k6VmpIEmv8nhycvLBrxSmc0jL2OTk5Od/A22dWVe76hRNTk4e74f7eNP3ecnJya92kZOTk5OTk5OTk5OTk1/x+gLj4DHAodOsSAAAAABJRU5ErkJggg=="}},"target":"web","environmentGroup":"live","chapters":{"auth":{"name":"auth","homePage":"account/signup","usePortability":false,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":false,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["account","tvcode","tv"]},"signin":{"name":"signin","homePage":"signin","usePortability":false,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":false,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["signin"]},"catalog":{"name":"catalog","homePage":"home","usePortability":true,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":false,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["home","settings","schedule","search","clips","data","watchparty","show","fixture","fixture-lite","news","articles","app-report","bet","fun","sport","competition","competitor","tournament","tournamentcalendar","allsports","ppv","player","catalogtv"],"rewriteUrlLocaleOverrideMap":{"\\\\/articles$":false,"\\\\/articles\\\\/":false,"\\\\/news$":false,"\\\\/news\\\\/":false}},"preferences":{"name":"preferences","homePage":"preferences","usePortability":false,"useSignUpCountry":true,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":false,"canLoadIfSignedIn":true,"canLoadIfSignedOut":false,"urlIdentifiers":["preferences"]},"help":{"name":"help","homePage":"help","linkKey":"Help","usePortability":true,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":true,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["help","contactus"]},"landingpage":{"name":"landingpage","homePage":"welcome","usePortability":false,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":false,"getsCountryFromUrl":false,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["welcome","l","p","c","nfl-game-pass","redeem","welcome-back"]},"account":{"name":"account","homePage":"myaccount","linkKey":"MyAccount","usePortability":false,"useSignUpCountry":true,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":false,"canLoadIfSignedIn":true,"canLoadIfSignedOut":false,"allowedUserStatuses":["ActiveGrace","ActivePaid","FreeTrial","Paused","Partial","Frozen","Expired"],"urlIdentifiers":["myaccount"]},"picks":{"name":"picks","homePage":"picks","linkKey":"picks","usePortability":true,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":true,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["picks"]},"news":{"name":"news","homePage":"news","linkKey":"news","usePortability":true,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":true,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["news"]},"partners":{"name":"partners","homePage":"partners","linkKey":"partners","usePortability":true,"useSignUpCountry":false,"isLanguageInTheUrl":true,"rewriteUrlLocale":true,"getsCountryFromUrl":true,"canLoadIfSignedIn":true,"canLoadIfSignedOut":true,"urlIdentifiers":["partners"]}}}');var P=["beta.dazn.com","beta-stag.dazn.com","beta-test.dazn.com","beta-dev.dazn.com"],D=function(e){return P.includes(e.location.hostname)?L:U},k=r(4946),M=r(9871),F=function(e){var t=document.createElement("script");return t.classList.add("protected"),t.setAttribute("async",""),t.setAttribute("type","text/javascript"),t.setAttribute("charset","UTF-8"),e&&Object.keys(e).forEach((function(r){t.setAttribute(r,e[r])})),t};const V=JSON.parse('["es-AR","es-CO","es-MX","fr-FR","ms-MY","pl-PL","ru-RU","th-TH","uk-UA","zh-TW","en-GB","bg-BG","nl-NL","hr-HR","fr-BE","nl-BE","pt-PT","zh-TW","es-MX","fr-FR"]');var x=function(e){var t=e.chapterName,r=e.startupCountry,n=e.chapterLanguage,o=navigator&&(navigator.language||"").split("-")[0].toLocaleLowerCase()||"en",i=t===M.chapterNames.LANDING_PAGE,a=V.includes("".concat(o,"-").concat((r||"EN").toUpperCase()));return i&&a?o:n.toLowerCase()},j=function(e){var t=e.document.cookie.split(";").find((function(e){return e.trim().startsWith("eupubconsent-v2")}));return null==t?void 0:t.split("=")[1]};function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var K,G,H=function(e){var t=e.document.cookie.split("; ").find((function(e){return e.startsWith("OptanonConsent")}));if(t){var r=B(/groups=(.*?)(?:$|&)/i.exec(decodeURIComponent(t))||[],2)[1];if(r)return r.split(",").reduce((function(e,t){var r=B(t.split(":"),2),n=r[0],o=r[1];return e[n]=o,e}),{})}},J="17ee4b6b-233e-41d3-a670-2085e68960ab",Y="".concat(J,"-test"),q=function(e){var t,r,n={};return e.forEach((function(e,t){return n[t]=e})),delete n.chapterName,delete n.path,null!==(t=n.eventId)&&void 0!==t||(n.eventId=null),null!==(r=n.origin)&&void 0!==r||(n.origin="web"),n};function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function X(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==W(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===W(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z=function(e){return"https://optmzly.fe.indazn.com/datafiles/".concat(e,".json")},Q=(X(K={},M.environments.DEVELOPMENT,Z("JyLouS99GhsV9tM9rkT81p")),X(K,M.environments.TESTING,Z("JyLouS99GhsV9tM9rkT81p")),X(K,M.environments.EDGE,Z("JyLouS99GhsV9tM9rkT81p")),X(K,M.environments.STAGING,Z("2en9cd458VXYuiT2qTPGh6")),X(K,M.environments.PRODUCTION,Z("EG81YwqcK6nE62HXHW6uVG")),K),$=(X(G={},M.environments.DEVELOPMENT,"https://features.fe.indazn.com/staging/datafile-tag-web.json"),X(G,M.environments.TESTING,"https://features.fe.indazn.com/staging/datafile-tag-web.json"),X(G,M.environments.EDGE,"https://features.fe.indazn.com/staging/datafile-tag-web.json"),X(G,M.environments.STAGING,"https://features.fe.indazn.com/staging/datafile-tag-web.json"),X(G,M.environments.PRODUCTION,"https://features.fe.indazn.com/production/datafile-tag-web.json"),G);!function(e){(function(e){var t=new URL(e.location.href).searchParams.get("suitestAppId");if(t){var r=document.createElement("script");r.classList.add("protected"),r.src="https://il.suite.st/app/".concat(t,".js"),document.head.appendChild(r)}})(e),function(e){var t=e.window,r=e.config,n=r.environment===M.environments.PRODUCTION,o=(0,M.createStorageModule)(t),i=function(e){return{run:function(t){var r=t.environment,n=t.chapterLanguage,o=t.chapterName,i=t.startupCountry,a=t.lifecycleEvents;M.environments.TESTING!==r&&a.onChapterLoad((function(){var t,a,u,s=((t=document.createElement("style")).classList.add("protected"),t.innerHTML='\n    [data-test-id="cookie-disclaimer-wrapper"],\n    [data-test-id="COOKIE_CONTAINER"],\n    [class^="cookie-disclaimer__container__"],\n    [class^="cookie-banner__Wrapper"],\n    [class^="CookieDisclaimer___cookie-disclaimer"],\n    [data-test-id="COOKIE_CONTAINER"],\n    [class^=cookieDisclaimer___container___],\n    [class^=cookie-disclaimer___container___] {\n        display: none !important;\n    }\n',document.head.appendChild(t),function(){t&&t.parentElement&&t.parentElement.removeChild(t)});e.addEventListener("consent.onetrust",(function(){var t=0,r=e.setInterval((function(){t+=1,e.Optanon?(e.Optanon.GetDomainData().ShowAlertNotice||s(),e.clearInterval(r)):t>10&&e.clearInterval(r)}),1e3)})),a={"data-domain-script":M.environments.PRODUCTION===r?J:Y,"data-language":x({chapterName:o,startupCountry:i,chapterLanguage:n})},(u=F(a)).src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",document.head.appendChild(u),function(e,t){var r=F(void 0);r.innerHTML="function OptanonWrapper() { }",document.head.appendChild(r)}()}))},getOneTrustConsentGroups:function(){return H(e)},getUserConsent:function(){return Promise.resolve().then((function(){var t=H(e)||{};return{performance:"1"===t.C0002,functional:"1"===t.C0003,targeting:"1"===t.C0004,googleAdsStorage:"1"===t.C0007,personalisedAds:"1"===t.C0008,gdprConsent:j(e)}}))}}}(t),a=(0,M.createMainModules)(t,{asyncStorage:o,__HACK__languageStorage:!1,launchURL:t.location.href,applicationType:"web.hybrid.2",gtmContainerId:n?"GTM-N329VR8":"GTM-WDPTMX4",authChapterName:M.chapterNames.SIGN_IN,configurationJSON:r,devModeIndicatorVariant:"line",manufacturer:"",targetVersion:"28.6.0",maxSplashScreenVisibilityTime:null,selectorsExcludedFromCleaning:[],splashScreenBehaviour:"remove",onReady:function(){return Promise.resolve({model:"N/A"})},exitApp:function(){return t.close()},restartApp:function(){return t.location.reload()},getLanguages:M.getBrowserLanguages,handleFeEvent:M.handleCommonFeEvent,getOneTrustConsentGroups:i.getOneTrustConsentGroups,getUserConsent:i.getUserConsent,getPlayerTarget:function(){return null},fetchDeviceId:null,fetchPartnerAccessCode:null,getAdvertisingDeviceId:null,closedCaptionsAPI:null,textToSpeechAPI:null,optimizelyDatafileURL:Q[r.environment],featurevisorDatafileURL:$[r.environment]}),u=a.nrTrace,s=a.module,c=a.waitForFFlag,l=a.initMainModules,f=a.handleInitError,d=a.loadInitialChapter;Promise.resolve().then(l).then((function(){return c().then(u.wrapAsyncFn("browserCheck",(function(){if(s.fflag.isEnabledAnonymous("f_bootstrap_browser_deprecation_enabled"))throw(0,k.createEraroError)("Unsupported browser",k.eraroCodesMap.category.UnsupportedBrowser,k.eraroCodesMap.code.GenericError,k.eraroCodesMap.internal.GenericError)})))})).then(u.wrapAsyncFn("cookieBanner",(function(){return i.run({environment:r.environment,lifecycleEvents:s.navigation.lifecycleEvents,chapterLanguage:s.navigation.getLanguage(),chapterName:(0,k.getChapterName)(s.navigation.getCurrentChapter()),startupCountry:s.startup.getStartupDataCountry()})}))).then(u.wrapAsyncFn("exposePromoIdFromLocalStorage",(function(){var e="promoCode";return o.getItem(e).then((function(t){t&&(s.startup.setPromoId(t),o.removeItem(e))}))}))).then((function(){var e=function(e){var t,r=new URL(e.location.href).searchParams,n=""!==r.toString(),o=r.get("chapterName"),i=null!==(t=r.get("path"))&&void 0!==t?t:void 0,a=(0,k.isChapterName)(o)?o:void 0;return a||i||n?{chapterName:a,chapterPath:i,chapterData:n?q(r):null}:null}(t);return null!=e&&e.chapterName&&t.history.pushState({},document.title,"/".concat(s.configuration.chapters.homePage(e.chapterName))),d(e)})).catch(f)}({window:e,config:D(e)})}(window)})()})()</script><link rel="stylesheet" href="/static/main-28.6.0-c18e3bb9f469272ddbdaea4d5eac200d.css" class="protected"></head><body style="background-color:#0c161c"><div class="protected" id="end-of-the-world" style="display:none" aria-hidden="true"></div><div style=" position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 1000;" class="bootstrap-splash protected"><div class="bootstrap-splash_rubix-wrapper"> <div class="bootstrap-splash_rubix"> <div class="bootstrap-splash_top"></div> <div class="bootstrap-splash_bottom"></div> <div class="bootstrap-splash_left"></div> <div class="bootstrap-splash_right"></div> </div>
</div>
<style>.bootstrap-splash_rubix,
.bootstrap-splash_rubix div:after,
.bootstrap-splash_rubix div:before { background: url('data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgODAgODAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ5LjIgMjcuNmwyLjYtOC42IDIuNyA4LjZoLTUuM3ptMTIuOSA3LjZsLTYuOC0yMC40Yy0uMS0uNS0uMy0uOC0uNS0xbC0xLS4xaC0zLjdjLS40IDAtLjcgMC0uOS4yLS4yLjItLjQuNC0uNS45bC02LjggMjAuNC0uMS42YzAgLjUuMy44LjkuOEg0NmwuNC0uMi4yLS40LjMtLjcgMS0zLjVoNy43bDEuMSAzLjVjMCAuMy4yLjUuMy43bC4yLjQuNC4xaDMuNmMuNiAwIC45LS4yLjktLjd2LS4zbC0uMS0uM3ptLTMuMyA4LjJoLTIuMmMtLjYgMC0xIC4xLTEuMS4zLS4yLjEtLjMuNS0uMyAxdjEybC02LjMtMTJjLS4zLS42LS42LTEtLjgtMS0uMi0uMi0uNy0uMy0xLjMtLjNoLTJjLS41IDAtMSAuMS0xLjEuMy0uMi4xLS4zLjUtLjMgMVY2NWMwIC41LjEuOC4zIDFsMSAuMkg0N2MuNSAwIC45IDAgMS0uMi4zLS4yLjMtLjUuMy0xVjUyLjlsNi40IDEyLjJjLjMuNS41LjkuOCAxIC4yLjIuNi4yIDEuMy4yaDJjLjUgMCAuOSAwIDEtLjIuMi0uMi4zLS41LjMtMVY0NC42YzAtLjQgMC0uOC0uMi0xbC0xLjEtLjJ6bTEwLjYtMkw3NSA0N3YyOEg1VjQ3bDUuNi01LjVjLjgtLjguOC0yLjIgMC0zTDUgMzNWNWg3MHYyOGwtNS42IDUuNWMtLjguOC0uOCAyLjIgMCAzek04MCAwSDB2MzUuNEw0LjYgNDAgMCA0NC42VjgwaDgwVjQ0LjZMNzUuNCA0MGw0LjYtNC42VjB6TTM1LjYgNjEuNmgtOUwzNiA0OC4ybC4zLS41LjEtLjV2LTIuNmMwLS40IDAtLjgtLjMtMWwtMS0uMkgyMS4yYy0uNSAwLS44LjEtMSAuM2wtLjIgMS4xdjJjMCAuNSAwIDEgLjIgMS4xLjIuMi41LjMgMSAuM2g4LjVsLTkuNCAxMy40Yy0uMy4zLS40LjYtLjQuOVY2NWMwIC41LjEuOC4zIDEgLjIuMS41LjIgMS4xLjJoMTQuMmMuNSAwIC44IDAgMS0uMmwuMi0xLjJ2LTJjMC0uNS0uMS0uOS0uMy0xLS4xLS4yLS40LS4zLTEtLjN6bS00LjItMzQuMmwtLjIgMi4yYy0uMS42LS4zIDEuMS0uNiAxLjVsLTEgLjhhNSA1IDAgMCAxLTEuNy4yaC0yLjZWMThoMi42YzEuMiAwIDIuMS40IDIuNyAxLjIuNS43LjggMS45LjggMy41djQuNnptNC42LTkuM2E3LjYgNy42IDAgMCAwLTMuMS0zLjNjLTEuMy0uOC0zLTEuMS01LTEuMWgtNi41Yy0uNiAwLTEgMC0xLjEuMi0uMi4yLS4zLjUtLjMgMXYyMC41YzAgLjUuMS44LjMgMSAuMi4xLjUuMiAxLjEuMmg3LjRjMy41IDAgNS45LTEuNSA3LjItNC41bC42LTIgLjItMi43VjIzbC0uMi0yLjljLS4xLS43LS4zLTEuMy0uNi0yeiIgZmlsbD0iI0Y4RjhGNSIgbWFzaz0idXJsKCNtYXNrLTIpIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=');
}

@keyframes bootstrap-splash_rubix-left { 0% { transform: rotateX(0); } 25% { transform: rotateX(100deg); } 40% { transform: rotateX(85deg); } 49.9% { transform: rotateX(90deg); } 50% { transform: rotateX(0) rotateY(90deg); } 100% { transform: rotateX(0) rotateY(90deg); }
}

@keyframes bootstrap-splash_rubix-right { 0% { transform: rotateX(90deg); } 25% { transform: rotateX(-10deg); } 40% { transform: rotateX(5deg); } 49.9% { transform: rotateX(0); } 50% { transform: rotateX(90deg) rotateZ(90deg); } 100% { transform: rotateX(90deg) rotateZ(90deg); }
}

@keyframes bootstrap-splash_rubix-top { 0% { transform: rotateY(0) rotateX(90deg); } 49.9% { transform: rotateY(0) rotateX(90deg); } 50% { transform: rotateY(90deg); } 75% { transform: rotateY(-10deg); } 90% { transform: rotateY(5deg); } 100% { transform: rotateY(0); }
}

@keyframes bootstrap-splash_rubix-bottom { 0% { transform: rotateY(90deg) rotateZ(-90deg); } 49.9% { transform: rotateY(90deg) rotateZ(-90deg); } 50% { transform: rotateY(0) rotateZ(0); } 75% { transform: rotateY(100deg) rotateZ(0); } 90% { transform: rotateY(85deg) rotateZ(0); } 100% { transform: rotateY(90deg) rotateZ(0); }
}

.bootstrap-splash_rubix-wrapper { background: #070d10; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
}

.bootstrap-splash_rubix { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 100px; height: 100px;
}

.bootstrap-splash_rubix div { width: 100%; height: 100%; position: absolute;
}

.bootstrap-splash_rubix div:after,
.bootstrap-splash_rubix div:before { backface-visibility: hidden; -webkit-backface-visibility: hidden; position: absolute;
}

.bootstrap-splash_rubix .bootstrap-splash_left:after,
.bootstrap-splash_rubix .bootstrap-splash_right:after,
.bootstrap-splash_rubix .bootstrap-splash_left:before,
.bootstrap-splash_rubix .bootstrap-splash_right:before { width: 50%; height: 100%; background-size: 200% 100%;
}

.bootstrap-splash_rubix .bootstrap-splash_left { animation-name: bootstrap-splash_rubix-left;
}

.bootstrap-splash_rubix .bootstrap-splash_right { left: 50%; animation-name: bootstrap-splash_rubix-right;
}

.bootstrap-splash_rubix .bootstrap-splash_right:after,
.bootstrap-splash_rubix .bootstrap-splash_right:before { background-position: -100% 0;
}

.bootstrap-splash_rubix .bootstrap-splash_top:after,
.bootstrap-splash_rubix .bootstrap-splash_bottom:after,
.bootstrap-splash_rubix .bootstrap-splash_top:before,
.bootstrap-splash_rubix .bootstrap-splash_bottom:before { width: 100%; height: 50%; background-size: 100% 200%;
}

.bootstrap-splash_rubix .bootstrap-splash_top { animation-name: bootstrap-splash_rubix-top;
}

.bootstrap-splash_rubix .bootstrap-splash_bottom { top: 50%; animation-name: bootstrap-splash_rubix-bottom;
}

.bootstrap-splash_rubix .bootstrap-splash_bottom:after,
.bootstrap-splash_rubix .bootstrap-splash_bottom:before { background-position: 0 -100%;
}

@supports (transform-style: preserve-3d) { .bootstrap-splash_rubix { background: none; transform: scale(0.8) translate(-50%, -50%); perspective: 250px; } .bootstrap-splash_rubix div:after, .bootstrap-splash_rubix div:before { content: ''; } .bootstrap-splash_rubix div { transform-style: preserve-3d; animation: bootstrap-splash_rubix-left 1.9s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite; } .bootstrap-splash_rubix div:after { transform: translateZ(49px); } .bootstrap-splash_rubix .bootstrap-splash_left:before, .bootstrap-splash_rubix .bootstrap-splash_right:before { transform: rotateX(-90deg) translateZ(50px); } .bootstrap-splash_rubix .bootstrap-splash_top:before, .bootstrap-splash_rubix .bootstrap-splash_bottom:before { transform: rotateY(-90deg) translateZ(50px); }
}
</style></div><div style=" position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 1000;" class="bootstrap-splash protected"><div class="bootstrap-splash_spinner-container"> <div class="bootstrap-splash_spinner-splash"></div>
</div>
<style>@keyframes spin { 100% { transform: rotate(360deg); }
}

.bootstrap-splash_spinner-container { position: absolute; top: 0; width: 100vw; height: 100vh; background: #0c161c; z-index: 101;
}

.bootstrap-splash_spinner-splash { position: absolute; top: 50%; left: 50%; margin: -25px; height: 50px; width: 50px; border-top: 5px solid #fff; border-right: 5px solid transparent; border-radius: 50%; box-shadow: -3px -5px 5px -6px #fff; animation: spin 1s linear infinite;
}
</style></div></body></html>